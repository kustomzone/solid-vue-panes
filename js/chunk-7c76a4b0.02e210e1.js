(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c76a4b0"],{a934:function(e,t,n){},c8c2:function(e,t,n){"use strict";var r=n("a934"),o=n.n(r);o.a},f345:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-chat-send"},[null!=e.webId?n("b-input-group",{staticClass:" input",attrs:{size:"lg"}},[n("b-form-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:e.send}},[e._v("Send")])],1)],1):n("SolidLoginButton",{staticClass:"mt-3 input"})],1)},o=[],a=(n("d3b7"),n("96cf"),n("1da1")),s=n("4d8d"),i=n("6dc1"),l=n("00e8"),c=n.n(l),u=n("9b92"),d=u.namedNode,f=window.SolidFileClient;console.log("SFC",f);var g=new f(c.a);console.log(g);var w=window.solid;console.log("SOLID",w);var b={name:"SolidChatSend",components:{SolidLoginButton:function(){return n.e("chunk-dfc178b4").then(n.bind(null,"e9a1"))}},data:function(){return{message:""}},computed:{fileUrl:function(){return this.$store.state.chat.fileUrl},webId:function(){return this.$store.state.solid.webId}},watch:{webId:function(e){console.log("Webid",e)},fileUrl:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.itemExists(e.fileUrl);case 2:if(t.sent){t.next=7;break}return t.next=5,g.postFile(e.fileUrl,"","text/turtle").then((function(e){console.log("File Created",e)})).catch((function(e){return console.error("Error: ".concat(e))}));case 5:t.next=8;break;case 7:console.log("File exist",e.fileUrl);case 8:case"end":return t.stop()}}),t)})))()}},methods:{send:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,l,c,u,f,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.state.solid.webId,r=e.$store.state.chat.root,console.log(e.fileUrl),!(e.message.length>0&&null!=n)){t.next=27;break}return console.log(e.message),o=new Date,a="Msg"+o.getTime(),l=o.toISOString(),console.log("WEBID",e.$store.state.solid.webId,e.fileUrl),c=r+"/index.ttl#this",console.log("TODO : must integrate "+c+" in tripledoc or batch ldflex"),u=e.fileUrl+"#"+a,console.log(u),t.next=15,w.data.from(e.fileUrl)[c]["http://www.w3.org/2005/01/wf/flow#message"].add(d(u));case 15:return t.next=17,Object(s["b"])(e.fileUrl);case 17:return f=t.sent,g=f.addSubject({identifier:a}),g.addLiteral(i["g"].content,e.message),g.addLiteral(i["a"].created,l),g.addNodeRef(i["b"].maker,n),t.next=24,f.save();case 24:e.message="",t.next=28;break;case 27:alert("Oh Oh, if yu wanna post yu gotta log in ;-)");case 28:case"end":return t.stop()}}),t)})))()}}},p=b,m=(n("c8c2"),n("2877")),h=Object(m["a"])(p,r,o,!1,null,"66dadf90",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-7c76a4b0.02e210e1.js.map