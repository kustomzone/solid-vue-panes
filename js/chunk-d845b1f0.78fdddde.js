(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d845b1f0"],{1404:function(t,e,a){"use strict";a("a15b"),a("fb6a"),a("b0c0"),a("96cf");var i=a("1da1"),n=a("4d8d"),r=a("6dc1");e["a"]={created:function(){this.webId=this.$store.state.solid.webId,this.config(this.webId);var t=new Date;this.date=this.formatDate(t)},methods:{sendActivity:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i,c,o,s,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.activity),a=new Date,i="Activity_"+a.getTime(),c=a.toISOString(),o=t.formatDate(a),console.log(t.activity.actor.name,t.activity.type,t.activity.summary,o),s=t.pubPod+o+".ttl",d={},e.prev=8,e.next=11,Object(n["b"])(s);case 11:d=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e["catch"](8),e.next=18,Object(n["a"])(s);case 18:d=e.sent;case 19:return console.log("webId",t.webId),t.activity.summary.length<1&&(t.activity.summary=[t.activity.actor.name,t.activity.type,"a",t.activity.object.type,"with name",t.activity.object.name].join(" ")),l=d.addSubject({identifier:i}),l.addLiteral(r["e"].label,t.activity.object.name),l.addLiteral(r["a"].created,c),l.addRef(r["b"].maker,t.webId),l.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),l.addRef(r["d"].type,"https://www.w3.org/ns/activitystreams#"+t.activity.type),l.addLiteral("https://www.w3.org/ns/activitystreams#summary",t.activity.summary),l.addRef("https://www.w3.org/ns/activitystreams#object",t.activity.object.url),void 0!=t.currentWorkspace?l.addRef(r["d"].type,t.currentWorkspace.path+t.activity.object.type):l.addRef(r["d"].type,t.activity.object.url+"#"+t.activity.object.type),e.next=32,d.save();case 32:case"end":return e.stop()}}),e,null,[[8,14]])})))()},send:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i,c,o,s,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.activity),a=t.pubPod+t.date+".ttl",i=new Date,c="Activity_"+i.getTime(),o=i.toISOString(),s={},e.prev=6,e.next=9,Object(n["b"])(a);case 9:s=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](6),e.next=16,Object(n["a"])(a);case 16:s=e.sent;case 17:return d=[t.activity.actor.name,t.activity.type,"a",t.activity.object.type,"with name",t.activity.object.name].join(" "),l=s.addSubject({identifier:c}),l.addLiteral(r["e"].label,d),l.addLiteral(r["a"].created,o),l.addRef(r["b"].maker,t.webId),l.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),l.addRef(r["d"].type,"https://www.w3.org/ns/activitystreams#"+t.activity.type),l.addLiteral("https://www.w3.org/ns/activitystreams#summary",t.activity.summary),l.addRef("https://www.w3.org/ns/activitystreams#object",t.activity.object.url),e.next=28,s.save();case 28:case"end":return e.stop()}}),e,null,[[6,12]])})))()},formatDate:function(t){return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")},config:function(t){this.config={},this.config.webId=t}},webId:{webId:function(t){this.config(t)}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},activities:{get:function(){return this.$store.state.agora.activities},set:function(){}}},data:function(){return{as:{core:["Object","Link","Activity","IntransitiveActivity","Collection","OrderedCollection","CollectionPage","OrderedCollectionPage"],activity:["Accept","Add","Announce","Arrive","Block","Create","Delete","Dislike","Flag","Follow","Ignore","Invite","Join","Leave","Like","Listen","Move","Offer","Question","Reject","Read","Remove","TentativeReject","TentativeAccept","Travel","Undo","Update","View"],actor:["Application","Group","Organization","Person","Service"],object:["Article","Audio","Document","Event","Image","Note","Page","Place","Profile","Relationship","Tombstone","Video","Mention"]},pubPod:"https://agora.solidcommunity.net/public/popock/inbox/"}}}},b280:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post-send container"},[a("h5",[t._v("PostSend")]),a("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Title"}},[a("b-form-input",{model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.post.text,callback:function(e){t.$set(t.post,"text",e)},expression:"post.text"}}),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-info"},on:{click:t.send}},[t._v("Send")])],1)},n=[],r=(a("a15b"),a("fb6a"),a("b0c0"),a("96cf"),a("1da1")),c=a("1404"),o=a("4d8d"),s=a("6dc1"),d={name:"PostSend",mixins:[c["a"]],components:{},props:["value"],data:function(){return{post:{}}},created:function(){this.storage=this.$store.state.solid.storage,this.webId=this.$store.state.solid.webId},watch:{storage:function(t){console.log(t),this.path=t+"public/blog/"}},methods:{send:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,r,c,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Date,i=a.toISOString(),n=[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"),t.path=t.storage+"public/blog/",r=t.path+n+".ttl",console.log(t.post),console.log(t.path),console.log(t.fileUrl),c={},e.prev=9,e.next=12,Object(o["b"])(r);case 12:c=e.sent,e.next=20;break;case 15:return e.prev=15,e.t0=e["catch"](9),e.next=19,Object(o["a"])(r);case 19:c=e.sent;case 20:return console.log(c),d="Article_"+a.getTime(),l=c.addSubject({identifier:d}),l.addLiteral(s["e"].label,t.post.title),l.addLiteral(s["a"].created,i),l.addRef(s["b"].maker,t.webId),l.addRef(s["d"].type,"https://www.w3.org/ns/activitystreams#Article"),l.addLiteral(s["g"].content,t.post.text),e.prev=28,e.next=31,c.save();case 31:t.activity={actor:{},object:{},summary:""},t.activity.actor.name=t.webId,t.activity.type="https://www.w3.org/ns/activitystreams#Create",t.activity.object.name=t.post.title,t.activity.object.type="Article",t.activity.object.url=r+"#"+d,t.sendActivity(),e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),alert(e.t1);case 43:t.post={};case 44:case"end":return e.stop()}}),e,null,[[9,15],[28,40]])})))()}},computed:{storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},webId:{get:function(){return this.$store.state.solid.webId},set:function(){}}}},l=d,u=a("2877"),p=Object(u["a"])(l,i,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-d845b1f0.78fdddde.js.map