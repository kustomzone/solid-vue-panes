{"version":3,"sources":["webpack:///./src/components/profile/ExtendedProfile.vue?e04a","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/components/profile/ExtendedProfile.vue?0e3d","webpack:///src/components/profile/ExtendedProfile.vue","webpack:///./src/components/profile/ExtendedProfile.vue?37f4","webpack:///./src/components/profile/ExtendedProfile.vue?59ae","webpack:///./src/mixins/ToastMixin.js"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","editTopic","_v","directives","name","rawName","value","expression","domProps","composing","interest","addInterest","_e","_l","key","_s","stopPropagation","delInterest","staticRenderFns","mixins","ToastMixin","data","interests","watch","methods","computed","webId","profile","profile_url","get","set","component","makeToast","title","content","variant","$bvToast","toast","solid"],"mappings":"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","file":"js/chunk-987b31c8.69be471d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtendedProfile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtendedProfile.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modele-view\"},[_c('hr',{staticStyle:{\"margin\":\"8px auto\"}}),_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){_vm.editTopic = !_vm.editTopic}}},[_c('b-icon-pen'),_vm._v(\" Interest Topics\")],1),_c('hr',{staticStyle:{\"margin\":\"8px auto\"}}),(_vm.editTopic == true)?_c('div',[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.interest),expression:\"interest\"}],staticClass:\"form-control\",attrs:{\"id\":\"interest\",\"type\":\"text\",\"placeholder\":\"I'm intersted in...\",\"aria-label\":\"Interest\",\"aria-describedby\":\"interest-label\"},domProps:{\"value\":(_vm.interest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.interest=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"submit_btn\",\"type\":\"button\"},on:{\"click\":_vm.addInterest}},[_vm._v(\"Add \"),_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"id\":\"submit_spinner\",\"hidden\":\"\",\"role\":\"status\",\"aria-hidden\":\"true\"}})])])])]):_vm._e(),_vm._l((_vm.interests),function(interest){return _c('button',{key:interest,staticClass:\"btn btn-outline-info btn-sm\",attrs:{\"type\":\"button\"}},[_vm._v(\" \"+_vm._s(interest)+\" \"),(_vm.editTopic == true)?_c('b-icon-trash-fill',{on:{\"click\":function($event){$event.stopPropagation();return _vm.delInterest(interest)}}}):_vm._e()],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modele-view\">\r\n    <!--  <a href=\"https://scenaristeur.github.io/salut\" target=\"_blank\">\r\n    Temporary external Edit on Salut App</a>-->\r\n    <hr style=\"margin:8px auto\">\r\n    <b-button @click=\"editTopic = !editTopic\" variant=\"info\"> <b-icon-pen></b-icon-pen> Interest Topics</b-button>\r\n    <hr style=\"margin:8px auto\">\r\n    <div  v-if=\"editTopic == true\">\r\n      <div class=\"input-group mb-3\">\r\n        <input id=\"interest\" v-model=\"interest\" type=\"text\" class=\"form-control\"\r\n        placeholder=\"I'm intersted in...\" aria-label=\"Interest\"\r\n        aria-describedby=\"interest-label\">\r\n        <div class=\"input-group-append\">\r\n          <button id=\"submit_btn\" class=\"btn btn-primary\" type=\"button\" @click=\"addInterest\">Add\r\n            <span id=\"submit_spinner\" class=\"spinner-border spinner-border-sm\" hidden role=\"status\" aria-hidden=\"true\"></span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <button type=\"button\" v-for=\"interest in interests\" :key=\"interest\" class=\"btn btn-outline-info btn-sm\">\r\n      {{interest}}\r\n      <b-icon-trash-fill @click.stop=\"delInterest(interest)\" v-if=\"editTopic == true\"></b-icon-trash-fill>\r\n    </button>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ToastMixin from '@/mixins/ToastMixin'\r\nimport { fetchDocument, createDocument } from 'tripledoc';\r\nimport { foaf } from 'rdf-namespaces'\r\n\r\nexport default {\r\n  name: 'ExtendedProfile',\r\n  mixins: [ToastMixin],\r\n  data() {\r\n    return {\r\n      interests: [],\r\n      interest:\"\",\r\n      editTopic: false\r\n    }\r\n  },\r\n  async created(){\r\n    this.profile_url = await this.$store.state.solid.storage+\"popock/profile.ttl\"\r\n    this.getOrCreate(this.profile_url)\r\n    this.$route.params.interest != undefined ?   this.interest = this.$route.params.interest :\"\"\r\n    this.editTopic = this.interest.length > 0\r\n\r\n  },\r\n  watch: {\r\n    async profile_url(p_u){\r\n      this.getOrCreate(p_u)\r\n    }\r\n  },\r\n  methods:{\r\n    async getOrCreate(p_u){\r\n      try{\r\n        this.makeToast(\"Get\", p_u)\r\n        this.profileDoc = await fetchDocument(p_u)\r\n        let subj = await this.profileDoc.getSubject(this.profile_url+\"#me\")\r\n        this.interests = await subj.getAllLiterals(foaf.topic_interest)\r\n      }catch(e){\r\n        this.makeToast(\"Create\", p_u)\r\n        this.profileDoc = await createDocument(p_u)\r\n      }\r\n    },\r\n    async  addInterest(){\r\n      //https://github.com/scenaristeur/salut/blob/master/src/interests-element.js\r\n      //    console.log(this.interest, this.profile_url)\r\n      this.interests.push(this.interest)\r\n      //  await solid.data[this.profile_url].foaf$topic_interest.add(this.interest)\r\n      this.profileDoc = {}\r\n      let me = {}\r\n      try{\r\n        this.profileDoc = await fetchDocument(this.profile_url)\r\n        me = await this.profileDoc.getSubject(this.profile_url+\"#me\")\r\n      }\r\n      catch(e){\r\n        this.profileDoc = await createDocument(this.profile_url)\r\n        me = await this.profileDoc.addSubject(this.profile_url+\"#me\")\r\n      }\r\n      //  me.addRef(foaf.topic_interest, this.interest)\r\n      me.addLiteral(foaf.topic_interest, this.interest)\r\n      //  me.addNodeRef(foaf.topic_interest, this.interest)\r\n      await this.profileDoc.save()\r\n      this.interest = \"\"\r\n\r\n    },\r\n    async delInterest(interest){\r\n      console.log(interest)\r\n      /*   let index = e.target.getAttribute(\"index\")\r\n      let interest = this.interests[index]\r\n\r\n      this.interests.splice(index,1);\r\n      */\r\n      this.profileDoc = await fetchDocument(this.profile_url)\r\n      this.interests = this.interests.filter(function(value){ return value != interest});\r\n      console.log(this.interests, interest)\r\n      let me = await this.profileDoc.getSubject(this.profile_url+\"#me\")\r\n      //  me.removeRef(foaf.topic_interest, interest)\r\n      me.removeLiteral(foaf.topic_interest, interest)\r\n      console.log(me)\r\n      await this.profileDoc.save()\r\n\r\n    }\r\n  },\r\n  computed:{\r\n    webId(){return this.$store.state.solid.webId},\r\n    profile(){return this.$store.state.solid.profile},\r\n\r\n    profile_url:{\r\n      get: function() { return this.$store.state.solid.storage+\"public/popock/profile.ttl\"},\r\n      set: function() {}\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.modele-view {\r\n  text-align: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtendedProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtendedProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtendedProfile.vue?vue&type=template&id=c8c0716a&\"\nimport script from \"./ExtendedProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtendedProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExtendedProfile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nexport default {\r\n  methods: {\r\n    makeToast(title, content, variant = null) {\r\n      this.$bvToast.toast(content , {\r\n        title: title,\r\n        variant: variant,\r\n        solid: true\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}