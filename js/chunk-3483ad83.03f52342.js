(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3483ad83"],{"01c9":function(e,t,n){"use strict";var s=n("f88f"),r=n.n(s);r.a},baa5:function(e,t,n){var s=n("23e7"),r=n("e58c");s({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},e58c:function(e,t,n){"use strict";var s=n("fc6a"),r=n("a691"),a=n("50c4"),i=n("a640"),o=n("ae40"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,d=i("lastIndexOf"),f=o("indexOf",{ACCESSORS:!0,1:0}),h=c||!d||!f;e.exports=h?function(e){if(c)return u.apply(this,arguments)||0;var t=s(this),n=a(t.length),i=n-1;for(arguments.length>1&&(i=l(i,r(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:u},eeb9:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-chat-send"},[null!=e.webId?n("b-input-group",{staticClass:"mt-3 input"},[n("b-form-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:e.send}},[e._v("Send")])],1)],1):n("SolidLoginButton",{staticClass:"mt-3 input"})],1)},r=[],a=(n("baa5"),n("d3b7"),n("96cf"),n("1da1")),i=n("4d8d"),o=n("6dc1"),l={name:"ParleSend",components:{SolidLoginButton:function(){return n.e("chunk-034e0f2f").then(n.bind(null,"e9a1"))}},data:function(){return{message:""}},created:function(){if(this.fileUrl=this.$store.state.parle.fileUrl,this.root=this.$store.state.parle.root,this.url=this.$store.state.parle.url,void 0!=this.url&&this.url.length>0){var e=this.url.substring(this.url.lastIndexOf("/")+1);console.log(e),this.message="New chat started from "+this.url+" at "+this.root+e,this.send()}},methods:{send:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,s,r,a,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.state.solid.webId,console.log(e.fileUrl),!(e.message.length>0&&null!=n)){t.next=29;break}return console.log(e.message),s=new Date,r="Msg"+s.getTime(),a=s.toISOString(),console.log("WEBID",e.$store.state.solid.webId,e.$store.state.count),l={},t.prev=9,t.next=12,Object(i["b"])(e.fileUrl);case 12:l=t.sent,t.next=20;break;case 15:return t.prev=15,t.t0=t["catch"](9),t.next=19,Object(i["a"])(e.fileUrl);case 19:l=t.sent;case 20:return u=l.addSubject({identifier:r}),u.addLiteral(o["g"].content,e.message),u.addLiteral(o["a"].created,a),u.addNodeRef(o["b"].maker,n),t.next=26,l.save();case 26:e.message="",t.next=30;break;case 29:alert("You must login before posting ;-)");case 30:case"end":return t.stop()}}),t,null,[[9,15]])})))()}},watch:{url:function(e){console.log("url changed",e);var t=e.substring(e.lastIndexOf("/")+1);console.log(t),this.$store.commit("parle/setFileUrl",this.path+t),this.bascule(this.path+t)}},computed:{webId:function(){return this.$store.state.solid.webId},url:{get:function(){return this.$store.state.parle.url},set:function(){}}}},u=l,c=(n("01c9"),n("2877")),d=Object(c["a"])(u,s,r,!1,null,"388c4ff9",null);t["default"]=d.exports},f88f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-3483ad83.03f52342.js.map