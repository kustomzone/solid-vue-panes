(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71defd28"],{"0a49":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"group-display"},[r("b-card",[r("b-card-header",[r("router-link",{attrs:{to:{name:"Groups",params:{url:e.file.parent+e.group.name}}}},[e._v(e._s(e.group.name||e.file.name))])],1),r("b-card-text",[r("GroupMembers",{attrs:{url:e.file.url,members:e.group.members}}),r("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.open("modal-members-"+e.file.url)}}},[e._v(e._s(e.group.members.length)+" Members")]),r("b-button",{attrs:{to:{name:"Groups",params:{url:e.file.parent+e.group.name}},disabled:0==e.group.subgroups.length,variant:"outline-info"}},[e._v(e._s(e.group.subgroups.length)+" subgroups")]),r("div",[r("b-button-group",[r("b-dropdown",{attrs:{variant:"outline-info",right:"",split:"",text:"menu"}},[r("b-dropdown-item",{on:{click:function(t){return e.open("modal-subgroups-"+e.file.url)}}},[e._v("New subgroup")])],1)],1)],1)],1),r("blockquote",{staticClass:"blockquote mb-0"},[r("footer",{staticClass:"blockquote-footer"},[r("div",{staticClass:"created"},[e._v(" "+e._s(e.file.modified)+" ")]),r("cite",{attrs:{title:"Purpose"}},[e._v(e._s(e.group.purpose))])])])],1),r("b-modal",{attrs:{id:"modal-subgroups-"+e.file.url,title:"SubGroups"},on:{ok:e.add}},[r("b-form-group",[r("label",{attrs:{for:"name"}},[e._v("Group Name")]),r("b-form-input",{attrs:{id:"name",placeholder:"ex: "+e.name},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("label",{attrs:{for:"purpose"}},[e._v("Group Purpose")]),r("b-form-input",{attrs:{id:"purpose",placeholder:"ex: Build Solid Cool apps..."},model:{value:e.purpose,callback:function(t){e.purpose=t},expression:"purpose"}}),r("label",{attrs:{for:"parent"}},[e._v("Parent / Supercircle")]),r("b-form-input",{attrs:{id:"parent",placeholder:"ex: Supercircle"},model:{value:e.parent,callback:function(t){e.parent=t},expression:"parent"}}),r("label",{attrs:{for:"url"}},[e._v("Group location")]),r("b-form-input",{attrs:{id:"url",placeholder:"ex: "+e.url},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1)],1)},a=[],o=(r("b0c0"),r("d3b7"),r("ac1f"),r("5319"),r("498a"),r("96cf"),r("1da1")),i=r("b335"),s={methods:{makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}},u=r("4d8d"),c=r("6dc1"),l={name:"GroupDisplay",mixins:[i["a"],s],components:{GroupMembers:function(){return r.e("chunk-2d2176ea").then(r.bind(null,"c766"))}},props:["file"],data:function(){return{group:{members:[],subgroups:[]},name:"",purpose:""}},created:function(){this.init()},watch:{storage:function(e){console.log(e)}},methods:{add:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.name=e.name.trim().replace(/\s/g,"_"),console.log(e.name,e.url),r=new Date,n=r.toISOString(),e.path=e.url+e.name+".ttl",t.next=7,Object(u["a"])(e.path);case 7:return a=t.sent,o=a.addSubject({identifier:"this"}),o.addLiteral(c["i"].fn,e.name),o.addNodeRef(c["c"].inbox,"./"+e.name+"/inbox/"),o.addLiteral(c["a"].created,n),o.addNodeRef(c["b"].maker,e.webId),o.addNodeRef(c["i"].hasMember,e.webId),o.addNodeRef(c["i"].hasMember,"https://spoggy-test4.solid.community/profile/card#me"),o.addNodeRef(c["i"].hasMember,"https://spoggy-test5.solid.community/profile/card#me"),o.addNodeRef(c["i"].hasMember,"https://spoggy.solid.community/profile/card#me"),o.addLiteral("http://www.w3.org/ns/org#purpose",e.purpose),o.addNodeRef("http://www.w3.org/ns/org#subOrganizationOf",e.parent),t.next=21,Object(u["b"])(e.parent);case 21:return i=t.sent,s=i.getSubject(e.parent+"#this"),s.addNodeRef("http://www.w3.org/ns/org#hasSubOrganization",e.path),t.prev=24,t.next=27,a.save();case 27:return t.next=29,i.save();case 29:e.makeToast("Group created",e.path,"success"),e.makeToast("Parent updated",e.parent,"success"),e.$emit("created"),e.init(),t.next=38;break;case 35:t.prev=35,t.t0=t["catch"](24),alert(t.t0);case 38:case"end":return t.stop()}}),t,null,[[24,35]])})))()},init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGroup(e.file.url);case 2:e.group=t.sent;case 3:case"end":return t.stop()}}),t)})))()},open:function(e){this.$bvModal.show(e)}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},url:function(){return this.file.parent+this.group.name+"/"},parent:function(){return this.file.url}}},p=l,d=(r("fe3f"),r("2877")),f=Object(d["a"])(p,n,a,!1,null,null,null);t["default"]=f.exports},"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),o=r("7b0b"),i=r("50c4"),s=r("a691"),u=r("1d80"),c=r("8aa5"),l=r("14c3"),p=Math.max,d=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,w=h?"$":"$0";return[function(r,n){var a=u(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!h&&v||"string"===typeof n&&-1===n.indexOf(w)){var o=r(t,e,this,n);if(o.done)return o.value}var u=a(e),f=String(this),m="function"===typeof n;m||(n=String(n));var b=u.global;if(b){var k=u.unicode;u.lastIndex=0}var S=[];while(1){var _=l(u,f);if(null===_)break;if(S.push(_),!b)break;var R=String(_[0]);""===R&&(u.lastIndex=c(f,i(u.lastIndex),k))}for(var $="",E=0,N=0;N<S.length;N++){_=S[N];for(var O=String(_[0]),G=p(d(s(_.index),f.length),0),M=[],y=1;y<_.length;y++)M.push(g(_[y]));var j=_.groups;if(m){var I=[O].concat(M,G,f);void 0!==j&&I.push(j);var T=String(n.apply(void 0,I))}else T=x(O,f,G,M,j,n);G>=E&&($+=f.slice(E,G)+T,E=G+O.length)}return $+f.slice(E)}];function x(e,r,n,a,i,s){var u=n+e.length,c=a.length,l=b;return void 0!==i&&(i=o(i),l=m),t.call(s,l,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=i[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>c){var p=f(l/10);return 0===p?t:p<=c?void 0===a[p-1]?o.charAt(1):a[p-1]+o.charAt(1):t}s=a[l-1]}return void 0===s?"":s}))}}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},b335:function(e,t,r){"use strict";r("b0c0"),r("96cf");var n=r("1da1"),a=r("4d8d"),o=r("6dc1");t["a"]={methods:{getGroup:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={members:[],subgroups:[]},t.next=3,Object(a["b"])(e);case 3:return n=t.sent,i=n.findSubject(),r.name=i.getLiteral(o["i"].fn),r.members=i.getAllNodeRefs(o["i"].hasMember),r.purpose=i.getLiteral("http://www.w3.org/ns/org#purpose"),r.parent=i.getNodeRef("http://www.w3.org/ns/org#subOrganizationOf"),r.subgroups=i.getAllNodeRefs("http://www.w3.org/ns/org#hasSubOrganization"),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))()},makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}},c8d2:function(e,t,r){var n=r("d039"),a=r("5899"),o="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||o[e]()!=o||a[e].name!==e}))}},f8a3:function(e,t,r){},fe3f:function(e,t,r){"use strict";var n=r("f8a3"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-71defd28.42269b3d.js.map