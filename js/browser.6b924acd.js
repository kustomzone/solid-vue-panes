(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["browser"],{"159b":function(e,t,r){var n=r("da84"),o=r("fdbc"),i=r("17c2"),a=r("9112");for(var l in o){var s=n[l],c=s&&s.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),i=r("ae40"),a=o("forEach"),l=i("forEach");e.exports=a&&l?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),o=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"65f0":function(e,t,r){var n=r("861d"),o=r("e8b5"),i=r("b622"),a=i("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"6d6f":function(e,t,r){},a36b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"browser"},[null!=e.webId?r("div",[r("b-list-group",["https://"!=e.folder.parent?r("b-list-group-item",{staticClass:"item",on:{click:function(t){return e.updateFolder(e.folder.parent)}}},[r("b-icon-arrow-up"),e._v(" "+e._s(e.folder.url)+" ")],1):r("b-list-group-item",{staticClass:"item"},[e._v(" "+e._s(e.storage)+" ")]),r("div",[r("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and dropdown menu"}},[r("b-button-group",{staticClass:"mx-1"},[r("b-button",{attrs:{title:"New Folder"},on:{click:e.init_folder}},[r("b-icon-folder-plus")],1),r("b-button",{attrs:{title:"Upload Files"},on:{click:function(t){return e.$refs.fileInput.$el.childNodes[0].click()}}},[r("b-icon-files")],1),r("b-button",{attrs:{title:"Upload Folder"},on:{click:function(t){return e.$refs.folderInput.$el.childNodes[0].click()}}},[r("b-icon-folder-symlink")],1)],1)],1),r("b-form-file",{ref:"fileInput",staticStyle:{display:"none"},attrs:{placeholder:"upload files","drop-placeholder":"Drop file here...",multiple:""},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),r("b-form-file",{ref:"folderInput",staticStyle:{display:"none"},attrs:{placeholder:"Upload directory","drop-placeholder":"Upoload directory",directory:"",multiple:""},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1),e._l(e.folder.folders,(function(t){return r("b-list-group-item",{key:t.name,staticClass:"item list-group-item d-flex justify-content-between",on:{click:function(r){return e.selected(t)},contextmenu:function(r){return r.preventDefault(),e.right(t)}}},[r("p",{staticClass:"p-0 m-0 flex-grow-1"},[r("b-icon-folder2"),e._v(" "+e._s(t.name))],1),r("b-button",{attrs:{size:"sm mr-2",variant:"outline-primary"}},[r("b-icon-alt",{attrs:{variant:"primary"},on:{click:function(r){return r.stopPropagation(),e.init_move(t)}}})],1),r("b-button",{attrs:{size:"sm",variant:"outline-danger"}},[r("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(r){return r.stopPropagation(),e.init_trash(t)}}})],1)],1)}))],2),r("b-list-group",e._l(e.folder.files,(function(t){return r("b-list-group-item",{key:t.name,staticClass:"item list-group-item d-flex justify-content-between",on:{click:function(r){return e.selected(t)},contextmenu:function(r){return r.preventDefault(),e.right(t)}}},[r("p",{staticClass:"p-0 m-0 flex-grow-1"},[r("b-icon-file-text"),e._v(" "+e._s(t.name))],1),r("b-button",{attrs:{size:"sm mr-2",variant:"outline-primary",disabled:""}},[r("b-icon-download")],1),r("b-button",{attrs:{size:"sm mr-2",variant:"outline-primary"}},[r("b-icon-alt",{attrs:{variant:"primary"},on:{click:function(r){return r.stopPropagation(),e.init_move(t)}}})],1),r("b-button",{attrs:{size:"sm",variant:"outline-danger"}},[r("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(r){return r.stopPropagation(),e.init_trash(t)}}})],1)],1)})),1)],1):r("div",[r("SolidLoginButton")],1),r("b-modal",{attrs:{id:"context-menu",title:e.contextTitle}},[r("b-list-group",[r("b-input-group",{attrs:{prepend:"Rename"}},[r("b-form-input",{model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1)],1)],1),r("b-modal",{attrs:{id:"confirm-trash",title:"Trash"},on:{ok:e.trash}},[e._v(" Are you sure you want to delete "),r("b-icon-trash",{attrs:{variant:"danger"}}),r("b",[e._v(e._s(e.currentItem.name))]),e._v(" ("+e._s(e.currentItem.type)+") "),r("b-icon-trash",{attrs:{variant:"danger"}}),e._v(" and all its content ? "),r("br"),r("small",[e._v(" "+e._s(e.currentItem.url)+" ")])],1),r("b-modal",{attrs:{id:"move",title:"Are you sure you want to move or rename"},on:{ok:e.move}},[e._v(" name : "+e._s(e.currentItem.name)+" "),r("br"),r("small",[e._v(" "+e._s(e.currentItem.url)+" ")]),r("b-input-group",{attrs:{size:"sm",prepend:"New location"}},[r("b-form-input",{model:{value:e.new_location,callback:function(t){e.new_location=t},expression:"new_location"}})],1)],1),r("b-modal",{attrs:{id:"folder-modal",title:"New Folder"},on:{ok:e.createFolder}},[r("b-input-group",{attrs:{size:"sm",prepend:"New Folder"}},[r("b-form-input",{model:{value:e.new_folder,callback:function(t){e.new_folder=t},expression:"new_folder"}})],1)],1)],1)},o=[],i=(r("4160"),r("b0c0"),r("d3b7"),r("159b"),r("96cf"),r("1da1")),a=r("93ef"),l=r("00e8"),s=r.n(l),c=window.SolidFileClient,u=new c(s.a),d={name:"Browser",components:{SolidLoginButton:function(){return r.e("chunk-034e0f2f").then(r.bind(null,"e9a1"))}},created:function(){void 0!=this.$route.query.path&&this.updateFolder(this.$route.query.path)},data:function(){return{contextTitle:"",currentItem:{},newName:"",new_location:"",new_folder:"",files:[]}},watch:{files:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),n=t.folder.url,console.log(n),r.next=5,e.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t,r),o=t.webkitRelativePath.length>0?n+t.webkitRelativePath:n+t.name,console.log(o,t,t.type),e.next=5,u.createFile(o,t,t.type);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 5:t.updateFolder(t.folder.url);case 6:case"end":return r.stop()}}),r)})))()}},methods:{selected:function(e){"folder"==e.type?this.$store.dispatch("solid/updateFolder",e.url):this.$store.dispatch("solid/updateFile",e)},init_folder:function(){this.$bvModal.show("folder-modal")},createFolder:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.new_folder),!(e.new_folder.length>0)){t.next=15;break}return r=e.folder.url+e.new_folder,console.log(r),t.next=6,u.itemExists(r);case 6:if(t.sent){t.next=11;break}return t.next=9,u.createFolder(r);case 9:t.next=12;break;case 11:alert(r+" already exists");case 12:e.updateFolder(e.folder.url),t.next=16;break;case 15:alert("folder name can not be empty");case 16:case"end":return t.stop()}}),t)})))()},right:function(e){console.log("right",e),this.contextTitle=e.name,this.newName=e.name,this.$bvModal.show("context-menu"),this.currentItem=e},init_trash:function(e){console.log(e),this.$bvModal.show("confirm-trash"),this.currentItem=e},init_move:function(e){console.log(e),this.$bvModal.show("move"),this.currentItem=e,this.new_location=e.url},move:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Move",e.currentItem.type,e.currentItem.url,"to",e.new_location),"folder"!=e.currentItem.type){t.next=6;break}return t.next=4,u.move(e.currentItem.url,e.new_location);case 4:t.next=8;break;case 6:return t.next=8,u.move(e.currentItem.url,e.new_location);case 8:e.updateFolder(e.folder.url);case 9:case"end":return t.stop()}}),t)})))()},trash:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Trash",e.currentItem.type,e.currentItem.url),"folder"==e.currentItem.type){t.next=7;break}return t.next=4,Object(a["b"])(e.currentItem.url);case 4:console.log("File deleted !"),t.next=9;break;case 7:return t.next=9,u.deleteFolder(e.currentItem.url);case 9:e.updateFolder(e.folder.url);case 10:case"end":return t.stop()}}),t)})))()},updateFolder:function(e){this.$store.dispatch("solid/updateFolder",e)}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},folder:function(){return this.$store.state.solid.folder}}},f=d,p=(r("f112"),r("2877")),m=Object(p["a"])(f,n,o,!1,null,null,null);t["default"]=m.exports},b727:function(e,t,r){var n=r("0366"),o=r("44ad"),i=r("7b0b"),a=r("50c4"),l=r("65f0"),s=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d;return function(p,m,b,h){for(var v,w,g=i(p),x=o(g),y=n(m,b,3),_=a(x.length),k=0,L=h||l,I=t?L(p,_):r?L(p,0):void 0;_>k;k++)if((f||k in x)&&(v=x[k],w=y(v,k,g),e))if(t)I[k]=w;else if(w)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:s.call(I,v)}else if(u)return!1;return d?-1:c||u?u:I}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},f112:function(e,t,r){"use strict";var n=r("6d6f"),o=r.n(n);o.a},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=browser.6b924acd.js.map