(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47dd9cd0"],{"159b":function(e,t,r){var n=r("da84"),o=r("fdbc"),a=r("17c2"),i=r("9112");for(var s in o){var c=n[s],u=c&&c.prototype;if(u&&u.forEach!==a)try{i(u,"forEach",a)}catch(d){u.forEach=a}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),a=r("ae40"),i=o("forEach"),s=a("forEach");e.exports=i&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),o=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"498a":function(e,t,r){"use strict";var n=r("23e7"),o=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},5319:function(e,t,r){"use strict";var n=r("d784"),o=r("825a"),a=r("7b0b"),i=r("50c4"),s=r("a691"),c=r("1d80"),u=r("8aa5"),d=r("14c3"),p=Math.max,f=Math.min,l=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,w=b?"$":"$0";return[function(r,n){var o=c(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!b&&m||"string"===typeof n&&-1===n.indexOf(w)){var a=r(t,e,this,n);if(a.done)return a.value}var c=o(e),l=String(this),g="function"===typeof n;g||(n=String(n));var v=c.global;if(v){var S=c.unicode;c.lastIndex=0}var L=[];while(1){var E=d(c,l);if(null===E)break;if(L.push(E),!v)break;var k=String(E[0]);""===k&&(c.lastIndex=u(l,i(c.lastIndex),S))}for(var y="",R=0,T=0;T<L.length;T++){E=L[T];for(var $=String(E[0]),O=p(f(s(E.index),l.length),0),M=[],N=1;N<E.length;N++)M.push(h(E[N]));var _=E.groups;if(g){var I=[$].concat(M,O,l);void 0!==_&&I.push(_);var G=String(n.apply(void 0,I))}else G=x($,l,O,M,_,n);O>=R&&(y+=l.slice(R,O)+G,R=O+$.length)}return y+l.slice(R)}];function x(e,r,n,o,i,s){var c=n+e.length,u=o.length,d=v;return void 0!==i&&(i=a(i),d=g),t.call(s,d,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var d=+a;if(0===d)return t;if(d>u){var p=l(d/10);return 0===p?t:p<=u?void 0===o[p-1]?a.charAt(1):o[p-1]+a.charAt(1):t}s=o[d-1]}return void 0===s?"":s}))}}))},"550c":function(e,t,r){"use strict";var n=r("82a5"),o=r.n(n);o.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),o=r("5899"),a="["+o+"]",i=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(e,t,r){var n=r("861d"),o=r("e8b5"),a=r("b622"),i=a("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8203:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"groups-view"},[r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("Name")])]},proxy:!0}])},[r("b-form-input",{model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1),r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("Purpose")])]},proxy:!0}])},[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:e.group.purpose,callback:function(t){e.$set(e.group,"purpose",t)},expression:"group.purpose"}})],1),r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("SubGroupOf")])]},proxy:!0}])},[r("b-form-select",{attrs:{options:e.options},model:{value:e.group.parent,callback:function(t){e.$set(e.group,"parent",t)},expression:"group.parent"}})],1),r("b-button",{on:{click:e.save}},[e._v("Save")])],1)},o=[],a=(r("4160"),r("b0c0"),r("ac1f"),r("5319"),r("498a"),r("159b"),r("96cf"),r("1da1")),i=r("4d8d"),s=r("6dc1"),c=r("00e8"),u=r.n(c),d=r("86bb"),p=window.SolidFileClient,f=new p(u.a),l={name:"GroupEdit",mixins:[d["a"]],components:{},data:function(){return{group:{},options:[]}},created:function(){this.webId=this.$store.state.solid.webId,this.groups=this.$store.state.gouvernance.groups},watch:{groups:function(e){console.log(e),this.setOptions()}},methods:{save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,c,u,d,p,l,g,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.group,e.$store.state.crud.workspace),r=e.$store.state.crud.workspace+"Group/",n=e.group.name.trim(),o=n.replace(/\s/g,"_"),console.log(n,r),a=new Date,c=a.toISOString(),u=r+o+"/index.ttl",console.log(u),t.prev=9,t.next=12,Object(i["b"])(u);case 12:d=t.sent,t.next=20;break;case 15:return t.prev=15,t.t0=t["catch"](9),t.next=19,Object(i["a"])(u);case 19:d=t.sent;case 20:return p=d.addSubject({identifier:"this"}),p.addLiteral(s["i"].fn,n),p.addNodeRef(s["c"].inbox,"./"+o+"/inbox/"),p.addLiteral(s["a"].created,c),p.addNodeRef(s["b"].maker,e.webId),p.addNodeRef(s["d"].type,s["i"].Group),p.addLiteral(s["e"].label,n),p.addNodeRef(s["i"].hasMember,e.webId),p.addNodeRef(s["i"].hasMember,"https://spoggy-test4.solid.community/profile/card#me"),p.addNodeRef(s["i"].hasMember,"https://spoggy-test5.solid.community/profile/card#me"),p.addNodeRef(s["i"].hasMember,"https://spoggy.solid.community/profile/card#me"),p.addNodeRef("http://www.w3.org/ns/org#purpose","http://www.w3.org/ns/org#Organization"),p.addLiteral("http://www.w3.org/ns/org#purpose",e.group.purpose),t.prev=33,t.next=36,d.save();case 36:e.makeToast("Group created",u,"success"),t.next=42;break;case 39:t.prev=39,t.t1=t["catch"](33),e.makeToast("Group creation error",u+t.t1,"danger");case 42:if(void 0==e.group.parent){t.next=59;break}return t.prev=43,l=e.group.parent+"index.ttl",p.addNodeRef("http://www.w3.org/ns/org#subOrganizationOf",l),t.next=48,Object(i["b"])(l);case 48:return g=t.sent,v=g.getSubject(l+"#this"),v.addNodeRef("http://www.w3.org/ns/org#hasSubOrganization",u),t.next=53,g.save();case 53:e.makeToast("Parent updated",l,"success"),t.next=59;break;case 56:t.prev=56,t.t2=t["catch"](43),e.makeToast("Parent update error",parent+t.t2,"danger");case 59:return e.group={},t.next=62,f.readFolder(r);case 62:e.folder=t.sent,console.log("FOLDER",e.folder),e.$store.commit("gouvernance/setGroups",e.folder);case 65:case"end":return t.stop()}}),t,null,[[9,15],[33,39],[43,56]])})))()},setOptions:function(){var e=this;this.options=[],this.groups.folders.forEach((function(t){e.options.push({value:t.url,text:decodeURI(t.name)})}))}},computed:{groups:{get:function(){return this.$store.state.gouvernance.groups},set:function(){}},webId:{get:function(){return this.$store.state.solid.webId},set:function(){}}}},g=l,v=(r("550c"),r("2877")),h=Object(v["a"])(g,n,o,!1,null,null,null);t["default"]=h.exports},"82a5":function(e,t,r){},"86bb":function(e,t,r){"use strict";t["a"]={methods:{makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}},b727:function(e,t,r){var n=r("0366"),o=r("44ad"),a=r("7b0b"),i=r("50c4"),s=r("65f0"),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,d=4==e,p=6==e,f=5==e||p;return function(l,g,v,h){for(var b,m,w=a(l),x=o(w),S=n(g,v,3),L=i(x.length),E=0,k=h||s,y=t?k(l,L):r?k(l,0):void 0;L>E;E++)if((f||E in x)&&(b=x[E],m=S(b,E,w),e))if(t)y[E]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:c.call(y,b)}else if(d)return!1;return p?-1:u||d?d:y}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c8d2:function(e,t,r){var n=r("d039"),o=r("5899"),a="​᠎";e.exports=function(e){return n((function(){return!!o[e]()||a[e]()!=a||o[e].name!==e}))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-47dd9cd0.7e6ba094.js.map