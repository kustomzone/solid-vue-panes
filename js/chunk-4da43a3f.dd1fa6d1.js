(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4da43a3f"],{5319:function(e,t,r){"use strict";var n=r("d784"),o=r("825a"),a=r("7b0b"),s=r("50c4"),i=r("a691"),u=r("1d80"),c=r("8aa5"),p=r("14c3"),d=Math.max,l=Math.min,g=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,w=b?"$":"$0";return[function(r,n){var o=u(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!b&&m||"string"===typeof n&&-1===n.indexOf(w)){var a=r(t,e,this,n);if(a.done)return a.value}var u=o(e),g=String(this),f="function"===typeof n;f||(n=String(n));var v=u.global;if(v){var k=u.unicode;u.lastIndex=0}var S=[];while(1){var $=p(u,g);if(null===$)break;if(S.push($),!v)break;var R=String($[0]);""===R&&(u.lastIndex=c(g,s(u.lastIndex),k))}for(var E="",y=0,_=0;_<S.length;_++){$=S[_];for(var O=String($[0]),I=d(l(i($.index),g.length),0),N=[],T=1;T<$.length;T++)N.push(h($[T]));var G=$.groups;if(f){var P=[O].concat(N,I,g);void 0!==G&&P.push(G);var j=String(n.apply(void 0,P))}else j=x(O,g,I,N,G,n);I>=y&&(E+=g.slice(y,I)+j,y=I+O.length)}return E+g.slice(y)}];function x(e,r,n,o,s,i){var u=n+e.length,c=o.length,p=v;return void 0!==s&&(s=a(s),p=f),t.call(i,p,(function(t,a){var i;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":i=s[a.slice(1,-1)];break;default:var p=+a;if(0===p)return t;if(p>c){var d=g(p/10);return 0===d?t:d<=c?void 0===o[d-1]?a.charAt(1):o[d-1]+a.charAt(1):t}i=o[p-1]}return void 0===i?"":i}))}}))},"550c":function(e,t,r){"use strict";var n=r("82a5"),o=r.n(n);o.a},8203:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"groups-view"},[r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("Name")])]},proxy:!0}])},[r("b-form-input",{model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1),r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("Purpose")])]},proxy:!0}])},[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:e.group.purpose,callback:function(t){e.$set(e.group,"purpose",t)},expression:"group.purpose"}})],1),r("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[e._v("SubGroupOf")])]},proxy:!0}])},[r("b-form-select",{attrs:{options:e.options},model:{value:e.group.parent,callback:function(t){e.$set(e.group,"parent",t)},expression:"group.parent"}})],1),r("b-button",{on:{click:e.save}},[e._v("Save")])],1)},o=[],a=(r("4160"),r("b0c0"),r("ac1f"),r("5319"),r("498a"),r("159b"),r("96cf"),r("1da1")),s=r("4d8d"),i=r("6dc1"),u=r("00e8"),c=r.n(u),p=r("86bb"),d=window.SolidFileClient,l=new d(c.a),g={name:"GroupEdit",mixins:[p["a"]],components:{},data:function(){return{group:{},options:[]}},created:function(){this.webId=this.$store.state.solid.webId,this.groups=this.$store.state.gouvernance.groups},watch:{groups:function(e){console.log(e),this.setOptions()}},methods:{save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,u,c,p,d,g,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.group,e.$store.state.crud.workspace),r=e.$store.state.crud.workspace+"Group/",n=e.group.name.trim(),o=n.replace(/\s/g,"_"),console.log(n,r),a=new Date,u=a.toISOString(),c=r+o+"/index.ttl",console.log(c),t.prev=9,t.next=12,Object(s["b"])(c);case 12:p=t.sent,t.next=20;break;case 15:return t.prev=15,t.t0=t["catch"](9),t.next=19,Object(s["a"])(c);case 19:p=t.sent;case 20:return d=p.addSubject({identifier:"this"}),d.addLiteral(i["i"].fn,n),d.addNodeRef(i["c"].inbox,"./"+o+"/inbox/"),d.addLiteral(i["a"].created,u),d.addNodeRef(i["b"].maker,e.webId),d.addNodeRef(i["d"].type,i["i"].Group),d.addLiteral(i["e"].label,n),d.addNodeRef(i["i"].hasMember,e.webId),d.addNodeRef(i["i"].hasMember,"https://spoggy-test4.solid.community/profile/card#me"),d.addNodeRef(i["i"].hasMember,"https://spoggy-test5.solid.community/profile/card#me"),d.addNodeRef(i["i"].hasMember,"https://spoggy.solid.community/profile/card#me"),d.addNodeRef("http://www.w3.org/ns/org#purpose","http://www.w3.org/ns/org#Organization"),d.addLiteral("http://www.w3.org/ns/org#purpose",e.group.purpose),t.prev=33,t.next=36,p.save();case 36:e.makeToast("Group created",c,"success"),t.next=42;break;case 39:t.prev=39,t.t1=t["catch"](33),e.makeToast("Group creation error",c+t.t1,"danger");case 42:if(void 0==e.group.parent){t.next=59;break}return t.prev=43,g=e.group.parent+"index.ttl",d.addNodeRef("http://www.w3.org/ns/org#subOrganizationOf",g),t.next=48,Object(s["b"])(g);case 48:return f=t.sent,v=f.getSubject(g+"#this"),v.addNodeRef("http://www.w3.org/ns/org#hasSubOrganization",c),t.next=53,f.save();case 53:e.makeToast("Parent updated",g,"success"),t.next=59;break;case 56:t.prev=56,t.t2=t["catch"](43),e.makeToast("Parent update error",parent+t.t2,"danger");case 59:return e.group={},t.next=62,l.readFolder(r);case 62:e.folder=t.sent,console.log("FOLDER",e.folder),e.$store.commit("gouvernance/setGroups",e.folder);case 65:case"end":return t.stop()}}),t,null,[[9,15],[33,39],[43,56]])})))()},setOptions:function(){var e=this;this.options=[],this.groups.folders.forEach((function(t){e.options.push({value:t.url,text:decodeURI(t.name)})}))}},computed:{groups:{get:function(){return this.$store.state.gouvernance.groups},set:function(){}},webId:{get:function(){return this.$store.state.solid.webId},set:function(){}}}},f=g,v=(r("550c"),r("2877")),h=Object(v["a"])(f,n,o,!1,null,null,null);t["default"]=h.exports},"82a5":function(e,t,r){},"86bb":function(e,t,r){"use strict";t["a"]={methods:{makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}}}]);
//# sourceMappingURL=chunk-4da43a3f.dd1fa6d1.js.map