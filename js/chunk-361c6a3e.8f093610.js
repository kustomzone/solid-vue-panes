(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-361c6a3e"],{"159b":function(e,t,r){var n=r("da84"),a=r("fdbc"),s=r("17c2"),c=r("9112");for(var o in a){var i=n[o],u=i&&i.prototype;if(u&&u.forEach!==s)try{c(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,a=r("a640"),s=r("ae40"),c=a("forEach"),o=s("forEach");e.exports=c&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),a=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4380:function(e,t,r){"use strict";r("4160"),r("b0c0"),r("159b"),r("96cf");var n=r("1da1"),a=r("4d8d"),s=r("6dc1"),c=window.solid;t["a"]={methods:{getProfile:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={friends:[]},r.webId=t,e.prev=2,e.next=5,Object(a["b"])(t);case 5:return n=e.sent,o=n.getSubject(t),e.next=9,o.getString(s["i"].fn);case 9:return r.name=e.sent,e.next=12,o.getString("http://www.w3.org/2006/vcard/ns#organization-name");case 12:return r.organization=e.sent,e.next=15,o.getString(s["i"].role);case 15:return r.role=e.sent,e.next=18,o.getRef(s["i"].hasAddress);case 18:if(i=e.sent,null==i){e.next=24;break}return u=n.getSubject(i),e.next=23,u.getString(s["i"].locality);case 23:r.locality=e.sent;case 24:return e.next=26,c.data[t].vcard$hasPhoto;case 26:l=e.sent,r.photo="".concat(l),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](2),this.makeToast(e.t0.message,t,"warning");case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this,[[2,30]])})));function t(t){return e.apply(this,arguments)}return t}(),getInboxUrls:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,Object(a["b"])(t);case 4:return n=e.sent,c=n.getSubject(t),e.next=8,c.getAllRefs(s["c"].inbox);case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,Object(a["b"])(t);case 4:return n=e.sent,c=n.getSubject(t),e.next=8,c.getAllRefs(s["b"].knows);case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),addIndex:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var c,o,i,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t+"/index.ttl#this",o=new Date,i=o.toISOString(),u=this.$store.state.solid.indexes.puti,e.next=6,Object(a["b"])(u.url);case 6:return l=e.sent,e.next=9,l.addSubject();case 9:return d=e.sent,d.addLiteral(s["e"].label,n),d.addNodeRef("http://www.w3.org/ns/solid/terms#forClass",r),d.addNodeRef("http://www.w3.org/ns/solid/terms#instance",c),d.addLiteral(s["a"].created,i),e.next=16,l.save();case 16:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),getIndexes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,i,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={puti:{instances:[],classes:[]},prti:{instances:[],classes:[]}},e.prev=1,e.next=4,Object(a["b"])(t);case 4:return c=e.sent,o=c.getSubject(t),e.next=8,o.getNodeRef("http://www.w3.org/ns/solid/terms#publicTypeIndex");case 8:return i=e.sent,e.next=11,o.getNodeRef("http://www.w3.org/ns/solid/terms#privateTypeIndex");case 11:return u=e.sent,r.puti.url=i,r.prti.url=u,e.next=16,Object(a["b"])(i);case 16:return l=e.sent,e.next=19,l.findSubjects("http://www.w3.org/ns/solid/terms#forClass");case 19:d=e.sent,d.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRef("http://www.w3.org/ns/solid/terms#forClass");case 2:return n=e.sent,e.next=5,t.getRef("http://www.w3.org/ns/solid/terms#instance");case 5:return a=e.sent,e.next=8,t.getString(s["a"].created);case 8:return c=e.sent,e.next=11,t.getString(s["e"].label);case 11:o=e.sent,r.puti.instances.push({instance:a,classe:n,label:o,created:c}),void 0==r.puti.classes[n]&&(r.puti.classes[n]=[]),r.puti.classes[n].push(a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](1);case 25:return console.log(t,r),e.abrupt("return",r);case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));function t(t){return e.apply(this,arguments)}return t}(),makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),s=r("b622"),c=s("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[c],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"8a79":function(e,t,r){"use strict";var n=r("23e7"),a=r("06cf").f,s=r("50c4"),c=r("5a34"),o=r("1d80"),i=r("ab13"),u=r("c430"),l="".endsWith,d=Math.min,p=i("endsWith"),f=!u&&!p&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!f&&!p},{endsWith:function(e){var t=String(o(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=s(t.length),a=void 0===r?n:d(s(r),n),i=String(e);return l?l.call(t,i,a):t.slice(a-i.length,a)===i}})},"98dd":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-instance"},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"name"}},[e._v("Instance Name:")])]),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"name",type:"text",placeholder:"Name of the instance"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"path"}},[e._v("Path:")])]),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"path",type:"text",placeholder:"Path to the instance folder"},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{typefor:"type"}},[e._v("Type:")])]),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"type",type:"text",placeholder:"http://www.w3.org/ns/pim/meeting#LongChat"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1)],1),r("div",[e._v("!! Don't forget to grant 'Everyone' to 'Posters' !!")]),r("b-button",{attrs:{variant:"info"},on:{click:e.add}},[e._v("Add")])],1)],1)},a=[],s=(r("a15b"),r("b0c0"),r("ac1f"),r("8a79"),r("1276"),r("96cf"),r("1da1")),c=r("4380"),o=r("eb27"),i=r("00e8"),u=r.n(i),l=window.SolidFileClient;console.log("SFC",l);var d=new l(u.a),p={name:"AddInstance",mixins:[c["a"],o["a"]],data:function(){return{name:"Instance Name",type:"http://www.w3.org/ns/pim/meeting#LongChat"}},created:function(){},methods:{add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.name=e.name.split(" ").join("_"),r=e.path.endsWith("/")?e.path+e.name+"/":e.path+"/"+e.name+"/",t.next=4,d.createFolder(r).then((function(e){console.log(e)}));case 4:return t.next=6,e.addIndex(e.fullpath,e.type,e.name);case 6:return console.log("index added"),t.next=9,e.getIndexes(e.webId);case 9:return n=t.sent,e.$store.commit("solid/setIndexes",n),t.next=13,e.readPublicAccess(r);case 13:return a={read:!0,append:!0,write:!1,control:!1},t.next=16,e.setPublicAccess(r,a);case 16:case"end":return t.stop()}}),t)})))()}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},path:function(){return this.storage+"public/Chat/"}}},f=p,h=r("2877"),b=Object(h["a"])(f,n,a,!1,null,null,null);t["default"]=b.exports},ab13:function(e,t,r){var n=r("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b727:function(e,t,r){var n=r("0366"),a=r("44ad"),s=r("7b0b"),c=r("50c4"),o=r("65f0"),i=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,p=5==e||d;return function(f,h,b,g){for(var w,m,x=s(f),v=a(x),j=n(h,b,3),k=c(v.length),y=0,O=g||o,S=t?O(f,k):r?O(f,0):void 0;k>y;y++)if((p||y in v)&&(w=v[y],m=j(w,y,x),e))if(t)S[y]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:i.call(S,w)}else if(l)return!1;return d?-1:u||l?l:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},eb27:function(e,t,r){"use strict";r("96cf");var n=r("1da1"),a=r("93ef"),s=r("4d8d"),c=r("6dc1"),o=r("00e8"),i=r.n(o),u=window.SolidFileClient;console.log("SFC",u);var l=new u(i.a);t["a"]={created:function(){},methods:{configureInbox:function(e,t){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var o,i,u,d,p,f,h,b,g,w,m,x,v,j,k,y;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("configureInbox",e,t,r.storage),o=r.storage+"popock/inbox_log.ttl",n.next=4,l.itemExists(e);case 4:if(i=n.sent,i){n.next=8;break}return n.next=8,l.createFolder(e);case 8:return u={},n.prev=9,n.next=12,Object(s["b"])(o);case 12:u=n.sent,n.next=24;break;case 15:return n.prev=15,n.t0=n["catch"](9),n.next=19,Object(s["a"])(o);case 19:return u=n.sent,d=u.addSubject(),d.addNodeRef(c["f"].about,"init"),n.next=24,u.save();case 24:return n.prev=24,n.next=27,Object(a["g"])(e);case 27:return p=n.sent,f=Object(a["c"])(p,t),h=Object(a["d"])(p),null==f&&alert("Are you sure that you have allowed me to 'CONTROL' your POD, I can't read Acl of "+e+". I got a NULL value !! Please check your POD / Preferences / Trusted Application. "),console.log("inbox_url: ",e,"inbox_exists: ",i,"agentAcces: ",f,"publicAccess:",h),n.next=34,l.itemExists(o);case 34:if(b=n.sent,console.log("inbox_log_file_exists:",b),Object(a["n"])(p)){n.next=44;break}if(Object(a["l"])(p)){n.next=39;break}throw new Error("The current user does not have permission to change access rights to this Resource.");case 39:if(Object(a["m"])(p)){n.next=41;break}throw new Error("The current user does not have permission to see who currently has access to this Resource.");case 41:g=Object(a["a"])(p),n.next=45;break;case 44:g=Object(a["e"])(p);case 45:return w=Object(a["q"])(g,t,{read:!0,append:!0,write:!0,control:!0}),m=Object(a["p"])(g,t,{read:!0,append:!0,write:!0,control:!0}),x=Object(a["s"])(g,{read:!0,append:!0,write:!1,control:!1}),v=Object(a["r"])(g,{read:!1,append:!0,write:!1,control:!1}),n.prev=49,n.next=52,Object(a["o"])(p,w);case 52:console.log("owner Resource"),n.next=58;break;case 55:n.prev=55,n.t1=n["catch"](49),console.log("todo if 409 conflict : must test if ok before patch");case 58:return n.prev=58,n.next=61,Object(a["o"])(p,m);case 61:console.log("owner default"),n.next=67;break;case 64:n.prev=64,n.t2=n["catch"](58),console.log("todo if 409 conflict : must test if ok before patch");case 67:return n.prev=67,n.next=70,Object(a["o"])(p,x);case 70:console.log("posters Resource"),n.next=76;break;case 73:n.prev=73,n.t3=n["catch"](67),console.log("todo if 409 conflict : must test if ok before patch");case 76:return n.prev=76,n.next=79,Object(a["o"])(p,v);case 79:console.log("submitters Default"),n.next=85;break;case 82:n.prev=82,n.t4=n["catch"](76),console.log("todo if 409 conflict : must test if ok before patch");case 85:return n.next=87,Object(a["g"])(o);case 87:if(j=n.sent,Object(a["n"])(j)){n.next=96;break}if(Object(a["l"])(j)){n.next=91;break}throw new Error("The current user does not have permission to change access rights to this Resource.");case 91:if(Object(a["m"])(j)){n.next=93;break}throw new Error("The current user does not have permission to see who currently has access to this Resource.");case 93:k=Object(a["a"])(j),n.next=97;break;case 96:k=Object(a["e"])(j);case 97:return console.log("Log acl",k),y=Object(a["s"])(k,{read:!0,append:!0,write:!1,control:!1}),n.next=101,Object(a["o"])(j,y);case 101:console.log("logfile Default"),n.next=107;break;case 104:n.prev=104,n.t5=n["catch"](24),console.log("erreur",n.t5);case 107:case"end":return n.stop()}}),n,null,[[9,15],[24,104],[49,55],[58,64],[67,73],[76,82]])})))()}}}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-361c6a3e.8f093610.js.map