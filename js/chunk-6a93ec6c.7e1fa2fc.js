(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a93ec6c"],{4380:function(e,t,n){"use strict";n("4160"),n("b0c0"),n("159b"),n("96cf");var r=n("1da1"),s=n("4d8d"),a=n("6dc1");t["a"]={methods:{getProfile:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={friends:[]},n.webId=t,e.prev=2,e.next=5,Object(s["b"])(t);case 5:r=e.sent,i=r.getSubject(t),n.name=i.getString(a["i"].fn),n.organization=i.getString("http://www.w3.org/2006/vcard/ns#organization-name"),n.role=i.getString(a["i"].role),n.photo=i.getString(a["i"].hasPhoto),n.bday=i.getString(a["i"].bday),n.gender=i.getString(a["i"].hasGender),n.note=i.getString(a["i"].note),n.friends=i.getAllRefs(a["b"].knows),o=i.getRef(a["i"].hasAddress),null!=o&&(c=r.getSubject(o),n.locality=c.getString(a["i"].locality),n.country=c.getString("http://www.w3.org/2006/vcard/ns#country-name"),n.postal=c.getString("http://www.w3.org/2006/vcard/ns#postal-code"),n.region=c.getString(a["i"].region),n.address=c.getString("http://www.w3.org/2006/vcard/ns#street-address")),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](2),this.makeToast(e.t0.message,t,"warning");case 22:return console.log(n),e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[2,19]])})));function t(t){return e.apply(this,arguments)}return t}(),getInboxUrls:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return r=e.sent,i=r.getSubject(t),e.next=8,i.getAllRefs(a["c"].inbox);case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getFriends:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return r=e.sent,i=r.getSubject(t),e.next=8,i.getAllRefs(a["b"].knows);case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),addIndex:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,o,c,u,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t+"/index.ttl#this",o=new Date,c=o.toISOString(),u=this.$store.state.solid.indexes.puti,e.next=6,Object(s["b"])(u.url);case 6:return d=e.sent,e.next=9,d.addSubject();case 9:return l=e.sent,l.addLiteral(a["e"].label,r),l.addNodeRef("http://www.w3.org/ns/solid/terms#forClass",n),l.addNodeRef("http://www.w3.org/ns/solid/terms#instance",i),l.addLiteral(a["a"].created,c),e.next=16,d.save();case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getIndexes:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,c,u,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={puti:{instances:[],classes:[]},prti:{instances:[],classes:[]}},e.prev=1,e.next=4,Object(s["b"])(t);case 4:return i=e.sent,o=i.getSubject(t),e.next=8,o.getNodeRef("http://www.w3.org/ns/solid/terms#publicTypeIndex");case 8:return c=e.sent,e.next=11,o.getNodeRef("http://www.w3.org/ns/solid/terms#privateTypeIndex");case 11:return u=e.sent,n.puti.url=c,n.prti.url=u,e.next=16,Object(s["b"])(c);case 16:return d=e.sent,e.next=19,d.findSubjects("http://www.w3.org/ns/solid/terms#forClass");case 19:l=e.sent,l.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRef("http://www.w3.org/ns/solid/terms#forClass");case 2:return r=e.sent,e.next=5,t.getRef("http://www.w3.org/ns/solid/terms#instance");case 5:return s=e.sent,e.next=8,t.getString(a["a"].created);case 8:return i=e.sent,e.next=11,t.getString(a["e"].label);case 11:o=e.sent,n.puti.instances.push({instance:s,classe:r,label:o,created:i}),void 0==n.puti.classes[r]&&(n.puti.classes[r]=[]),n.puti.classes[r].push(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](1);case 25:return console.log(t,n),e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));function t(t){return e.apply(this,arguments)}return t}(),makeToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:n,solid:!0})}}}},"98a8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"friend-add container"},[n("b-input-group",{staticClass:"mt-3",attrs:{prepend:"webId"}},[n("b-form-input",{model:{value:e.friend,callback:function(t){e.friend=t},expression:"friend"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"outline-success"},on:{click:e.add}},[e._v("Add")])],1)],1),e._v(" Want new Solid friend ? Add a button or a link in your own website to : "),n("b-alert",{attrs:{variant:"success",show:""}},[n("span",{domProps:{innerHTML:e._s(e.link)}})])],1)},s=[],a=(n("96cf"),n("1da1")),i=n("4380"),o=n("4d8d"),c=n("6dc1"),u={name:"FriendsAdd",mixins:[i["a"]],components:{},props:["value"],data:function(){return{friend:"https://spoggy.solid.community/profile/card#me",html:'<div><a href="#">This is example</a></div>'}},created:function(){void 0!=this.$route.query.add&&(this.friend=this.$route.query.add+this.$route.hash),this.webId=this.$store.state.solid.webId},methods:{add:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.friend,e.webId),t.next=4,Object(o["b"])(e.webId);case 4:return n=t.sent,r=n.getSubject(e.webId),t.next=8,r.addRef(c["b"].knows,e.friend);case 8:return t.next=10,n.save();case 10:return t.next=12,e.getFriends(e.webId);case 12:s=t.sent,e.$store.commit("solid/setFriends",s),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),alert(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},link:function(){console.log("route",this.$route,location.href);var e=location.protocol+location.host+location.pathname+"?add="+this.$store.state.solid.webId;return e}}},d=u,l=n("2877"),p=Object(l["a"])(d,r,s,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-6a93ec6c.7e1fa2fc.js.map