(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c1228d6"],{1276:function(e,n,t){"use strict";var r=t("d784"),i=t("44e7"),o=t("825a"),a=t("1d80"),c=t("4840"),u=t("8aa5"),s=t("50c4"),l=t("14c3"),d=t("9263"),f=t("d039"),p=[].push,g=Math.min,b=4294967295,h=!f((function(){return!RegExp(b,"y")}));r("split",2,(function(e,n,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(a(this)),o=void 0===t?b:t>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return n.call(r,e,o);var c,u,s,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,h=new RegExp(e.source,f+"g");while(c=d.call(h,r)){if(u=h.lastIndex,u>g&&(l.push(r.slice(g,c.index)),c.length>1&&c.index<r.length&&p.apply(l,c.slice(1)),s=c[0].length,g=u,l.length>=o))break;h.lastIndex===c.index&&h.lastIndex++}return g===r.length?!s&&h.test("")||l.push(""):l.push(r.slice(g)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,t){var i=a(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,t):r.call(String(i),n,t)},function(e,i){var a=t(r,e,this,i,r!==n);if(a.done)return a.value;var d=o(e),f=String(this),p=c(d,RegExp),x=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),m=new p(h?d:"^(?:"+d.source+")",v),w=void 0===i?b:i>>>0;if(0===w)return[];if(0===f.length)return null===l(m,f)?[f]:[];var _=0,y=0,E=[];while(y<f.length){m.lastIndex=h?y:0;var R,I=l(m,h?f:f.slice(y));if(null===I||(R=g(s(m.lastIndex+(h?0:y)),f.length))===_)y=u(f,y,x);else{if(E.push(f.slice(_,y)),E.length===w)return E;for(var S=1;S<=I.length-1;S++)if(E.push(I[S]),E.length===w)return E;y=_=R}}return E.push(f.slice(_)),E}]}),!h)},"14c3":function(e,n,t){var r=t("c6b6"),i=t("9263");e.exports=function(e,n){var t=e.exec;if("function"===typeof t){var o=t.call(e,n);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,n)}},"1dde":function(e,n,t){var r=t("d039"),i=t("b622"),o=t("2d00"),a=i("species");e.exports=function(e){return o>=51||!r((function(){var n=[],t=n.constructor={};return t[a]=function(){return{foo:1}},1!==n[e](Boolean).foo}))}},"44e7":function(e,n,t){var r=t("861d"),i=t("c6b6"),o=t("b622"),a=o("match");e.exports=function(e){var n;return r(e)&&(void 0!==(n=e[a])?!!n:"RegExp"==i(e))}},6547:function(e,n,t){var r=t("a691"),i=t("1d80"),o=function(e){return function(n,t){var o,a,c=String(i(n)),u=r(t),s=c.length;return u<0||u>=s?e?"":void 0:(o=c.charCodeAt(u),o<55296||o>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):o:e?c.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},8418:function(e,n,t){"use strict";var r=t("c04e"),i=t("9bf2"),o=t("5c6c");e.exports=function(e,n,t){var a=r(n);a in e?i.f(e,a,o(0,t)):e[a]=t}},"85fc":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"inbox container"},[null!=e.webId?t("div",[e._m(0),t("InboxSend"),t("div",[t("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and dropdown menu"}},[t("b-button-group",{staticClass:"mx-1"},[t("b-button",{attrs:{title:"refresh"}},[t("b-icon-mailbox",{attrs:{variant:"outline-success"},on:{click:function(n){return n.stopPropagation(),e.getMessages()}}})],1)],1)],1)],1),t("b-list-group",e._l(e.inbox.files.slice().reverse(),(function(e){return t("b-list-group-item",{key:e.name,staticClass:"d-flex align-items-center"},[t("MessageLine",{attrs:{message:e}})],1)})),1),e._v(" Subfolders ? "+e._s(e.inbox.folders)+" "),t("br")],1):t("div",[t("SolidLogin")],1),t("InboxDialogs")],1)},i=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",[e._v("To test the inbox, you can add me to your friends :"),t("br"),e._v(" "),t("a",{attrs:{href:"https://spoggy.solid.community/profile/card#me",target:"_blank"}},[e._v("https://spoggy.solid.community/profile/card#me")]),t("br"),e._v(" You have too "),t("a",{attrs:{href:"https://forum.solidproject.org/t/popock-bring-your-pod-in-your-pocket/3378/4?u=smag0",target:"_blank"}},[e._v("grant authenticated Agents & this app")]),e._v(" if you want to receive messages. ")])}],o=(t("fb6a"),t("d3b7"),t("ac1f"),t("1276"),t("96cf"),t("1da1")),a=t("00e8"),c=t.n(a),u=t("4380"),s=window.SolidFileClient;console.log("SFC",s);var l=new s(c.a),d={name:"Inbox",mixins:[u["a"]],components:{MessageLine:function(){return t.e("chunk-dacaf2b4").then(t.bind(null,"5d33"))},InboxSend:function(){return t.e("chunk-fda6be1a").then(t.bind(null,"da0b"))},InboxDialogs:function(){return Promise.all([t.e("chunk-48cb2279"),t.e("chunk-2d0e6cd2")]).then(t.bind(null,"99fb"))},SolidLogin:function(){return Promise.resolve().then(t.bind(null,"6bae"))}},data:function(){return{inbox_urls:"",friends:[],inbox_acl:{},inbox:{files:[]},webId:null}},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.webId=e.$store.state.solid.webId,n.next=3,e.updateInboxUrl();case 3:return e.inbox_urls=n.sent,e.current_inbox_url=e.inbox_urls[0],console.log(e.current_inbox_url),n.next=8,e.getMessages();case 8:return n.next=10,e.subscribe();case 10:case"end":return n.stop()}}),n)})))()},watch:{},methods:{getMessages:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l.readFolder(e.current_inbox_url);case 2:e.inbox=n.sent;case 3:case"end":return n.stop()}}),n)})))()},updateInboxUrl:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getInbox(e.webId);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},subscribe:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var t,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=e.current_inbox_url+"log.ttl",r="wss://"+e.current_inbox_url.split("/")[2],i=new WebSocket(r),i.onopen=function(){this.send("sub "+t),console.log("subscribe to INBOX",r,t)},o=e.getMessages,i.onmessage=function(e){console.log(e),e.data&&"pub"===e.data.slice(0,3)&&(console.log(e.data),o())};case 6:case"end":return n.stop()}}),n)})))()}}},f=d,p=t("2877"),g=Object(p["a"])(f,r,i,!1,null,null,null);n["default"]=g.exports},"8aa5":function(e,n,t){"use strict";var r=t("6547").charAt;e.exports=function(e,n,t){return n+(t?r(e,n).length:1)}},9263:function(e,n,t){"use strict";var r=t("ad6d"),i=t("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,c=o,u=function(){var e=/a/,n=/b*/g;return o.call(e,"a"),o.call(n,"a"),0!==e.lastIndex||0!==n.lastIndex}(),s=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=u||l||s;d&&(c=function(e){var n,t,i,c,d=this,f=s&&d.sticky,p=r.call(d),g=d.source,b=0,h=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(g="(?: "+g+")",h=" "+h,b++),t=new RegExp("^(?:"+g+")",p)),l&&(t=new RegExp("^"+g+"$(?!\\s)",p)),u&&(n=d.lastIndex),i=o.call(f?t:d,h),f?i?(i.input=i.input.slice(b),i[0]=i[0].slice(b),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:u&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),l&&i&&i.length>1&&a.call(i[0],t,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),e.exports=c},"9f7f":function(e,n,t){"use strict";var r=t("d039");function i(e,n){return RegExp(e,n)}n.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,n,t){"use strict";var r=t("23e7"),i=t("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,n,t){"use strict";var r=t("825a");e.exports=function(){var e=r(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n}},d784:function(e,n,t){"use strict";t("ac1f");var r=t("6eeb"),i=t("d039"),o=t("b622"),a=t("9263"),c=t("9112"),u=o("species"),s=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!i((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));e.exports=function(e,n,t,d){var g=o(e),b=!i((function(){var n={};return n[g]=function(){return 7},7!=""[e](n)})),h=b&&!i((function(){var n=!1,t=/a/;return"split"===e&&(t={},t.constructor={},t.constructor[u]=function(){return t},t.flags="",t[g]=/./[g]),t.exec=function(){return n=!0,null},t[g](""),!n}));if(!b||!h||"replace"===e&&(!s||!l||f)||"split"===e&&!p){var x=/./[g],v=t(g,""[e],(function(e,n,t,r,i){return n.exec===a?b&&!i?{done:!0,value:x.call(n,t,r)}:{done:!0,value:e.call(t,n,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),m=v[0],w=v[1];r(String.prototype,e,m),r(RegExp.prototype,g,2==n?function(e,n){return w.call(e,this,n)}:function(e){return w.call(e,this)})}d&&c(RegExp.prototype[g],"sham",!0)}},fb6a:function(e,n,t){"use strict";var r=t("23e7"),i=t("861d"),o=t("e8b5"),a=t("23cb"),c=t("50c4"),u=t("fc6a"),s=t("8418"),l=t("b622"),d=t("1dde"),f=t("ae40"),p=d("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),h=[].slice,x=Math.max;r({target:"Array",proto:!0,forced:!p||!g},{slice:function(e,n){var t,r,l,d=u(this),f=c(d.length),p=a(e,f),g=a(void 0===n?f:n,f);if(o(d)&&(t=d.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)?i(t)&&(t=t[b],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return h.call(d,p,g);for(r=new(void 0===t?Array:t)(x(g-p,0)),l=0;p<g;p++,l++)p in d&&s(r,l,d[p]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-1c1228d6.8ad4e78f.js.map