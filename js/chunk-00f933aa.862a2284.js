(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00f933aa"],{"02b0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modele-view"},[0==e.active?n("b-button",{on:{click:e.newOffer}},[e._v("New Offer")]):n("div",[n("hr"),n("h4",[e._v("Offering")]),e._v(" "),n("a",{attrs:{href:"http://purl.org/goodrelations/v1#Offering",target:"_blank"}},[e._v("? "),n("small",[e._v("Good Relations")])]),n("b-input-group",{attrs:{prepend:"Business Entity"}},[n("b-form-input",{model:{value:e.offer["gr:businessEntity"],callback:function(t){e.$set(e.offer,"gr:businessEntity",t)},expression:"offer['gr:businessEntity']"}})],1),n("b-input-group",{attrs:{prepend:"Business Function"}},[n("b-form-select",{attrs:{options:e.businessFunctionOptions},model:{value:e.offer["gr:hasBusinessFunction"],callback:function(t){e.$set(e.offer,"gr:hasBusinessFunction",t)},expression:"offer['gr:hasBusinessFunction']"}})],1),n("b-input-group",{attrs:{prepend:"Name"}},[n("b-form-input",{attrs:{placeholder:"Name of the Offering"},model:{value:e.offer["gr:name"],callback:function(t){e.$set(e.offer,"gr:name",t)},expression:"offer['gr:name']"}})],1),n("b-input-group",{attrs:{prepend:"Description"}},[n("b-form-textarea",{attrs:{id:"desc_textarea",placeholder:"Description of the Offering...",rows:"3","max-rows":"6"},model:{value:e.offer["gr:description"],callback:function(t){e.$set(e.offer,"gr:description",t)},expression:"offer['gr:description']"}})],1),n("h4",[e._v("Product or Service")]),n("b-input-group",{attrs:{prepend:"Name"}},[n("b-form-input",{attrs:{placeholder:"What is the product or Service ?"},model:{value:e.offer.object["gr:name"],callback:function(t){e.$set(e.offer.object,"gr:name",t)},expression:"offer.object['gr:name']"}})],1),n("b-input-group",{attrs:{prepend:"Add an Product / Service Property"}},[n("b-form-select",{attrs:{options:e.object_properties},model:{value:e.newProp,callback:function(t){e.newProp=t},expression:"newProp"}})],1),e.newProp.length>0?n("b-input-group",{attrs:{prepend:e.newProp}},[n("b-form-input",{attrs:{placeholder:e.newProp},model:{value:e.propValue,callback:function(t){e.propValue=t},expression:"propValue"}}),n("b-button",{on:{click:e.addProperty}},[e._v("Add")])],1):e._e(),Object.entries(e.offer.object).length>0?n("div",[e._v(" Résumé "),n("b-list-group",e._l(Object.entries(e.offer.object),(function(t,r){return n("b-list-group-item",{key:r},[n("h5",[e._v(e._s(t[0])+" :")]),"string"==typeof t[1]?n("div",[e._v(" "+e._s(t[1])+" ")]):e._l(t[1],(function(t,r){return n("div",{key:r},[e._v(" "+e._s(t)+" ")])}))],2)})),1)],1):e._e(),n("b-button",{attrs:{variant:"success"},on:{click:e.create}},[e._v("Submit")]),n("hr"),e._v(" "),n("hr"),e._v(" "),n("hr")],1)],1)},i=[],o=(n("4160"),n("a15b"),n("fb6a"),n("4fad"),n("ac1f"),n("1276"),n("159b"),n("53ca")),a=(n("96cf"),n("1da1")),s=n("4d8d"),c=n("6dc1"),l=n("1404"),u=n("46bd"),d={name:"SolidMixin",mixins:[l["a"]],methods:{putOnPod:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,i,o,a,l,u,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),r=new Date,i=r.toISOString(),o=[r.getFullYear(),("0"+(r.getMonth()+1)).slice(-2),("0"+r.getDate()).slice(-2)].join("-"),a=void 0!=e.folder.length&&e.folder.length>0?t.storage+e.folder:t.storage+"public/",l=a+o+".ttl",console.log(l),u={},n.prev=8,n.next=11,Object(s["b"])(l);case 11:u=n.sent,n.next=19;break;case 14:return n.prev=14,n.t0=n["catch"](8),n.next=18,Object(s["a"])(l);case 18:u=n.sent;case 19:return d=e.type.split(":")[1]+"_"+r.getTime(),console.log(d),f=u.addSubject({identifier:d}),f.addLiteral(c["e"].label,e["gr:name"]),f.addLiteral(c["a"].created,i),f.addRef(c["b"].maker,t.webId),f.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),n.next=28,t.addOtherProperties(f,e);case 28:return n.prev=28,n.next=31,u.save();case 31:console.log("DOC saved "),n.next=37;break;case 34:n.prev=34,n.t1=n["catch"](28),alert(n.t1);case 37:case"end":return n.stop()}}),n,null,[[8,14],[28,34]])})))()},addOtherProperties:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),n=t["@context"],console.log("context",n),r={},n.forEach((function(e){"object"==Object(o["a"])(e)&&(console.log(e),Object.entries(e).forEach((function(e){r[e[0]]=e[1]})))})),console.log("MAP",r),e.next=8,u["expand"](t);case 8:return i=e.sent,console.log(i),e.next=12,u["flatten"](t);case 12:return a=e.sent,console.log(a),e.next=16,u["toRDF"](t,{format:"application/n-quads"});case 16:s=e.sent,console.log(s),Object.entries(t).forEach((function(e){console.log(e[0],"->",e[1])}));case 19:case"end":return e.stop()}}),e)})))()}},computed:{storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},webId:{get:function(){return this.$store.state.solid.webId},set:function(){}}}},f={name:"OfferPost",mixins:[d],props:["value"],data:function(){return{active:!0,offer:{"@context":["https://www.w3.org/ns/activitystreams",{"@language":"en"},{gr:"http://purl.org/goodrelations/v1"}],"@id":"",type:"gr:Offering","gr:hasBusinessFunction":null,"gr:name":"","gr:description":"",published:"",object:{}},businessFunctionOptions:[{value:null,text:"Please select an Business Function (Selectionnez un type de transaction)"},{value:"gr:Sell",text:"Sell (Vente)"},{value:"gr:Buy",text:"Buy (Achat)"},{value:"gr:ProvideService",text:"Provide Service (Fourniture de Service)"},{value:"gr:Repair",text:"Repair (Reparation)"},{value:"gr:ConstructionInstallation",text:"Construction Installation"},{value:"gr:Dispose",text:"Dispose (Don)"},{value:"gr:LeaseOut",text:"Lease Out (Location)"},{value:"gr:Maintain",text:"Maintain (Maintenance)"}],object_properties:[{value:"gr:category",text:"category"},{value:"gr:color",text:"color"},{value:"gr:condition",text:"condition"},{value:"gr:datatypeProductOrServiceProperty",text:"datatypeProductOrServiceProperty"},{value:"gr:depth",text:"depth"},{value:"gr:description",text:"description"},{value:"gr:hasBrand",text:"hasBrand"},{value:"gr:hasEAN_UCC-13",text:"hasEAN_UCC"},{value:"gr:hasGTIN-14",text:"hasGTIN"},{value:"gr:hasGTIN-8",text:"hasGTIN"},{value:"gr:hasMPN",text:"hasMPN"},{value:"gr:hasManufacturer",text:"hasManufacturer"},{value:"gr:hasStockKeepingUnit",text:"hasStockKeepingUnit"},{value:"gr:height",text:"height"},{value:"gr:isAccessoryOrSparePartFor",text:"isAccessoryOrSparePartFor"},{value:"gr:isConsumableFor",text:"isConsumableFor"},{value:"gr:isSimilarTo",text:"isSimilarTo"},{value:"gr:name",text:"name"},{value:"gr:qualitativeProductOrServiceProperty",text:"qualitativeProductOrServiceProperty"},{value:"gr:quantitativeProductOrServiceProperty",text:"quantitativeProductOrServiceProperty"},{value:"gr:weight",text:"weight"},{value:"gr:width",text:"width"}],newProp:"",propValue:""}},created:function(){this.webId=this.$store.state.solid.webId,this.init()},methods:{newOffer:function(){this.active=!this.active},addProperty:function(){console.log(this.newProp,this.propValue),void 0==this.offer.object[this.newProp]&&(this.offer.object[this.newProp]=[]),this.propValue.length>0&&this.offer.object[this.newProp].push(this.propValue),this.propValue="",console.log(this.offer.object)},init:function(){this.offer["gr:businessEntity"]=this.webId},create:function(){var e=new Date,t=e.toISOString();this.offer.published=t,this.offer.actor=this.webId,this.offer.folder="public/Offering/",null==this.offer["gr:hasBusinessFunction"]?alert("you must select business Function"):(this.offer.publish=!0,console.log(this.offer),this.putOnPod(this.offer),this.active=!1)}},watch:{webId:function(){console.log(this.webId),this.init()}}},h=f,p=(n("43a9"),n("2877")),g=Object(p["a"])(h,r,i,!1,null,null,null);t["default"]=g.exports},"0d88":function(e,t,n){"use strict";const{isArray:r,isObject:i,isString:o}=n("68fa"),{asArray:a}=n("89ae"),{prependBase:s}=n("ddd7"),c=n("5950"),l=n("9093"),u=10;function d(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function f({context:e,base:t}){if(!e)return;const n=e["@context"];if(o(n))e["@context"]=s(t,n);else if(r(n))for(let r=0;r<n.length;++r){const e=n[r];o(e)?n[r]=s(t,e):i(e)&&f({context:{"@context":e},base:t})}else if(i(n))for(const r in n)f({context:n[r],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:c=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const u=[];for(const a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:s,cycles:c})),r(t)?u.push(...t):u.push(t);continue}if(null===a){u.push(new l({document:null}));continue}i(a)||d(t);const f=JSON.stringify(a);let h=this._get(f);h||(h=new l({document:a}),this._cacheResolvedContext({key:f,resolved:h,tag:"static"})),u.push(h)}return u}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:i}){t=s(r,t);const{context:o,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:i});r=a.documentUrl||t,f({context:o,base:r});const c=await this.resolve({activeCtx:e,context:o,documentLoader:n,base:r,cycles:i});return this._cacheResolvedContext({key:t,resolved:c,tag:a.tag}),c}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:a}){if(a.size>u)throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:u});if(a.has(t))throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,l;a.add(t);try{l=await n(t),s=l.document||null,o(s)&&(s=JSON.parse(s))}catch(d){throw new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:d})}if(!i(s))throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},l.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(l.contextUrl)),{context:s,remoteDoc:l}}}},1404:function(e,t,n){"use strict";n("a15b"),n("fb6a"),n("b0c0"),n("ac1f"),n("1276"),n("2ca0"),n("96cf");var r=n("1da1"),i=n("4d8d"),o=n("6dc1"),a=n("ae85");t["a"]={mixins:[a["a"]],created:function(){this.webId=this.$store.state.solid.webId,this.config(this.webId);var e=new Date;this.date=this.formatDate(e)},methods:{sendActivity:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.activity),n=new Date,r="Activity_"+n.getTime(),a=n.toISOString(),s=e.formatDate(n),console.log(e.activity.actor.name,e.activity.type,e.activity.summary,s),c=e.pubPod+s+".ttl",l={},t.prev=8,t.next=11,Object(i["b"])(c);case 11:l=t.sent,t.next=19;break;case 14:return t.prev=14,t.t0=t["catch"](8),t.next=18,Object(i["a"])(c);case 18:l=t.sent;case 19:return e.activity.summary.length<1&&(e.activity.summary=[e.activity.actor.name.split("/").slice(2,3)[0],e.localname(e.activity.type),"a",e.activity.object.type,"with name",e.activity.object.name].join(" ")),u=e.activity.object.type.startsWith("http")?e.activity.object.type:"https://www.w3.org/ns/activitystreams#"+e.activity.object.type,d=l.addSubject({identifier:r}),d.addLiteral(o["e"].label,e.activity.object.name),d.addLiteral(o["a"].created,a),d.addRef(o["b"].maker,e.webId),d.addRef("https://www.w3.org/ns/activitystreams#actor",e.webId),d.addRef(o["d"].type,u),d.addLiteral("https://www.w3.org/ns/activitystreams#summary",e.activity.summary),d.addRef("https://www.w3.org/ns/activitystreams#object",e.activity.object.url),void 0!=e.activity.object.inReplyTo&&d.addRef("https://www.w3.org/ns/activitystreams#inReplyTo",e.activity.object.inReplyTo),"https://www.w3.org/ns/activitystreams#Article"!=u?void 0!=e.currentWorkspace?d.addRef(o["d"].type,e.currentWorkspace.path+e.activity.object.type):d.addRef(o["d"].type,e.activity.object.url+"#"+e.activity.object.type):d.addRef(o["d"].type,e.activity.type),t.next=33,l.save();case 33:case"end":return t.stop()}}),t,null,[[8,14]])})))()},send:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.activity),n=e.pubPod+e.date+".ttl",r=new Date,a="Activity_"+r.getTime(),s=r.toISOString(),c={},t.prev=6,t.next=9,Object(i["b"])(n);case 9:c=t.sent,t.next=17;break;case 12:return t.prev=12,t.t0=t["catch"](6),t.next=16,Object(i["a"])(n);case 16:c=t.sent;case 17:return l=[e.activity.actor.name,e.activity.type,"a",e.activity.object.type,"with name",e.activity.object.name].join(" "),u=c.addSubject({identifier:a}),u.addLiteral(o["e"].label,l),u.addLiteral(o["a"].created,s),u.addRef(o["b"].maker,e.webId),u.addRef("https://www.w3.org/ns/activitystreams#actor",e.webId),u.addRef(o["d"].type,"https://www.w3.org/ns/activitystreams#"+e.activity.type),u.addLiteral("https://www.w3.org/ns/activitystreams#summary",e.activity.summary),u.addRef("https://www.w3.org/ns/activitystreams#object",e.activity.object.url),t.next=28,c.save();case 28:console.log("todo toast when activity saved");case 29:case"end":return t.stop()}}),t,null,[[6,12]])})))()},formatDate:function(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},config:function(e){this.config={},this.config.webId=e}},webId:{webId:function(e){this.config(e)}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},activities:{get:function(){return this.$store.state.agora.activities},set:function(){}}},data:function(){return{as:{core:["Object","Link","Activity","IntransitiveActivity","Collection","OrderedCollection","CollectionPage","OrderedCollectionPage"],activity:["Accept","Add","Announce","Arrive","Block","Create","Delete","Dislike","Flag","Follow","Ignore","Invite","Join","Leave","Like","Listen","Move","Offer","Question","Reject","Read","Remove","TentativeReject","TentativeAccept","Travel","Undo","Update","View"],actor:["Application","Group","Organization","Person","Service"],object:["Article","Audio","Document","Event","Image","Note","Page","Place","Profile","Relationship","Tombstone","Video","Mention"]},pubPod:"https://agora.solidcommunity.net/public/popock/inbox/"}}}},"1f03":function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"1f25":function(e,t,n){"use strict";const r=n("5cf7"),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;class g{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!==typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,m(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!==typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),m(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(e=>this[l](e.key,e.value)),this[f]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){if(n=n||this[c],n&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[i])return b(this,this[f].get(e)),!1;const a=this[f].get(e),c=a.value;return this[l]&&(this[u]||this[l](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[o]+=s-c.length,c.length=s,this.get(e),m(this),!0}const h=new x(e,t,s,r,n);return h.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[f].set(e,this[d].head),m(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!v(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[f].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[f].get(t);if(r){const t=r.value;if(v(e,t)){if(b(e,r),!e[s])return}else n&&(e[h]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},m=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;b(e,t),t=n}},b=(e,t)=>{if(t){const n=t.value;e[l]&&e[l](n.key,n.value),e[o]-=n.length,e[f].delete(n.key),e[d].removeNode(t)}};class x{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;v(e,i)&&(b(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=g},2890:function(e,t,n){(function(t){var n={};e.exports=n;var r={};function i(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var a=0,s=e.at(n);a<o.length;++a)s+=o[a]<<8,o[a]=s%r,s=s/r|0;while(s>0)o.push(s%r),s=s/r|0}var c="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)c+=i;for(n=o.length-1;n>=0;--n)c+=t[o[n]];return c}n.encode=function(e,t,n){if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!==typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var o=0,a=t.length,s=t.charAt(0),c=[0];for(o=0;o<e.length;++o){for(var l=0,u=e[o];l<c.length;++l)u+=c[l]<<8,c[l]=u%a,u=u/a|0;while(u>0)c.push(u%a),u=u/a|0}for(o=0;0===e[o]&&o<e.length-1;++o)r+=s;for(o=c.length-1;o>=0;--o)r+=t[c[o]]}else r=i(e,t);if(n){var d=new RegExp(".{1,"+n+"}","g");r=r.match(d).join("\r\n")}return r},n.decode=function(e,n){if("string"!==typeof e)throw new TypeError('"input" must be a string.');if("string"!==typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=n.length,s=n.charAt(0),c=[0];for(o=0;o<e.length;o++){var l=i[e.charCodeAt(o)];if(void 0===l)return;for(var u=0,d=l;u<c.length;++u)d+=c[u]*a,c[u]=255&d,d>>=8;while(d>0)c.push(255&d),d>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)c.push(0);return"undefined"!==typeof t?t.from(c.reverse()):new Uint8Array(c.reverse())}}).call(this,n("b639").Buffer)},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),a=n("5a34"),s=n("1d80"),c=n("ab13"),l=n("c430"),u="".startsWith,d=Math.min,f=c("startsWith"),h=!l&&!f&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(s(this));a(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},"30ba":function(e,t,n){"use strict";const r=n("7164"),i=n("ae29"),o=n("458f"),a=n("4284"),s=n("a757");let c;try{c=n(4)}catch(u){}const l={};e.exports=l,l.NQuads=n("65e1"),l.IdentifierIssuer=n("8acc"),l._rdfCanonizeNative=function(e){return e&&(c=e),c},l.canonize=r.callbackify((async function(e,t){let n;const r=new Promise((e,t)=>{n=(n,r)=>{if(n)return t(n);e(r)}});if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!c)throw new Error("rdf-canonize-native not available");c.canonize(e,t,n)}else if("URDNA2015"===t.algorithm)new i(t).main(e,n);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new o(t).main(e,n)}return r})),l.canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(c)return c.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},4:function(e,t){},"40ce":function(e,t,n){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},4142:function(e,t,n){"use strict";const{isSubjectReference:r}=n("c92f"),{createMergedNodeMap:i}=n("796c"),o={};e.exports=o,o.flatten=e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let i=0;i<o.length;++i){const e=t[o[i]];r(e)||n.push(e)}return n}},4284:function(e,t,n){"use strict";const r=n("8acc"),i=n("5a76"),o=n("900e"),a=n("65e1"),s=n("7164"),c={subject:"s",object:"o",graph:"g"};e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const n={};for(const r of e)t.forEachComponent(r,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(r):(n[i]=!0,t.blankNodeInfo[i]={quads:[r]})});let i=!0;while(i){i=!1,t.hashToBlankNodes={};for(const r in n){const e=t.hashFirstDegreeQuads(r);e in t.hashToBlankNodes?t.hashToBlankNodes[e].push(r):t.hashToBlankNodes[e]=[r]}const e=Object.keys(t.hashToBlankNodes).sort();for(let r=0;r<e.length;++r){const o=e[r],a=t.hashToBlankNodes[o];if(a.length>1)continue;const s=a[0];t.canonicalIssuer.getId(s),delete n[s],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let a=0;a<o.length;++a){const e=[],n=o[a],i=t.hashToBlankNodes[n];for(let o=0;o<i.length;++o){const n=i[o];if(t.canonicalIssuer.hasId(n))continue;const a=new r("_:b");a.getId(n);const s=t.hashNDegreeQuads(n,a);e.push(s)}e.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let r=0;r<e.length;++r){const n=e[r];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const s=[];for(let r=0;r<t.quads.length;++r){const e=t.quads[r];t.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),s.push(a.serializeQuad(e))}return s.sort(),s.join("")}hashFirstDegreeQuads(e){const t=this,n=t.blankNodeInfo[e];if("hash"in n)return n.hash;const r=[],o=n.quads;for(let i=0;i<o.length;++i){const n=o[i],s={predicate:n.predicate};t.forEachComponent(n,(n,r)=>{s[r]=t.modifyFirstDegreeComponent(e,n,r)}),r.push(a.serializeQuad(s))}r.sort();const s=new i(t.hashAlgorithm);for(let i=0;i<r.length;++i)s.update(r[i]);return n.hash=s.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){const o=this;let a;a=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):o.hashFirstDegreeQuads(e);const s=new i(o.hashAlgorithm);return s.update(r),"g"!==r&&s.update(o.getRelatedPredicate(t)),s.update(a),s.digest()}hashNDegreeQuads(e,t){const n=this,r=new i(n.hashAlgorithm),a=n.createHashToRelated(e,t),s=Object.keys(a).sort();for(let i=0;i<s.length;++i){const e=s[i];r.update(e);let c,l="";const u=new o(a[e]);while(u.hasNext()){const e=u.next();let r=t.clone(),i="";const o=[];let a=!1;for(let t=0;t<e.length;++t){const s=e[t];if(n.canonicalIssuer.hasId(s)?i+=n.canonicalIssuer.getId(s):(r.hasId(s)||o.push(s),i+=r.getId(s)),0!==l.length&&i>l){a=!0;break}}if(!a){for(let e=0;e<o.length;++e){const t=o[e],s=n.hashNDegreeQuads(t,r);if(i+=r.getId(t),i+="<"+s.hash+">",r=s.issuer,0!==l.length&&i>l){a=!0;break}}a||(0===l.length||i<l)&&(l=i,c=r)}}r.update(l),t=c}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||(t=s.clone(t),t.value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];for(const i in a){const o=a[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const s=o.value,l=c[i],u=n.hashRelatedBlankNode(s,a,t,l);u in r?r[u].push(s):r[u]=[s]}}return r}forEachComponent(e,t){for(const n in e)"predicate"!==n&&t(e[n],n,e)}}},"43a9":function(e,t,n){"use strict";n("f4d4")},"458f":function(e,t,n){"use strict";const r=n("ae29"),i=n("7164");e.exports=class extends r{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType||(t=i.clone(t),t.value="name"===n?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,a)=>{let s,c;if("BlankNode"===n.subject.termType&&n.subject.value!==e)c=n.subject.value,s="p";else{if("BlankNode"!==n.object.termType||n.object.value===e)return a();c=n.object.value,s="r"}r.hashRelatedBlankNode(c,n,t,s,(e,t)=>{if(e)return a(e);t in i?i[t].push(c):i[t]=[c],a()})},e=>n(e,i))}}},"46bd":function(e,t,n){(function(t,r){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const i=n("30ba"),o=n("89ae"),a=n("0d88"),s=o.IdentifierIssuer,c=n("5950"),l=n("1f25"),u=n("65c2"),d=n("f9a0"),{expand:f}=n("50ca"),{flatten:h}=n("4142"),{fromRDF:p}=n("6f5c"),{toRDF:g}=n("7646"),{frameMergedOrDefault:y,cleanupNull:v}=n("e6ed"),{isArray:m,isObject:b,isString:x}=n("68fa"),{isSubjectReference:w}=n("c92f"),{expandIri:I,getInitialContext:S,process:j,processingMode:C}=n("d1e70"),{compact:O,compactIri:N}=n("4d68"),{createNodeMap:A,createMergedNodeMap:L,mergeNodeMaps:k}=n("796c"),D="undefined"!==typeof t&&t.versions&&t.versions.node,E=!D&&("undefined"!==typeof window||"undefined"!==typeof self),T=function(e){const t={},T=100,B=new l({max:T});function R(t,{documentLoader:n=e.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,t)}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;r=R(r,{base:x(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:B})}),r.link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,i=r.skipExpansion?t:await e.expand(t,r);const l=await e.processContext(S(r),n,r);let u=await O({activeCtx:l,element:i,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&m(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&b(u)&&(u=[u]),b(n)&&"@context"in n&&(n=n["@context"]),n=o.clone(n),m(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!b(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),m(u)){const e=N({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},f&&(u["@context"]=n),u[e]=t}else if(b(u)&&f){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");n=R(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:B})}),!1===n.expansionMap&&(n.expansionMap=void 0);const r={},i=[];if("expandContext"in n){const e=o.clone(n.expandContext);b(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},i.push(r.expandContext)}let s;if(x(t)){const o=await e.get(t,n);s=o.documentUrl,r.input=o.document,o.contextUrl&&(r.remoteContext={"@context":o.contextUrl},i.push(r.remoteContext))}else r.input=o.clone(t);"base"in n||(n.base=s||"");let c=S(n);for(const e of i)c=await j({activeCtx:c,localCtx:e,options:n});let l=await f({activeCtx:c,element:r.input,options:n,expansionMap:n.expansionMap});return b(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),m(l)||(l=[l]),l},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,r=R(r,{base:x(t)?t:"",contextResolver:new a({sharedCache:B})});const i=await e.expand(t,r),o=h(i);if(null===n)return o;r.graph=!0,r.skipExpansion=!0;const s=await e.compact(o,n,r);return s},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=R(r,{base:x(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:B})}),x(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?m(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},o=await e.processContext(S(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=C(o,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=C(o,1.1));const s=await e.expand(t,r),c={...r};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const l=await e.expand(n,c),u=Object.keys(n).map(e=>I(o,e,{vocab:!0}));c.merged=!u.includes("@graph"),c.is11=C(o,1.1);const d=y(s,l,c);c.graph=!r.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let f=await e.compact(d,i,c);return c.link={},f=v(f,c),f},e.link=async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(n=R(n,{base:x(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:B})}),"inputFormat"in n){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return i.canonize(e,n)}const r={...n};delete r.format,r.produceGeneralizedRdf=!1;const o=await e.toRDF(t,r);return i.canonize(o,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=R(n,{format:x(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:i}=n;if(r){if(i=i||t[r],!i)throw new c("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const o=await i(e);return p(o,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;n=R(n,{base:x(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:B})}),r=n.skipExpansion?t:await e.expand(t,n);const i=g(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await u.serialize(i);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=R(n,{base:x(t)?t:"",contextResolver:new a({sharedCache:B})});const r=await e.expand(t,n);return L(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!m(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,r=R(r,{contextResolver:new a({sharedCache:B})});const i=await Promise.all(t.map(t=>{const n={...r};return e.expand(t,n)}));let c=!0;"mergeNodes"in r&&(c=r.mergeNodes);const l=r.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),n=c||0===e?u:{"@default":{}};if(A(t,n,"@default",l),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=k(u),f=[],h=Object.keys(d).sort();for(let e=0;e<h.length;++e){const t=d[h[e]];w(t)||f.push(t)}if(null===n)return f;r.graph=!0,r.skipExpansion=!0;const p=await e.compact(f,n,r);return p},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await r(t);try{if(!i.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(i.document)&&(i.document=JSON.parse(i.document))}catch(o){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:o,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=R(n,{base:"",contextResolver:new a({sharedCache:B})}),null===t?S(n):(t=o.clone(t),b(t)&&"@context"in t||(t={"@context":t}),j({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n("d1e70").getContextValue,e.documentLoaders={},e.documentLoaders.node=n("fdb5"),e.documentLoaders.xhr=n("7156"),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new c('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.registerRDFParser("rdfa-api",d.parse),e.url=n("ddd7"),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=n("40ce"),e.JsonLdProcessor=n("8322")(e),E&&"undefined"===typeof r.JsonLdProcessor&&Object.defineProperty(r,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),D?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},B=function(){return T((function(){return B()}))};T(B),e.exports=B}).call(this,n("4362"),n("c8ba"))},"4d68":function(e,t,n){"use strict";const r=n("5950"),{isArray:i,isObject:o,isString:a,isUndefined:s}=n("68fa"),{isList:c,isValue:l,isGraph:u,isSimpleGraph:d,isSubjectReference:f}=n("c92f"),{expandIri:h,getContextValue:p,isKeyword:g,process:y,processingMode:v}=n("d1e70"),{removeBase:m,prependBase:b}=n("ddd7"),{addValue:x,asArray:w,compareShortestLeast:I}=n("89ae"),S={};function j(e,t,n,r,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&o(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const c=e.inverse[t];for(const o of r){if(!(o in c))continue;const e=c[o][i];for(const t of s)if(t in e)return e[t]}return null}function C(e,t,n){if("@nest"!==h(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=S,S.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:h={},compactionMap:m=(()=>{})})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){let o=await S.compact({activeCtx:e,activeProperty:t,element:n[i],options:h,compactionMap:m});null===o&&(o=await m({unmappedValue:n[i],activeCtx:e,activeProperty:t,parent:n,index:i,options:h}),void 0===o)||r.push(o)}if(h.compactArrays&&1===r.length){const n=p(e,t,"@container")||[];0===n.length&&(r=r[0])}return r}const b=p(e,t,"@context");if(s(b)||(e=await y({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:h})),o(n)){if(h.link&&"@id"in n&&h.link.hasOwnProperty(n["@id"])){const e=h.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(l(n)||f(n)){const r=S.compactValue({activeCtx:e,activeProperty:t,value:n,options:h});return h.link&&f(n)&&(h.link.hasOwnProperty(n["@id"])||(h.link[n["@id"]]=[]),h.link[n["@id"]].push({expanded:n,compacted:r})),r}if(c(n)){const r=p(e,t,"@container")||[];if(r.includes("@list"))return S.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:h,compactionMap:m})}const b="@reverse"===t,I={},j=e;l(n)||f(n)||(e=e.revertToPreviousContext());const O=p(j,t,"@context");s(O)||(e=await y({activeCtx:e,localCtx:O,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in n&&(h.link.hasOwnProperty(n["@id"])||(h.link[n["@id"]]=[]),h.link[n["@id"]].push({expanded:n,compacted:I}));let N=n["@type"]||[];N.length>1&&(N=Array.from(N).sort());const A=e;for(const t of N){const n=S.compactIri({activeCtx:A,iri:t,relativeTo:{vocab:!0}}),r=p(j,n,"@context");s(r)||(e=await y({activeCtx:e,localCtx:r,options:h,propagate:!1}))}const L=Object.keys(n).sort();for(const s of L){const f=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&g(s)){const t=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(I,t,f)}else{if(!i(f))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const t=S.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:b}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=I;n&&(C(e,n,h),o(I[n])||(I[n]={}),r=I[n]),x(r,t,f,{propertyIsArray:!0})}for(const t of f){const n=S.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let f=I;r&&(C(e,r,h),o(I[r])||(I[r]={}),f=I[r]);const g=p(e,n,"@container")||[],y=u(t),v=c(t);let j;v?j=t["@list"]:y&&(j=t["@graph"]);let O=await S.compact({activeCtx:e,activeProperty:n,element:v||y?j:t,options:h,compactionMap:m});if(v){if(i(O)||(O=[O]),g.includes("@list")){x(f,n,O,{valueIsArray:!0,allowDuplicate:!0});continue}O={[S.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:O},"@index"in t&&(O[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(y)if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&d(t))){let r;f.hasOwnProperty(n)?r=f[n]:f[n]=r={};const i=(g.includes("@id")?t["@id"]:t["@index"])||S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});x(r,i,O,{propertyIsArray:!h.compactArrays||g.includes("@set")})}else g.includes("@graph")&&d(t)?(i(O)&&O.length>1&&(O={"@included":O}),x(f,n,O,{propertyIsArray:!h.compactArrays||g.includes("@set")})):(i(O)&&1===O.length&&h.compactArrays&&(O=O[0]),O={[S.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:O},"@id"in t&&(O[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(O[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),x(f,n,O,{propertyIsArray:!h.compactArrays||g.includes("@set")}));else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,i;if(f.hasOwnProperty(n)?r=f[n]:f[n]=r={},g.includes("@language"))l(O)&&(O=O["@value"]),i=t["@language"];else if(g.includes("@index")){const r=p(e,n,"@index")||"@index",o=S.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete O[o];else{let e;if([i,...e]=w(O[r]||[]),a(i))switch(e.length){case 0:delete O[r];break;case 1:O[r]=e[0];break;default:O[r]=e;break}else i=null}}else if(g.includes("@id")){const t=S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=O[t],delete O[t]}else if(g.includes("@type")){const r=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=w(O[r]||[]),o.length){case 0:delete O[r];break;case 1:O[r]=o[0];break;default:O[r]=o;break}1===Object.keys(O).length&&"@id"in t&&(O=await S.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:h,compactionMap:m}))}i||(i=S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),x(r,i,O,{propertyIsArray:g.includes("@set")})}else{const e=!h.compactArrays||g.includes("@set")||g.includes("@list")||i(O)&&0===O.length||"@list"===s||"@graph"===s;x(f,n,O,{propertyIsArray:e})}}}else{const n=p(e,t,"@container")||[];if(n.includes("@index"))continue;const r=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(I,r,f)}else{const n=await S.compact({activeCtx:e,activeProperty:t,element:f,options:h,compactionMap:m});i(n)&&0===n.length||x(I,s,n)}else{const t=await S.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:h,compactionMap:m});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],i=p(e,n,"@container")||[],o=i.includes("@set")||!h.compactArrays;x(I,n,r,{propertyIsArray:o}),delete t[n]}if(Object.keys(t).length>0){const n=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(I,n,t)}}else{let t=w(f).map(e=>S.compactIri({activeCtx:j,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const n=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=p(e,n,"@container")||[],o=r.includes("@set")&&v(e,1.1),a=o||i(t)&&0===f.length;x(I,n,t,{propertyIsArray:a})}else{let t=w(f).map(t=>S.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:h.base}));1===t.length&&(t=t[0]);const n=S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});I[n]=t}}return I}return n},S.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(g(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){const r=e["@language"]||"@none",i=[];o(n)&&"@index"in n&&!("@graph"in n)&&i.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in n||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||i.push("@graph@id","@graph@id@set")):o(n)&&!l(n)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",i.push("@set");else if(c(n)){"@index"in n||i.push("@list");const e=n["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let o="@none",a="@none";if(l(i))if("@direction"in i){const e=(i["@language"]||"").toLowerCase(),t=i["@direction"];o=`${e}_${t}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null";else a="@id";if(null===t?t=o:o!==t&&l(i)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",d=n):d=t}}else{if(l(n))if("@language"in n&&!("@index"in n)){i.push("@language","@language@set"),d=n["@language"];const e=n["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in n&&!("@index"in n)?d="_"+n["@direction"]:"@type"in n&&(s="@type",d=n["@type"]);else s="@type",d="@id";i.push("@set")}i.push("@none"),o(n)&&!("@index"in n)&&i.push("@index","@index@set"),l(n)&&1===Object.keys(n).length&&i.push("@language","@language@set");const f=j(e,t,n,i,s,d);if(null!==f)return f}if(i.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let f=null;const h=[];let p=e.fastCurieMap;const y=t.length-1;for(let r=0;r<y&&t[r]in p;++r)p=p[t[r]],""in p&&h.push(p[""][0]);for(let r=h.length-1;r>=0;--r){const i=h[r],o=i.terms;for(const r of o){const o=r+":"+t.substr(i.iri.length),a=e.mappings.get(r)._prefix&&(!e.mappings.has(o)||null===n&&e.mappings.get(o)["@id"]===t);a&&(null===f||I(o,f)<0)&&(f=o)}}if(null!==f)return f;for(const[o,c]of e.mappings)if(c&&c._prefix&&t.startsWith(o+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${o}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?m(b(s,e["@base"]),t):t:m(s,t)},S.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(l(n)){const r=p(e,t,"@type"),i=p(e,t,"@language"),o=p(e,t,"@direction"),s=p(e,t,"@container")||[],c="@index"in n&&!s.includes("@index");if(!c&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===i&&"@direction"in n&&n["@direction"]===o)return n["@value"];if("@language"in n&&n["@language"]===i)return n["@value"];if("@direction"in n&&n["@direction"]===o)return n["@value"]}const l=Object.keys(n).length,u=1===l||2===l&&"@index"in n&&!c,d="@language"in e,f=a(n["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!d||!f||h))return n["@value"];const g={};return c&&(g[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?g[S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=S.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(g[S.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(g[S.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),g[S.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],g}const i=h(e,t,{vocab:!0},r),o=p(e,t,"@type"),s=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===o},base:r.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},"4fad":function(e,t,n){var r=n("23e7"),i=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},5:function(e,t){},"50ca":function(e,t,n){"use strict";const r=n("5950"),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:c}=n("68fa"),{isList:l,isValue:u,isGraph:d,isSubject:f}=n("c92f"),{expandIri:h,getContextValue:p,isKeyword:g,process:y,processingMode:v}=n("d1e70"),{isAbsolute:m}=n("ddd7"),{addValue:b,asArray:x,getValues:w,validateTypeValue:I}=n("89ae"),S={};e.exports=S;const j=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function C({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:d,expandedParent:w,options:O={},insideList:L,typeKey:k,typeScopedContext:D,expansionMap:E}){const T=Object.keys(d).sort(),B=[];let R;const P=d[k]&&"@json"===h(e,i(d[k])?d[k][0]:d[k],{vocab:!0},O);for(const C of T){let k,T=d[C];if("@context"===C)continue;let M=h(e,C,{vocab:!0},O);if((null===M||!m(M)&&!g(M))&&(M=E({unmappedProperty:C,activeCtx:e,activeProperty:t,parent:d,options:O,insideList:L,value:T,expandedParent:w}),void 0===M))continue;if(g(M)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:T});if(M in w&&"@included"!==M&&"@type"!==M)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:M})}if("@id"===M){if(!s(T)){if(!O.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(o(T)){if(!a(T))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else{if(!i(T))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(!T.every(e=>s(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}}b(w,"@id",x(T).map(t=>s(t)?h(e,t,{base:!0},O):t),{propertyIsArray:O.isFrame});continue}if("@type"===M){o(T)&&(T=Object.fromEntries(Object.entries(T).map(([e,t])=>[h(D,e,{vocab:!0}),x(t).map(e=>h(D,e,{base:!0,vocab:!0}))]))),I(T,O.isFrame),b(w,"@type",x(T).map(e=>s(e)?h(D,e,{base:!0,vocab:!0},O):e),{propertyIsArray:O.isFrame});continue}if("@included"===M&&v(e,1.1)){const n=x(await S.expand({activeCtx:e,activeProperty:t,element:T,options:O,expansionMap:E}));if(!n.every(e=>f(e)))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:T});b(w,"@included",n,{propertyIsArray:!0});continue}if("@graph"===M&&!o(T)&&!i(T))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:T});if("@value"===M){R=T,P&&v(e,1.1)?w["@value"]=T:b(w,"@value",T,{propertyIsArray:O.isFrame});continue}if("@language"===M){if(null===T)continue;if(!s(T)&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:T});T=x(T).map(e=>s(e)?e.toLowerCase():e);for(const e of T)s(e)&&!e.match(j)&&console.warn("@language must be valid BCP47: "+e);b(w,"@language",T,{propertyIsArray:O.isFrame});continue}if("@direction"===M){if(!s(T)&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:T});T=x(T);for(const e of T)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:T});b(w,"@direction",T,{propertyIsArray:O.isFrame});continue}if("@index"===M){if(!s(T))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:T});b(w,"@index",T);continue}if("@reverse"===M){if(!o(T))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:T});if(k=await S.expand({activeCtx:e,activeProperty:"@reverse",element:T,options:O,expansionMap:E}),"@reverse"in k)for(const e in k["@reverse"])b(w,e,k["@reverse"][e],{propertyIsArray:!0});let t=w["@reverse"]||null;for(const e in k){if("@reverse"===e)continue;null===t&&(t=w["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});const n=k[e];for(let i=0;i<n.length;++i){const o=n[i];if(u(o)||l(o))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});b(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===M){B.push(C);continue}let _=e;const U=p(e,C,"@context");c(U)||(_=await y({activeCtx:e,localCtx:U,propagate:!0,overrideProtected:!0,options:O}));const F=p(_,C,"@container")||[];if(F.includes("@language")&&o(T)){const e=p(_,C,"@direction");k=N(_,T,e,O)}else if(F.includes("@index")&&o(T)){const t=F.includes("@graph"),n=p(_,C,"@index")||"@index",r="@index"!==n&&h(e,n,{vocab:!0},O);k=await A({activeCtx:_,options:O,activeProperty:C,value:T,expansionMap:E,asGraph:t,indexKey:n,propertyIndex:r})}else if(F.includes("@id")&&o(T)){const e=F.includes("@graph");k=await A({activeCtx:_,options:O,activeProperty:C,value:T,expansionMap:E,asGraph:e,indexKey:"@id"})}else if(F.includes("@type")&&o(T))k=await A({activeCtx:_.revertToPreviousContext(),options:O,activeProperty:C,value:T,expansionMap:E,asGraph:!1,indexKey:"@type"});else{const r="@list"===M;if(r||"@set"===M){let e=t;r&&"@graph"===n&&(e=null),k=await S.expand({activeCtx:_,activeProperty:e,element:T,options:O,insideList:r,expansionMap:E})}else k="@json"===p(e,C,"@type")?{"@type":"@json","@value":T}:await S.expand({activeCtx:_,activeProperty:C,element:T,options:O,insideList:!1,expansionMap:E})}if(null!==k||"@value"===M||(k=E({unmappedValue:T,expandedProperty:M,activeCtx:_,activeProperty:t,parent:d,options:O,insideList:L,key:C,expandedParent:w}),void 0!==k))if("@list"!==M&&!l(k)&&F.includes("@list")&&(k={"@list":x(k)}),F.includes("@graph")&&!F.some(e=>"@id"===e||"@index"===e)&&(k=x(k).map(e=>({"@graph":x(e)}))),_.mappings.has(C)&&_.mappings.get(C).reverse){const e=w["@reverse"]=w["@reverse"]||{};k=x(k);for(let t=0;t<k.length;++t){const n=k[t];if(u(n)||l(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});b(e,M,n,{propertyIsArray:!0})}}else b(w,M,k,{propertyIsArray:!0})}if("@value"in w)if("@json"===w["@type"]&&v(e,1.1));else if((o(R)||i(R))&&!O.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:R});for(const a of B){const s=i(d[a])?d[a]:[d[a]];for(const i of s){if(!o(i)||Object.keys(i).some(t=>"@value"===h(e,t,{vocab:!0},O)))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await C({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:i,expandedParent:w,options:O,insideList:L,typeScopedContext:D,typeKey:k,expansionMap:E})}}}function O({activeCtx:e,activeProperty:t,value:n,options:r}){if(null===n||void 0===n)return null;const i=h(e,t,{vocab:!0},r);if("@id"===i)return h(e,n,{base:!0},r);if("@type"===i)return h(e,n,{vocab:!0,base:!0},r);const o=p(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(n))return{"@id":h(e,n,{base:!0},r)};if("@vocab"===o&&s(n))return{"@id":h(e,n,{vocab:!0,base:!0},r)};if(g(i))return n;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(n)){const n=p(e,t,"@language");null!==n&&(a["@language"]=n);const r=p(e,t,"@direction");null!==r&&(a["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function N(e,t,n,o){const a=[],c=Object.keys(t).sort();for(const l of c){const c=h(e,l,{vocab:!0},o);let u=t[l];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==c&&(i["@language"]=l.toLowerCase()),n&&(i["@direction"]=n),a.push(i)}}return a}async function A({activeCtx:e,options:t,activeProperty:n,value:o,expansionMap:a,asGraph:s,indexKey:l,propertyIndex:f}){const g=[],v=Object.keys(o).sort(),m="@type"===l;for(let x of v){if(m){const n=p(e,x,"@context");c(n)||(e=await y({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let v,w=o[x];i(w)||(w=[w]),w=await S.expand({activeCtx:e,activeProperty:n,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),v=f?"@none"===x?"@none":O({activeCtx:e,activeProperty:l,value:x,options:t}):h(e,x,{vocab:!0},t),"@id"===l?x=h(e,x,{base:!0},t):m&&(x=v);for(let e of w){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===v||(e["@type"]?e["@type"]=[x].concat(e["@type"]):e["@type"]=[x]);else{if(u(e)&&!["@language","@type","@index"].includes(l))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});f?"@none"!==v&&b(e,f,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||l in e||(e[l]=x)}g.push(e)}}return g}S.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:l={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:g=(()=>{})})=>{if(null===n||void 0===n)return null;if("@default"===t&&(l=Object.assign({},l,{isFrame:!1})),!i(n)&&!o(n)){if(!u&&(null===t||"@graph"===h(e,t,{vocab:!0},l))){const r=await g({unmappedValue:n,activeCtx:e,activeProperty:t,options:l,insideList:u});return void 0===r?null:r}return O({activeCtx:e,activeProperty:t,value:n,options:l})}if(i(n)){let r=[];const o=p(e,t,"@container")||[];u=u||o.includes("@list");for(let a=0;a<n.length;++a){let o=await S.expand({activeCtx:e,activeProperty:t,element:n[a],options:l,expansionMap:g,insideIndex:d,typeScopedContext:f});u&&i(o)&&(o={"@list":o}),null===o&&(o=await g({unmappedValue:n[a],activeCtx:e,activeProperty:t,parent:n,index:a,options:l,expandedParent:r,insideList:u}),void 0===o)||(i(o)?r=r.concat(o):r.push(o))}return r}const b=h(e,t,{vocab:!0},l),I=p(e,t,"@context");f=f||(e.previousContext?e:null);let j=Object.keys(n).sort(),N=!d;if(N&&f&&j.length<=2&&!j.includes("@context"))for(const r of j){const t=h(f,r,{vocab:!0},l);if("@value"===t){N=!1,e=f;break}if("@id"===t&&1===j.length){N=!1;break}}N&&(e=e.revertToPreviousContext()),c(I)||(e=await y({activeCtx:e,localCtx:I,propagate:!0,overrideProtected:!0,options:l})),"@context"in n&&(e=await y({activeCtx:e,localCtx:n["@context"],options:l})),f=e;let A=null;for(const r of j){const t=h(e,r,{vocab:!0},l);if("@type"===t){A=A||r;const t=n[r],i=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of i){const t=p(f,n,"@context");c(t)||(e=await y({activeCtx:e,localCtx:t,options:l,propagate:!1}))}}}let L={};await C({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:n,expandedParent:L,options:l,insideList:u,typeKey:A,typeScopedContext:f,expansionMap:g}),j=Object.keys(L);let k=j.length;if("@value"in L){if("@type"in L&&("@language"in L||"@direction"in L))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});let i=k-1;if("@type"in L&&(i-=1),"@index"in L&&(i-=1),"@language"in L&&(i-=1),"@direction"in L&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});const o=null===L["@value"]?[]:x(L["@value"]),c=w(L,"@type");if(v(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===o.length){const r=await g({unmappedValue:L,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});L=void 0!==r?r:null}else{if(!o.every(e=>s(e)||a(e))&&"@language"in L)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:L});if(!c.every(e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:L})}}else if("@type"in L&&!i(L["@type"]))L["@type"]=[L["@type"]];else if("@set"in L||"@list"in L){if(k>1&&(2!==k||!("@index"in L)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:L});"@set"in L&&(L=L["@set"],j=Object.keys(L),k=j.length)}else if(1===k&&"@language"in L){const r=await g(L,{unmappedValue:L,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});L=void 0!==r?r:null}if(o(L)&&!l.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===b)&&(0===k||"@value"in L||"@list"in L||1===k&&"@id"in L)){const r=await g({unmappedValue:L,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});L=void 0!==r?r:null}return L}},"53ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},5727:function(e,t,n){"use strict";e.exports=function(e){return t(e);function t(e){if(null===e||"object"!==typeof e||null!=e.toJSON)return JSON.stringify(e);if(Array.isArray(e)&&0===e.length)return"[]";if(Array.isArray(e)&&1===e.length)return"["+t(e[0])+"]";if(Array.isArray(e))return"["+e.reduce((e,n,r)=>(e=1===r?t(e):e,e+","+t(n)))+"]";const n=Object.keys(e);return 0===n.length?"{}":1===n.length?"{"+t(n[0])+":"+t(e[n[0]])+"}":"{"+n.sort().reduce((n,r,i)=>(n=1===i?t(n)+":"+t(e[n]):n,n+","+t(r)+":"+t(e[r])))+"}"}}},5950:function(e,t,n){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},"5a76":function(e,t,n){"use strict";const r=n("d327");n("eb9d"),n("a754"),n("a77f"),e.exports=class{constructor(e){this.md=r.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},"5cf7":function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=2;n<arguments.length;n++)r=i(this,r,arguments[n]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n("1f03")(r)}catch(c){}},6:function(e,t){},"65c2":function(e,t,n){"use strict";e.exports=n("30ba").NQuads},"65e1":function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=r+"langString",o="http://www.w3.org/2001/XMLSchema#string",a={};function s(e,t){for(const n in e)if(e[n].termType!==t[n].termType||e[n].value!==t[n].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",n=t+"_",r=n+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",o=i,s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',c="(?:\\^\\^"+e+")",l="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",u="(?:"+s+"(?:"+c+"|"+l+")?)",d="[ \\t]+",f="[ \\t]*",h="(?:"+e+"|"+o+")"+d,p=e+d,g="(?:"+e+"|"+o+"|"+u+")"+f,y="(?:\\.|(?:(?:"+e+"|"+o+")"+f+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+f+"$"),a.quad=new RegExp("^"+f+h+p+g+y+f+"$")})(),e.exports=class e{static parse(e){const t=[],n={},r=e.split(a.eoln);let c=0;for(const l of r){if(c++,a.empty.test(l))continue;const e=l.match(a.quad);if(null===e)throw new Error("N-Quads parse error on line "+c+".");const r={};if(void 0!==e[1]?r.subject={termType:"NamedNode",value:e[1]}:r.subject={termType:"BlankNode",value:e[2]},r.predicate={termType:"NamedNode",value:e[3]},void 0!==e[4]?r.object={termType:"NamedNode",value:e[4]}:void 0!==e[5]?r.object={termType:"BlankNode",value:e[5]}:(r.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==e[7]?r.object.datatype.value=e[7]:void 0!==e[8]?(r.object.datatype.value=i,r.object.language=e[8]):r.object.datatype.value=o,r.object.value=d(e[6])),void 0!==e[9]?r.graph={termType:"NamedNode",value:e[9]}:void 0!==e[10]?r.graph={termType:"BlankNode",value:e[10]}:r.graph={termType:"DefaultGraph",value:""},r.graph.value in n){let e=!0;const i=n[r.graph.value];for(const t of i)if(s(t,r)){e=!1;break}e&&(i.push(r),t.push(r))}else n[r.graph.value]=[r],t.push(r)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,n=e.predicate,r=e.object,a=e.graph;let s="";return[t,n].forEach(e=>{"NamedNode"===e.termType?s+="<"+e.value+">":s+=e.value,s+=" "}),"NamedNode"===r.termType?s+="<"+r.value+">":"BlankNode"===r.termType?s+=r.value:(s+='"'+l(r.value)+'"',r.datatype.value===i?r.language&&(s+="@"+r.language):r.datatype.value!==o&&(s+="^^<"+r.datatype.value+">")),"NamedNode"===a.termType?s+=" <"+a.value+">":"BlankNode"===a.termType&&(s+=" "+a.value),s+=" .\n",s}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const r in e){const a=e[r];a.forEach(e=>{const a={};for(const t in e){const r=e[t],s={termType:n[r.type],value:r.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in r&&(s.datatype.value=r.datatype),"language"in r?("datatype"in r||(s.datatype.value=i),s.language=r.language):"datatype"in r||(s.datatype.value=o)),a[t]=s}a.graph="@default"===r?{termType:"DefaultGraph",value:""}:{termType:r.startsWith("_:")?"BlankNode":"NamedNode",value:r},t.push(a)})}return t}};const c=/["\\\n\r]/g;function l(e){return e.replace(c,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}const u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function d(e){return e.replace(u,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))}},"68fa":function(e,t,n){"use strict";const r={};e.exports=r,r.isArray=Array.isArray,r.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),r.isDouble=e=>r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),r.isEmptyObject=e=>r.isObject(e)&&0===Object.keys(e).length,r.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),r.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),r.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),r.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),r.isUndefined=e=>"undefined"===typeof e},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),o=n("fc6a"),a=n("d1e7").f,s=function(e){return function(t){var n,s=o(t),c=i(s),l=c.length,u=0,d=[];while(l>u)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},"6f5c":function(e,t,n){"use strict";const r=n("5950"),i=n("c92f"),o=n("68fa"),a=n("89ae"),{RDF_LIST:s,RDF_FIRST:c,RDF_REST:l,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:f,XSD_BOOLEAN:h,XSD_DOUBLE:p,XSD_INTEGER:g,XSD_STRING:y}=n("feb1"),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function b(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=y),s===f){s="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(a){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:a})}}if(t){if(s===h)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"]))if(s===g){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else s===p&&(i["@value"]=parseFloat(i["@value"]));[h,g,p,y].includes(s)||(i["@type"]=s)}else if("i18n-datatype"===n&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn("@language must be valid BCP47: "+e)),i["@direction"]=t}else s!==y&&(i["@type"]=s)}return i}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const f={},h={"@default":f},p={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in h||(h[e]={}),"@default"===e||e in f||(f[e]={"@id":e});const o=h[e],s=i.subject.value,c=i.predicate.value,l=i.object;s in o||(o[s]={"@id":s});const g=o[s],y=l.termType.endsWith("Node");if(y&&!(l.value in o)&&(o[l.value]={"@id":l.value}),c===d&&!t&&y){a.addValue(g,"@type",l.value,{propertyIsArray:!0});continue}const v=b(l,n,r);if(a.addValue(g,c,v,{propertyIsArray:!0}),y)if(l.value===u){const e=o[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:g,property:c,value:v})}else l.value in p?p[l.value]=!1:p[l.value]={node:g,property:c,value:v}}for(const a in h){const e=h[a];if(!(u in e))continue;const t=e[u];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,a=n.value;const u=[],d=[];let f=Object.keys(t).length;while(r===l&&o.isObject(p[t["@id"]])&&o.isArray(t[c])&&1===t[c].length&&o.isArray(t[l])&&1===t[l].length&&(3===f||4===f&&o.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===s))if(u.push(t[c][0]),d.push(t["@id"]),n=p[t["@id"]],t=n.node,r=n.property,a=n.value,f=Object.keys(t).length,!i.isBlankNode(t))break;delete a["@id"],a["@list"]=u.reverse();for(const n of d)delete e[n]}delete t.usages}}const g=[],y=Object.keys(f).sort();for(const o of y){const e=f[o];if(o in h){const t=e["@graph"]=[],n=h[o],r=Object.keys(n).sort();for(const e of r){const r=n[e];i.isSubjectReference(r)||t.push(r)}}i.isSubjectReference(e)||g.push(e)}return g}},7:function(e,t){},7156:function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n("89ae"),{LINK_HEADER_CONTEXT:o}=n("feb1"),a=n("5950"),s=n("40ce"),{prependBase:c}=n("ddd7"),l=/(^|(\r\n))link:/i;function u(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()})}e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=i(t);const d=new s;return d.wrapLoader(f);async function f(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await u(n,i,t)}catch(y){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:y})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let d={contextUrl:null,documentUrl:i,document:s.response},h=null;const p=s.getResponseHeader("Content-Type");let g;if(l.test(s.getAllResponseHeaders())&&(g=s.getResponseHeader("Link")),g&&"application/ld+json"!==p){const e=r(g),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(d.contextUrl=t.target),h=e["alternate"],h&&"application/ld+json"==h.type&&!(p||"").match(/^application\/(\w*\+)?json$/)&&(d=await f(c(i,h.target)))}return d}}},7164:function(e,t,n){"use strict";(function(t){const n={};e.exports=n;const r="function"===typeof setImmediate&&setImmediate,i=r?e=>r(e):e=>setTimeout(e,0);function o(e,n,r){try{return e(n,r)}catch(i){t.nextTick(()=>{throw i})}}"object"===typeof t&&"function"===typeof t.nextTick?n.nextTick=t.nextTick:n.nextTick=i,n.setImmediate=r?i:n.nextTick,n.clone=function(e){if(e&&"object"===typeof e){let t;if(Array.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=n.clone(e[r])}else if(n.isObject(e)){t={};for(const r in e)t[r]=n.clone(e[r])}else t=e.toString();return t}return e},n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isUndefined=e=>"undefined"===typeof e,n.callbackify=e=>async function(...t){const n=t[t.length-1];let r;"function"===typeof n&&t.pop();try{r=await e.apply(null,t)}catch(i){if("function"===typeof n)return o(n,i);throw i}return"function"===typeof n?o(n,null,r):r}}).call(this,n("4362"))},7646:function(e,t,n){"use strict";const{createNodeMap:r}=n("796c"),{isKeyword:i}=n("d1e70"),o=n("c92f"),a=n("5727"),s=n("68fa"),c=n("89ae"),{RDF_FIRST:l,RDF_REST:u,RDF_NIL:d,RDF_TYPE:f,RDF_JSON_LITERAL:h,RDF_LANGSTRING:p,XSD_BOOLEAN:g,XSD_DOUBLE:y,XSD_INTEGER:v,XSD_STRING:m}=n("feb1"),{isAbsolute:b}=n("ddd7"),x={};function w(e,t,n,r,o){const a=Object.keys(t).sort();for(const s of a){const a=t[s],c=Object.keys(a).sort();for(let t of c){const c=a[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of c){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!b(s))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t))continue;if("BlankNode"===c.termType&&!o.produceGeneralizedRdf)continue;const l=S(i,r,e,n,o.rdfDirection);l&&e.push({subject:a,predicate:c,object:l,graph:n})}}}}function I(e,t,n,r,i){const o={termType:"NamedNode",value:l},a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},c=e.pop(),f=c?{termType:"BlankNode",value:t.getId()}:s;let h=f;for(const l of e){const e=S(l,t,n,r,i),s={termType:"BlankNode",value:t.getId()};n.push({subject:h,predicate:o,object:e,graph:r}),n.push({subject:h,predicate:a,object:s,graph:r}),h=s}if(c){const e=S(c,t,n,r,i);n.push({subject:h,predicate:o,object:e,graph:r}),n.push({subject:h,predicate:a,object:s,graph:r})}return f}function S(e,t,n,r,i){const c={};if(o.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)c.value=a(t),c.datatype.value=h;else if(s.isBoolean(t))c.value=t.toString(),c.datatype.value=n||g;else if(s.isDouble(t)||n===y)s.isDouble(t)||(t=parseFloat(t)),c.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=n||y;else if(s.isNumber(t))c.value=t.toFixed(0),c.datatype.value=n||v;else if("i18n-datatype"===i&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"];c.datatype.value=n,c.value=t}else"@language"in e?(c.value=t,c.datatype.value=n||p,c.language=e["@language"]):(c.value=t,c.datatype.value=n||m)}else if(o.isList(e)){const o=I(e["@list"],t,n,r,i);c.termType=o.termType,c.value=o.value}else{const t=s.isObject(e)?e["@id"]:e;c.termType=t.startsWith("_:")?"BlankNode":"NamedNode",c.value=t}return"NamedNode"!==c.termType||b(c.value)?c:null}e.exports=x,x.toRDF=(e,t)=>{const n=new c.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],a=Object.keys(i).sort();for(const r of a){let e;if("@default"===r)e={termType:"DefaultGraph",value:""};else{if(!b(r))continue;e=r.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=r}w(o,i[r],e,n,t)}return o}},"796c":function(e,t,n){"use strict";const{isKeyword:r}=n("d1e70"),i=n("c92f"),o=n("68fa"),a=n("89ae"),s=n("5950"),c={};e.exports=c,c.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new a.IdentifierIssuer("_:b"),r={"@default":{}};return c.createNodeMap(e,r,"@default",n),c.mergeNodeMaps(r)},c.createNodeMap=(e,t,n,l,u,d)=>{if(o.isArray(e)){for(const r of e)c.createNodeMap(r,t,n,l,void 0,d);return}if(!o.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=l.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const r=[];return c.createNodeMap(e["@list"],t,n,l,u,r),void d.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&l.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const f=t[n],h=f[u]=f[u]||{};h["@id"]=u;const p=Object.keys(e).sort();for(let o of p){if("@id"===o)continue;if("@reverse"===o){const r={"@id":u},o=e["@reverse"];for(const e in o){const s=o[e];for(const o of s){let s=o["@id"];i.isBlankNode(o)&&(s=l.getId(s)),c.createNodeMap(o,t,n,l,s),a.addValue(f[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),c.createNodeMap(e[o],t,u,l);continue}if("@included"===o){c.createNodeMap(e[o],t,n,l);continue}if("@type"!==o&&r(o)){if("@index"===o&&o in h&&(e[o]!==h[o]||e[o]["@id"]!==h[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[o]=e[o];continue}const d=e[o];if(0===o.indexOf("_:")&&(o=l.getId(o)),0!==d.length)for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?l.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=i.isBlankNode(e)?l.getId(e["@id"]):e["@id"];a.addValue(h,o,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(e,t,n,l,r)}else if(i.isValue(e))a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const r=[];c.createNodeMap(e["@list"],t,n,l,u,r),e={"@list":r},a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(e,t,n,l,u),a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(h,o,[],{propertyIsArray:!0})}},c.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(r(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},c.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};const a=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||a.push(t)}}return t}},8322:function(e,t,n){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},"89ae":function(e,t,n){"use strict";const r=n("c92f"),i=n("68fa"),o=n("30ba").IdentifierIssuer,a=n("5950"),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={headers:{accept:"application/ld+json, application/json"}},d={};function f(e,t){if(i.isArray(t))for(let n=0;n<t.length;++n)t[n]=f(e,t[n]);else if(r.isList(t))t["@list"]=f(e,t["@list"]);else if(i.isObject(t)){r.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const i=n[r];"@id"!==i&&(t[i]=f(e,t[i]))}}return t}e.exports=d,d.IdentifierIssuer=o,d.clone=function(e){if(e&&"object"===typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,d.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{const t=Object.keys(e).some(e=>"accept"===e.toLowerCase());if(t)throw new RangeError('Accept header may not be specified; only "'+u.headers.accept+'" is supported.');return Object.assign({Accept:u.headers.accept},e)},d.parseLinkHeader=e=>{const t={},n=e.match(s);for(let r=0;r<n.length;++r){let e=n[r].match(c);if(!e)continue;const i={target:e[1]},o=e[2];while(e=l.exec(o))i[e[1]]=void 0===e[2]?e[3]:e[2];const a=i["rel"]||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},d.validateTypeValue=(e,t)=>{if(!i.isString(e)&&(!i.isArray(e)||!e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,n)=>{if(d.hasProperty(e,t)){let o=e[t];const a=r.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(n,o[e]))return!0}else if(!i.isArray(n))return d.compareValues(n,o)}return!1},d.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)d.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const o=!r.allowDuplicate&&d.hasValue(e,t,n);i.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const i=d.getValues(e,t).filter(e=>!d.compareValues(e,n));0===i.length?d.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new o("_:b");return f(n,e)},d.compareValues=(e,t)=>e===t||(!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},"8acc":function(e,t,n){"use strict";const r=n("7164");e.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=r.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},"900e":function(e,t,n){"use strict";e.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,n=0;const r=this.list.length;for(let i=0;i<r;++i){const e=this.list[i],o=this.left[e];(null===t||e>t)&&(o&&i>0&&e>this.list[i-1]||!o&&i<r-1&&e>this.list[i+1])&&(t=e,n=i)}if(null===t)this.done=!0;else{const e=this.left[t]?n-1:n+1;this.list[n]=this.list[e],this.list[e]=t;for(let n=0;n<r;++n)this.list[n]>t&&(this.left[this.list[n]]=!this.left[this.list[n]])}return e}}},9093:function(e,t,n){"use strict";const r=n("1f25"),i=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:i})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},a754:function(e,t,n){var r=n("d327");n("eb9d"),n("b1d4");var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){a||s();var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=s[1],s[1]=s[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),c(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var s,l,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,d=u&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-d));for(var f=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)s=8*i.fullMessageLength[h+1],l=s/4294967296>>>0,f+=l,a.putInt32(f>>>0),f=s>>>0;a.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};c(p,n,a);var g=r.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g},i};var o=null,a=!1;function s(){o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=!0}function c(e,t,n){var r,i,o,a,s,c,l,u,d=n.length();while(d>=64){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,c=e.h4,u=0;u<16;++u)r=n.getInt32(),t[u]=r,l=s^o&(a^s),r=(i<<5|i>>>27)+l+c+1518500249+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<20;++u)r=t[u-3]^t[u-8]^t[u-14]^t[u-16],r=r<<1|r>>>31,t[u]=r,l=s^o&(a^s),r=(i<<5|i>>>27)+l+c+1518500249+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<32;++u)r=t[u-3]^t[u-8]^t[u-14]^t[u-16],r=r<<1|r>>>31,t[u]=r,l=o^a^s,r=(i<<5|i>>>27)+l+c+1859775393+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<40;++u)r=t[u-6]^t[u-16]^t[u-28]^t[u-32],r=r<<2|r>>>30,t[u]=r,l=o^a^s,r=(i<<5|i>>>27)+l+c+1859775393+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<60;++u)r=t[u-6]^t[u-16]^t[u-28]^t[u-32],r=r<<2|r>>>30,t[u]=r,l=o&a|s&(o^a),r=(i<<5|i>>>27)+l+c+2400959708+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<80;++u)r=t[u-6]^t[u-16]^t[u-28]^t[u-32],r=r<<2|r>>>30,t[u]=r,l=o^a^s,r=(i<<5|i>>>27)+l+c+3395469782+r,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+c|0,d-=64}}},a757:function(e,t,n){"use strict";const r=n("4284"),i=n("7164");e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType||(t=i.clone(t),t.value="name"===n?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];let s,c;if("BlankNode"===a.subject.termType&&a.subject.value!==e)c=a.subject.value,s="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;c=a.object.value,s="r"}const l=n.hashRelatedBlankNode(c,a,t,s);l in r?r[l].push(c):r[l]=[c]}return r}}},a77f:function(e,t,n){var r=n("d327");n("eb9d"),n("b1d4");var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){a||c();var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),l(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var s,c,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,d=u&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-d));for(var f=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)s=8*i.fullMessageLength[h+1],c=s/4294967296>>>0,f+=c,a.putInt32(f>>>0),f=s>>>0;a.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};l(p,n,a);var g=r.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g.putInt32(p.h5),g.putInt32(p.h6),g.putInt32(p.h7),g},i};var o=null,a=!1,s=null;function c(){o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0}function l(e,t,n){var r,i,o,a,c,l,u,d,f,h,p,g,y,v,m,b=n.length();while(b>=64){for(u=0;u<16;++u)t[u]=n.getInt32();for(;u<64;++u)r=t[u-2],r=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=r+t[u-7]+i+t[u-16]|0;for(d=e.h0,f=e.h1,h=e.h2,p=e.h3,g=e.h4,y=e.h5,v=e.h6,m=e.h7,u=0;u<64;++u)a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),c=v^g&(y^v),o=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),l=d&f|h&(d^f),r=m+a+c+s[u]+t[u],i=o+l,m=v,v=y,y=g,g=p+r>>>0,p=h,h=f,f=d,d=r+i>>>0;e.h0=e.h0+d|0,e.h1=e.h1+f|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+y|0,e.h6=e.h6+v|0,e.h7=e.h7+m|0,b-=64}}},ae29:function(e,t,n){"use strict";const r=n("db44"),i=n("8acc"),o=n("5a76"),a=n("900e"),s=n("65e1"),c=n("7164"),l={subject:"s",object:"o",graph:"g"};e.exports=class extends r{constructor(e){e=e||{},super(e),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const n=this;let r;n.schedule.start=Date.now(),n.quads=e;const o={};n.waterfall([t=>{n.forEach(e,(e,t,r)=>{n.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(o[r]=!0,n.blankNodeInfo[r]={quads:[e]})}),r()},t)},e=>{let t=!0;n.whilst(()=>t,e=>{t=!1,n.hashToBlankNodes={},n.waterfall([e=>{n.forEach(o,(e,t,r)=>{n.hashFirstDegreeQuads(t,(e,i)=>{if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()})},e)},e=>{const r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(e,r,i)=>{const a=n.hashToBlankNodes[e];if(a.length>1)return i();const s=a[0];n.canonicalIssuer.getId(s),delete o[s],delete n.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(e,t,r)=>{const o=[],a=n.hashToBlankNodes[e];n.waterfall([e=>{n.forEach(a,(e,t,r)=>{if(n.canonicalIssuer.hasId(e))return r();const a=new i("_:b");a.getId(e),n.hashNDegreeQuads(e,a,(e,t)=>{if(e)return r(e);o.push(t),r()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),n.forEach(o,(e,t,r)=>{for(const i in e.issuer.existing)n.canonicalIssuer.getId(i);r()},e)}],r)},e)},e=>{const t=[];n.waterfall([e=>{n.forEach(n.quads,(e,r,i)=>{n.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))}),t.push(s.serializeQuad(e)),i()},e)},e=>(t.sort(),r=t.join(""),e())],e)}],e=>t(e,r))}hashFirstDegreeQuads(e,t){const n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);const i=[],a=r.quads;n.forEach(a,(t,r,o)=>{const a={predicate:t.predicate};n.forEachComponent(t,(t,r)=>{a[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(s.serializeQuad(a)),o()},e=>{if(e)return t(e);i.sort();const a=new o(n.hashAlgorithm);for(let t=0;t<i.length;++t)a.update(i[t]);r.hash=a.digest(),t(null,r.hash)})}hashRelatedBlankNode(e,t,n,r,i){const a=this;let s;a.waterfall([t=>a.canonicalIssuer.hasId(e)?(s=a.canonicalIssuer.getId(e),t()):n.hasId(e)?(s=n.getId(e),t()):void a.hashFirstDegreeQuads(e,(e,n)=>{if(e)return t(e);s=n,t()})],e=>{if(e)return i(e);const n=new o(a.hashAlgorithm);return n.update(r),"g"!==r&&n.update(a.getRelatedPredicate(t)),n.update(s),i(null,n.digest())})}hashNDegreeQuads(e,t,n){const r=this;let i;const s=new o(r.hashAlgorithm);r.waterfall([n=>r.createHashToRelated(e,t,(e,t)=>{if(e)return n(e);i=t,n()}),e=>{const n=Object.keys(i).sort();r.forEach(n,(e,n,o)=>{s.update(e);let c,l="";const u=new a(i[e]);r.whilst(()=>u.hasNext(),e=>{const n=u.next();let i=t.clone(),o="";const a=[];r.waterfall([t=>{r.forEach(n,(t,n,s)=>{if(r.canonicalIssuer.hasId(t)?o+=r.canonicalIssuer.getId(t):(i.hasId(t)||a.push(t),o+=i.getId(t)),0!==l.length&&o>l)return e();s()},t)},t=>{r.forEach(a,(t,n,a)=>{r.hashNDegreeQuads(t,i,(n,r)=>n?a(n):(o+=i.getId(t),o+="<"+r.hash+">",i=r.issuer,0!==l.length&&o>l?e():void a()))},t)},e=>{(0===l.length||o<l)&&(l=o,c=i),e()}],e)},e=>{if(e)return o(e);s.update(l),t=c,o()})},e)}],e=>{n(e,{hash:s.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||(t=c.clone(t),t.value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,a)=>{r.forEach(n,(o,a,s)=>{if("predicate"===a||"BlankNode"!==o.termType||o.value===e)return s();const c=o.value,u=l[a];r.hashRelatedBlankNode(c,n,t,u,(e,t)=>{if(e)return s(e);t in i?i[t].push(c):i[t]=[c],s()})},a)},e=>n(e,i))}forEachComponent(e,t){for(const n in e)"predicate"!==n&&t(e[n],n,e)}}},ae85:function(e,t,n){"use strict";n("baa5"),n("fb6a"),n("bf19");t["a"]={methods:{localname:function(e){var t=e;return void 0!=e&&(t=-1!=e.lastIndexOf("#")?e.substr(e.lastIndexOf("#")).substr(1):e.substr(e.lastIndexOf("/")).substr(1),t=0==t.length?e:t),t},today:function(){var e=new Date;return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)},streamActivity:function(e,t){var n={"@context":"https://www.w3.org/ns/activitystreams",summary:"User fill a form with shighl-vuejs",type:"Add",published:(new Date).toISOString(),actor:{type:"Person",id:e,name:"UserName",url:"same as webid ?",image:{type:"Link",href:"http://example.org/martin/image.jpg",mediaType:"image/jpeg"}},object:{id:"http://www.test.example/blog/abc123/xyz",type:"Document",url:"http://example.org/blog/2011/02/entry",name:"Why I love Activity Streams",content:t},target:{id:"http://example.org/blog/",type:"OrderedCollection",name:"Martin's Blog"}};return n}}}},b1d4:function(e,t,n){(function(t,r,i){var o=n("d327"),a=n("2890"),s=e.exports=o.util=o.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function l(e){if(this.data="",this.read=0,"string"===typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if("undefined"!==typeof i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(r){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof l||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}(function(){if("undefined"!==typeof t&&t.nextTick&&!t.browser)return s.nextTick=t.nextTick,void("function"===typeof setImmediate?s.setImmediate=setImmediate:s.setImmediate=s.nextTick);if("function"===typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(e){return setImmediate(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!==typeof window&&"function"===typeof window.postMessage){var e="forge.setImmediate",n=[];function r(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=n.slice();n.length=0,r.forEach((function(e){e()}))}}s.setImmediate=function(t){n.push(t),1===n.length&&window.postMessage(e,"*")},window.addEventListener("message",r,!0)}if("undefined"!==typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");n=[];new MutationObserver((function(){var e=n.slice();n.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var c=s.setImmediate;s.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),c(e)):(n.push(e),1===n.length&&a.setAttribute("a",o=!o))}}s.nextTick=s.setImmediate})(),s.isNodejs="undefined"!==typeof t&&t.versions&&t.versions.node,s.globalScope=function(){return s.isNodejs?r:"undefined"===typeof self?window:self}(),s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=l,s.ByteStringBuffer=l;var u=4096;function d(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=s.isArrayBuffer(e),r=s.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>u&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);var n=this.data;while(t>0)1&t&&(n+=e),t>>>=1,t>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=d,s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=n.byteLength-n.byteOffset;this.accommodate(r);var i=new Uint8Array(this.data.buffer,this.write);return i.set(n),this.write+=r,this}if(s.isArrayBuffer(e)){n=new Uint8Array(e);this.accommodate(n.byteLength);i=new Uint8Array(this.data.buffer);return i.set(n,this.write),this.write+=n.byteLength,this}if(e instanceof s.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&s.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(n.byteLength);i=new Uint8Array(e.data.byteLength,this.write);return i.set(n),this.write+=n.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"===typeof e){var o;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,o,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,o,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(o),this;if("utf16"===t)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8","binary"===e||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){var n="";while(t>0)1&t&&(n+=e),t>>>=1,t>0&&(e+=e);return n},s.xorBytes=function(e,t,n){for(var r="",i="",o="",a=0,s=0;n>0;--n,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(r+=o,o="",s=0),o+=String.fromCharCode(i),++s;return r+=o,r},s.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){var n,r,i,o="",a="",s=0;while(s<e.length)n=e.charCodeAt(s++),r=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=f.charAt(n>>2),o+=f.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=f.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o,a},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t,n,r,i,o="",a=0;while(a<e.length)t=h[e.charCodeAt(a++)-43],n=h[e.charCodeAt(a++)-43],r=h[e.charCodeAt(a++)-43],i=h[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length)),n=n||0;for(var i=n,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2))),n=n||0;var i=0,o=n;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},s.binary.base64.encode=function(e,t){var n,r,i,o="",a="",s=0;while(s<e.byteLength)n=e[s++],r=e[s++],i=e[s++],o+=f.charAt(n>>2),o+=f.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=f.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o,a},s.binary.base64.decode=function(e,t,n){var r,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=n||0;var c=0,l=n;while(c<e.length)r=h[e.charCodeAt(c++)-43],i=h[e.charCodeAt(c++)-43],o=h[e.charCodeAt(c++)-43],a=h[e.charCodeAt(c++)-43],s[l++]=r<<2|i>>4,64!==o&&(s[l++]=(15&i)<<4|o>>2,64!==a&&(s[l++]=(3&o)<<6|a));return t?l-n:s.subarray(0,l)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,p,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,p,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,n){e=s.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length)),n=n||0;for(var i=n,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));var i=new Uint16Array(r.buffer);n=n||0;for(var o=n,a=n,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-n:r},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,n){if(t=s.decode64(e.deflate(s.encode64(t)).rval),n){var r=2,i=t.charCodeAt(1);32&i&&(r=6),t=t.substring(r,t.length-4)}return t},s.inflate=function(e,t,n){var r=e.inflate(s.encode64(t)).rval;return null===r?null:s.decode64(r)};var g=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=s.encode64(JSON.stringify(n)),r=e.setItem(t,n)),"undefined"!==typeof r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},y=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(s.decode64(n))),n},v=function(e,t,n,r){var i=y(e,t);null===i&&(i={}),i[n]=r,g(e,t,i)},m=function(e,t,n){var r=y(e,t);return null!==r&&(r=n in r?r[n]:null),r},b=function(e,t,n){var r=y(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),g(e,t,r)}},x=function(e,t){g(e,t,null)},w=function(e,t,n){var r,i=null;"undefined"===typeof n&&(n=["web","flash"]);var o=!1,a=null;for(var s in n){r=n[s];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(c){a=c}if(o)break}if(!o)throw a;return i};s.setItem=function(e,t,n,r,i){w(v,arguments,i)},s.getItem=function(e,t,n,r){return w(m,arguments,r)},s.removeItem=function(e,t,n,r){w(b,arguments,r)},s.clearItems=function(e,t,n){w(x,arguments,n)},s.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?(80!==r.port&&"http"===r.scheme||443!==r.port&&"https"===r.scheme)&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var I=null;s.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,a=n[r].indexOf("=");a>0?(i=n[r].substring(0,a),o=n[r].substring(a+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return"undefined"===typeof e?(null===I&&(I="undefined"!==typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=I):t=n(e),t},s.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");i.length>0&&""===i[0]&&i.shift();var o=""===n?{}:s.getQueryVariables(n);return{pathString:t,queryString:n,path:i,query:o}},s.makeRequest=function(e){var t=s.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return"undefined"===typeof e?t.path:t.path[e]},getQuery:function(e,n){var r;return"undefined"===typeof e?r=t.query:(r=t.query[e],r&&"undefined"!==typeof n&&(r=r[n])),r},getQueryLast:function(e,t){var r,i=n.getQuery(e);return r=i?i[i.length-1]:t,r}};return n},s.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return n=n||"",e+(r.length>0?"?"+r:"")+(n.length>0?"#"+n:"")},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){var t,n,r=/%./g,i=0,o=[],a=0;while(t=r.exec(e)){n=e.substring(a,r.lastIndex-2),n.length>0&&o.push(n),a=r.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},s.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===n?",":n,s=void 0===r?".":r,c=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=l.length>3?l.length%3:0;return c+(u?l.substr(0,u)+s:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-l).toFixed(o).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes",e},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(e=e.split("."),4!==e.length)return null;for(var t=s.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},s.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}));for(var n=2*(8-e.length+t),r=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=s.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){var o=s.bytesToHex(e[i]+e[i+1]);while("0"===o[0]&&"0"!==o)o=o.substr(1);if("0"===o){var a=n[n.length-1],c=t.length;a&&c===a.end+1?(a.end=c,a.end-a.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:c,end:c})}t.push(o)}if(n.length>0){var l=n[r];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),0===l.start&&t.unshift(""),7===l.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"===typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"===typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"===typeof Blob)return s.cores=2,t(null,s.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),n=t+4;while(Date.now()<n);self.postMessage({st:t,et:n})}))}.toString(),")()"],{type:"application/javascript"}));function r(e,a,c){if(0===a){var l=Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length);return s.cores=Math.max(1,l),URL.revokeObjectURL(n),t(null,s.cores)}i(c,(function(t,n){e.push(o(c,n)),r(e,a-1,c)}))}function i(e,t){for(var r=[],i=[],o=0;o<e;++o){var a=new Worker(n);a.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}})),r.push(a)}for(o=0;o<e;++o)r[o].postMessage(o)}function o(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],a=0;a<e;++a)if(r!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return n.reduce((function(e,t){return Math.max(e,t.length)}),0)}r([],5,16)}}).call(this,n("4362"),n("c8ba"),n("b639").Buffer)},baa5:function(e,t,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bf19:function(e,t,n){"use strict";var r=n("23e7");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},c92f:function(e,t,n){"use strict";const r=n("68fa"),i={};e.exports=i,i.isSubject=e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},i.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>r.isObject(e)&&"@value"in e,i.isList=e=>r.isObject(e)&&"@list"in e,i.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},d1e70:function(e,t,n){"use strict";const r=n("89ae"),i=n("5950"),{isArray:o,isObject:a,isString:s,isUndefined:c}=n("68fa"),{isAbsolute:l,isRelative:u,prependBase:d,parse:f}=n("ddd7"),{asArray:h,compareShortestLeast:p}=n("89ae"),g=new Map,y=1e4,v=/^@[a-zA-Z]+$/,m={};function b(e,t,n,r,i,o){if(null===t||!s(t)||m.isKeyword(t))return t;if(t.match(v))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),n=n||{},n.vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const c=t.indexOf(":");if(c>0){const n=t.substr(0,c),a=t.substr(c+1);if("_"===n||0===a.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:o});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+a;if(l(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return d(d(o.base,e["@base"]),t)}else if(n.base)return d(o.base,t);return t}function x(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!x(e[n],t[n]))return!1;return!0}const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o in e){let n=e[o],r=t[o];if("@container"===o&&Array.isArray(n)&&Array.isArray(r)&&(n=n.slice().sort(),r=r.slice().sort()),!x(n,r))return!1}return!0}e.exports=m,m.process=async({activeCtx:e,localCtx:t,options:n,propagate:c=!0,overrideProtected:f=!1,cycles:p=new Set})=>{a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]);const g=h(t);if(0===g.length)return e;const y=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});a(y[0].document)&&"boolean"===typeof y[0].document["@propagate"]&&(c=y[0].document["@propagate"]);let v=e;c||v.previousContext||(v=v.clone(),v.previousContext=e);for(const o of y){let{document:c}=o;if(e=v,null===c){if(!f&&0!==Object.keys(e.protected).length){const a=n&&n.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");const t=o.getProcessed(e);if(t){v=e=t;continue}const i=e;v=e=m.getInitialContext(n).clone();for(const[n,o]of Object.entries(i.protected))o&&(e.mappings[n]=r.clone(i.mappings[n]));e.protected=r.clone(i.protected),o.setProcessed(i,v);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:a})}v=e=m.getInitialContext(n).clone();continue}const h=o.getProcessed(e);if(h){v=e=h;continue}if(a(c)&&"@context"in c&&(c=c["@context"]),!a(c))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:c});v=v.clone();const g=new Map;if("@version"in c){if(1.1!==c["@version"])throw new i("Unsupported JSON-LD version: "+c["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:c});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+c["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:c});v.processingMode="json-ld-1.1",v["@version"]=c["@version"],g.set("@version",!0)}if(v.processingMode=v.processingMode||e.processingMode,"@base"in c){let e=c["@base"];if(null===e||l(e));else{if(!u(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:c});e=d(v["@base"],e)}v["@base"]=e,g.set("@base",!0)}if("@vocab"in c){const e=c["@vocab"];if(null===e)delete v["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});if(!l(e)&&m.processingMode(v,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});v["@vocab"]=b(v,e,{vocab:!0,base:!0},void 0,void 0,n)}g.set("@vocab",!0)}if("@language"in c){const e=c["@language"];if(null===e)delete v["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:c});v["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in c){const t=c["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:c});if(null===t)delete v["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:c});v["@direction"]=t}g.set("@direction",!0)}if("@propagate"in c){const n=c["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if("boolean"!==typeof n)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in c){const r=c["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if(!s(r))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const o=await n.contextResolver.resolve({activeCtx:e,context:r,documentLoader:n.documentLoader,base:n.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=o[0].getProcessed(e);if(a)c=a;else{const n=o[0].document;if("@import"in n)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)c.hasOwnProperty(e)||(c[e]=n[e]);o[0].setProcessed(e,c)}g.set("@import",!0)}g.set("@protected",c["@protected"]||!1);for(const e in c)if(m.createTermDefinition({activeCtx:v,localCtx:c,term:e,defined:g,options:n,overrideProtected:f}),a(c[e])&&"@context"in c[e]){const t=c[e]["@context"];let r=!0;if(s(t)){const e=d(n.base,t);p.has(e)?r=!1:p.add(e)}if(r)try{await m.process({activeCtx:v.clone(),localCtx:c[e]["@context"],overrideProtected:!0,options:n,cycles:p})}catch(x){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:c[e]["@context"],term:e})}}o.setProcessed(e,v)}return v},m.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:c,overrideProtected:u=!1})=>{if(r.has(n)){if(r.get(n))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let d;if(r.set(n,!1),t.hasOwnProperty(n)&&(d=t[n]),"@type"===n&&a(d)&&"@set"===(d["@container"]||"@set")&&m.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(d);if(0===r.length||r.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(m.isKeyword(n))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(v))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let h=!1;if((s(d)||null===d)&&(h=!0,d={"@id":d}),!a(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const p={};e.mappings.set(n,p),p.reverse=!1;const g=["@container","@id","@language","@reverse","@type"];m.processingMode(e,1.1)&&g.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in d)if(!g.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const y=n.indexOf(":");if(p._termHasColon=y>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const o=d["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!m.isKeyword(o)&&o.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),void(f?e.mappings.set(n,f):e.mappings.delete(n));const a=b(e,o,{vocab:!0,base:!1},t,r,c);if(!l(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=a,p.reverse=!0}else if("@id"in d){let o=d["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)p["@id"]=null;else{if(!m.isKeyword(o)&&o.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),void(f?e.mappings.set(n,f):e.mappings.delete(n));if(o!==n){if(o=b(e,o,{vocab:!0,base:!1},t,r,c),!l(o)&&!m.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const a=new Map(r).set(n,!0),s=b(e,n,{vocab:!0,base:!1},t,a,c);if(s!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}p["@id"]=o,p._prefix=h&&!p._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in p))if(p._termHasColon){const i=n.substr(0,y);if(t.hasOwnProperty(i)&&m.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:r,options:c}),e.mappings.has(i)){const t=n.substr(y+1);p["@id"]=e.mappings.get(i)["@id"]+t}else p["@id"]=n}else if("@type"===n)p["@id"]=n;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});p["@id"]=e["@vocab"]+n}if((!0===d["@protected"]||!0===r.get("@protected")&&!1!==d["@protected"])&&(e.protected[n]=!0,p.protected=!0),r.set(n,!0),"@type"in d){let n=d["@type"];if(!s(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(m.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=b(e,n,{vocab:!0,base:!1},t,r,c),!l(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}p["@type"]=n}if("@container"in d){const n=s(d["@container"])?[d["@container"]]:d["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const c=n.includes("@set");if(m.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(c?2:1);if(n.includes("@type")&&(p["@type"]=p["@type"]||"@id",!["@id","@vocab"].includes(p["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(d["@container"]),a&=n.length<=1;if(a&=n.every(e=>r.includes(e)),a&=!(c&&n.includes("@list")),!a)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(p.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});p["@container"]=n}if("@index"in d){if(!("@container"in d)||!p["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});p["@index"]=d["@index"]}if("@context"in d&&(p["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),p["@language"]=e}if("@prefix"in d){if(n.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(m.isKeyword(p["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof d["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});p._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});p["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});p["@nest"]=e}
// disallow aliasing @context and @preserve
const w=p["@id"];if("@context"===w||"@preserve"===w)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!u&&(e.protected[n]=!0,p.protected=!0,!x(f,p))){const e=c&&c.protectedMode||"error";if("error"===e)throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},m.expandIri=(e,t,n,r)=>b(e,t,n,void 0,void 0,r),m.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=g.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:o,clone:c,revertToPreviousContext:l,protected:{}};return g.size===y&&g.clear(),g.set(t,i),i;function o(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},i=(e["@language"]||"@none").toLowerCase(),o=e["@direction"],c=e.mappings,l=[...c.keys()].sort(p);for(const a of l){const e=c.get(a);if(null===e)continue;let l=e["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===e["@id"])continue;const u=h(e["@id"]);for(const c of u){let u=t[c];const d=m.isKeyword(c);if(u)d||e._termHasColon||r[c].push(a);else if(t[c]=u={},!d&&!e._termHasColon){r[c]=[a];const e={iri:c,terms:r[c]};c[0]in n?n[c[0]].push(e):n[c[0]]=[e]}if(u[l]||(u[l]={"@language":{},"@type":{},"@any":{}}),u=u[l],s(a,u["@any"],"@none"),e.reverse)s(a,u["@type"],"@reverse");else if("@none"===e["@type"])s(a,u["@any"],"@none"),s(a,u["@language"],"@none"),s(a,u["@type"],"@none");else if("@type"in e)s(a,u["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];s(a,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?"_"+n:"@null")}else"@language"in e?s(a,u["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(a,u["@language"],"_"+e["@direction"]):s(a,u["@language"],"@none"):o?(s(a,u["@language"],"_"+o),s(a,u["@language"],"@none"),s(a,u["@type"],"@none")):(s(a,u["@language"],i),s(a,u["@language"],"@none"),s(a,u["@type"],"@none"))}}for(const s in n)a(n,s,1);return t}function a(e,t,n){const r=e[t],i=e[t]={};let o,s;for(const a of r)o=a.iri,s=n>=o.length?"":o[n],s in i?i[s].push(a):i[s]=[a];for(const c in i)""!==c&&a(i,c,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}function c(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function l(){return this.previousContext?this.previousContext.clone():this}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(c(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},d327:function(e,t){e.exports={options:{usePureJavaScript:!1}}},db44:function(e,t,n){"use strict";const r=n("7164");e.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:n=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=n}doWork(e,t){const n=this.schedule;if(n.totalDepth>=n.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));(function i(){if(n.depth===n.MAX_DEPTH)return n.depth=0,n.running=!1,r.nextTick(i);const o=Date.now();if(n.running||(n.start=Date.now(),n.deadline=n.start+n.timeSlice),o<n.deadline)return n.running=!0,n.depth++,n.totalDepth++,e((e,r)=>{n.depth--,n.totalDepth--,t(e,r)});n.depth=0,n.running=!1,r.setImmediate(i)})()}forEach(e,t,n){const r=this;let i,o,a=0;if(Array.isArray(e))o=e.length,i=()=>a!==o&&(i.value=e[a++],i.key=a,!0);else{const t=Object.keys(e);o=t.length,i=()=>a!==o&&(i.key=t[a++],i.value=e[i.key],!0)}(function e(o){return o?n(o):i()?r.doWork(()=>t(i.value,i.key,e)):void n()})()}waterfall(e,t){const n=this;n.forEach(e,(e,t,r)=>n.doWork(e,r),t)}whilst(e,t,n){const r=this;(function i(o){return o?n(o):e()?void r.doWork(t,i):n()})()}}},ddd7:function(e,t,n){"use strict";const r=n("68fa"),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let a=r.keys.length;while(a--)n[r.keys[a]]=void 0===o[a]?null:o[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),c=o.fragment||o.query?0:1;while(a.length>0&&s.length>c){if(a[0]!==s[0])break;a.shift(),s.shift()}let l="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)l+="../"}return l+=s.join("/"),null!==o.query&&(l+="?"+o.query),null!==o.fragment&&(l+="#"+o.fragment),""===l&&(l="./"),l},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];while(t.length>0){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>r.isString(e)&&o.test(e),i.isRelative=e=>r.isString(e)},e58c:function(e,t,n){"use strict";var r=n("fc6a"),i=n("a691"),o=n("50c4"),a=n("a640"),s=n("ae40"),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),h=u||!d||!f;e.exports=h?function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},e6ed:function(e,t,n){"use strict";const{isKeyword:r}=n("d1e70"),i=n("c92f"),o=n("68fa"),a=n("89ae"),s=n("ddd7"),c=n("5950"),{createNodeMap:l,mergeNodeMapGraphs:u}=n("796c"),d={};function f(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function h(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function p(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function g(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new c("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function y(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];v(e,t,n,r)&&(i[o]=t)}return i}function v(e,t,n,s){let c=!0,l=!1;for(const u in n){let d=!1;const f=a.getValues(t,u),h=0===a.getValues(n,u).length;if("@id"===u){if(o.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(f[0])),!s.requireAll)return d}else if("@type"===u){if(c=!1,h){if(f.length>0)return!1;d=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))d=f.length>0;else for(const e of n["@type"])d=!(!o.isObject(e)||!("@default"in e))||(d||f.some(t=>t===e));if(!s.requireAll)return d}else{if(r(u))continue;{const t=a.getValues(n,u)[0];let r=!1;if(t&&(g([t]),r="@default"in t),c=!1,0===f.length&&r)continue;if(f.length>0&&h)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(f[0])){const t=f[0]["@list"];i.isValue(n)?d=t.some(e=>I(n,e)):(i.isSubject(n)||i.isSubjectReference(n))&&(d=t.some(t=>w(e,n,t,s)))}}else d=i.isValue(t)?f.some(e=>I(t,e)):i.isSubjectReference(t)?f.some(n=>w(e,t,n,s)):!!o.isObject(t)&&f.length>0}}if(!d&&s.requireAll)return!1;l=l||d}return c||l}function m(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,s=r.property,c={"@id":t};if(o.isArray(i)){for(let o=0;o<i.length;++o)if(a.compareValues(i[o],c)){i[o]=c;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,c,{propertyIsArray:e}),a.addValue(i,s,c,{propertyIsArray:e})}const l=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],l(r))};l(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function b(e,t){if(o.isArray(e))return e.map(e=>b(e,t));if(o.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=b(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=b(e[n],t)}return e}function x(e,t,n){o.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function w(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&v(e,i,t,r)}function I(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],c=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===c.length||!(!a.includes(n)&&!o.isEmptyObject(a[0]))&&(!!(!r&&0===s.length||s.includes(r)||r&&o.isEmptyObject(s[0]))&&!!(!i&&0===c.length||c.includes(i)||i&&o.isEmptyObject(c[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");l(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return d.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),
// remove @preserve from results
n.link={},b(o,n)},d.frame=(e,t,n,s,l=null)=>{g(n),n=n[0];const u=e.options,v={embed:p(n,u,"embed"),explicit:p(n,u,"explicit"),requireAll:p(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],w=y(e,t,n,v),S=Object.keys(w).sort();for(const g of S){const y=w[g];if(null===l?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&g in b){x(s,l,b[g]);continue}const S={"@id":g};if(0===g.indexOf("_:")&&a.addValue(e.bnodeMap,g,S,{propertyIsArray:!0}),b[g]=S,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(g))if(!e.embedded||"@never"!==v.embed&&!h(y,e.graph,e.subjectStack))if(!e.embedded||"@first"!=v.embed&&"@once"!=v.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(g)){if("@last"===v.embed&&g in e.uniqueEmbeds[e.graph]&&m(e,g),e.uniqueEmbeds[e.graph][g]={parent:s,property:l},e.subjectStack.push({subject:y,graph:e.graph}),g in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===g||"@default"===g),o.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&d.frame({...e,graph:g,embedded:!1},Object.keys(e.graphMap[g]).sort(),[r],S,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],S,"@included");for(const t of Object.keys(y).sort())if(r(t)){if(S[t]=a.clone(y[t]),"@type"===t)for(const n of y["@type"])0===n.indexOf("_:")&&a.addValue(e.bnodeMap,n,S,{propertyIsArray:!0})}else if(!v.explicit||t in n)for(const r of y[t]){const o=t in n?n[t]:f(v);if(i.isList(r)){const o=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:f(v),s={"@list":[]};x(S,t,s);const c=r["@list"];for(const t of c)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],o,s,"@list"):x(s,"@list",a.clone(t))}else i.isSubjectReference(r)?d.frame({...e,embedded:!0},[r["@id"]],o,S,t):I(o[0],r)&&x(S,t,a.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!o.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{},i=p(t,u,"omitDefault");if(!i&&!(e in S)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),o.isArray(n)||(n=[n]),S[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects)){const i=a.getValues(e.subjects[n],t);i.some(e=>e["@id"]===g)&&(S["@reverse"]=S["@reverse"]||{},a.addValue(S["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],r,S["@reverse"][t],l))}}x(s,l,S),e.subjectStack.pop()}else x(s,l,S);else x(s,l,S)}},d.cleanupNull=(e,t)=>{if(o.isArray(e)){const n=e.map(e=>d.cleanupNull(e,t));return n.filter(e=>e)}if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},eb9d:function(e,t,n){var r=n("d327");e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},f4d4:function(e,t,n){},f9a0:function(e,t,n){"use strict";const{RDF_LANGSTRING:r,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:a,XSD_STRING:s}=n("feb1");let c;function l(){return"undefined"===typeof XMLSerializer?n(5).XMLSerializer:XMLSerializer}c="undefined"!==typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},n=e.getSubjects();for(let u=0;u<n.length;++u){const d=n[u];if(null===d)continue;const f=e.getSubjectTriples(d);if(null===f)continue;const h=f.predicates;for(const e in h){const n=h[e].objects;for(let u=0;u<n.length;++u){const f=n[u],h={};0===d.indexOf("_:")?h.subject={type:"blank node",value:d}:h.subject={type:"IRI",value:d},0===e.indexOf("_:")?h.predicate={type:"blank node",value:e}:h.predicate={type:"IRI",value:e};let p=f.value;if(f.type===a){const e=l(),t=new e;p="";for(let n=0;n<f.value.length;n++)f.value[n].nodeType===c.ELEMENT_NODE?p+=t.serializeToString(f.value[n]):f.value[n].nodeType===c.TEXT_NODE&&(p+=f.value[n].nodeValue)}h.object={},f.type===o?0===f.value.indexOf("_:")?h.object.type="blank node":h.object.type="IRI":(h.object.type="literal",f.type===i?f.language?(h.object.datatype=r,h.object.language=f.language):h.object.datatype=s:h.object.datatype=f.type),h.object.value=p,t["@default"].push(h)}}}return t}}},fdb5:function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n("89ae"),{LINK_HEADER_CONTEXT:o}=n("feb1"),a=n("5950"),s=n("40ce"),{prependBase:c}=n("ddd7");function l(e,t){return new Promise((n,r)=>{e(t,(e,t,i)=>{e?r(e):n({res:t,body:i})})})}e.exports=({secure:e,strictSSL:t=!0,maxRedirects:u=-1,request:d,headers:f={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{f=i(f),d=d||n(6);const h=n(7),p=new s;return p.wrapLoader((function(e){return g(e,[])}));async function g(n,i){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n});if(e&&0!==n.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n});let s,p=null;if(null!==p)return p;let y=null;try{s=await l(d,{url:n,headers:f,strictSSL:t,followRedirect:!1})}catch(x){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:x})}const{res:v,body:m}=s;p={contextUrl:null,documentUrl:n,document:m||null};const b=h.STATUS_CODES[v.statusCode];if(v.statusCode>=400)throw new a(`URL "${n}" could not be dereferenced: ${b}`,"jsonld.InvalidUrl",{code:"loading document failed",url:n,httpStatusCode:v.statusCode});if(v.headers.link&&"application/ld+json"!==v.headers["content-type"]){const e=r(v.headers.link),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n});t&&(p.contextUrl=t.target),y=e["alternate"],y&&"application/ld+json"==y.type&&!(v.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(v.headers.location=c(n,y.target))}if((y||v.statusCode>=300&&v.statusCode<400)&&v.headers.location){if(i.length===u)throw new a("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:n,httpStatusCode:v.statusCode,redirects:i});if(-1!==i.indexOf(n))throw new a("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:n,httpStatusCode:v.statusCode,redirects:i});return i.push(n),g(v.headers.location,i)}return i.push(n),p}}},feb1:function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}}}]);
//# sourceMappingURL=chunk-00f933aa.862a2284.js.map