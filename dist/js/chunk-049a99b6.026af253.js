(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-049a99b6"],{"11a8":function(e,t){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="NamedNode",e.exports=n},"3cf1":function(e,t,n){var r=n("47b7"),a=n("d76c"),o=n("5afa"),i=n("11a8"),s=n("e1cc"),u=n("a55c");function l(){}l.namedNode=function(e){return new i(e)},l.blankNode=function(e){return new r(e)},l.literal=function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new o(e,t):new o(e,null,l.namedNode(t)):new o(e,null,t)},l.defaultGraph=function(){return l.defaultGraphInstance},l.variable=function(e){return new u(e)},l.triple=function(e,t,n){return l.quad(e,t,n)},l.quad=function(e,t,n,r){return new s(e,t,n,r||l.defaultGraphInstance)},l.defaultGraphInstance=new a,e.exports=l},"47b7":function(e,t){function n(e){this.value=e||"b"+ ++n.nextId}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="BlankNode",n.nextId=0,e.exports=n},"5afa":function(e,t,n){var r=n("11a8");function a(e,t,n){this.value=e,this.datatype=a.stringDatatype,this.language="",t?(this.language=t,this.datatype=a.langStringDatatype):n&&(this.datatype=n)}a.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},a.prototype.termType="Literal",a.langStringDatatype=new r("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new r("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},"89e0":function(e,t,n){"use strict";var r=n("c089"),a=n.n(r);a.a},"9b92":function(e,t,n){var r=n("3cf1");e.exports=r},a55c:function(e,t){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="Variable",e.exports=n},c089:function(e,t,n){},d76c:function(e,t){function n(){this.value=""}n.prototype.equals=function(e){return!!e&&e.termType===this.termType},n.prototype.termType="DefaultGraph",e.exports=n},e1cc:function(e,t,n){var r=n("d76c");function a(e,t,n,a){this.subject=e,this.predicate=t,this.object=n,this.graph=a||new r}a.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=a},f345:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-chat-send"},[null!=e.webId?n("b-input-group",{staticClass:" input",attrs:{size:"lg"}},[n("b-form-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:e.send}},[e._v("Send")])],1)],1):n("SolidLogin",{staticClass:"mt-3 input"})],1)},a=[],o=(n("d3b7"),n("96cf"),n("1da1")),i=n("4d8d"),s=n("6dc1"),u=n("00e8"),l=n.n(u),c=n("9b92"),p=c.namedNode,d=window.SolidFileClient;console.log("SFC",d);var f=new d(l.a);console.log(f);var h=window.solid;console.log("SOLID",h);var g={name:"SolidChatSend",components:{SolidLogin:function(){return Promise.resolve().then(n.bind(null,"6bae"))}},data:function(){return{message:""}},computed:{fileUrl:function(){return this.$store.state.chat.fileUrl},webId:function(){return this.$store.state.solid.webId}},watch:{webId:function(e){console.log("Webid",e)},fileUrl:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.itemExists(e.fileUrl);case 2:if(t.sent){t.next=7;break}return t.next=5,f.postFile(e.fileUrl,"","text/turtle").then((function(e){console.log("File Created",e)})).catch((function(e){return console.error("Error: ".concat(e))}));case 5:t.next=8;break;case 7:console.log("File exist",e.fileUrl);case 8:case"end":return t.stop()}}),t)})))()}},methods:{send:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,u,l,c,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.state.solid.webId,r=e.$store.state.chat.root,console.log(e.fileUrl),!(e.message.length>0&&null!=n)){t.next=27;break}return console.log(e.message),a=new Date,o="Msg"+a.getTime(),u=a.toISOString(),console.log("WEBID",e.$store.state.solid.webId,e.fileUrl),l=r+"/index.ttl#this",console.log("TODO : must integrate "+l+" in tripledoc or batch ldflex"),c=e.fileUrl+"#"+o,console.log(c),t.next=15,h.data.from(e.fileUrl)[l]["http://www.w3.org/2005/01/wf/flow#message"].add(p(c));case 15:return t.next=17,Object(i["b"])(e.fileUrl);case 17:return d=t.sent,f=d.addSubject({identifier:o}),f.addLiteral(s["g"].content,e.message),f.addLiteral(s["a"].created,u),f.addNodeRef(s["b"].maker,n),t.next=24,d.save();case 24:e.message="",t.next=28;break;case 27:alert("Oh Oh, if yu wanna post yu gotta log in ;-)");case 28:case"end":return t.stop()}}),t)})))()}}},w=g,m=(n("89e0"),n("2877")),b=Object(m["a"])(w,r,a,!1,null,"3e0d7a3d",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-049a99b6.026af253.js.map