(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["browser"],{"6d6f":function(e,t,n){},a36b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"browser"},[null!=e.webId?n("div",[n("b-list-group",["https://"!=e.folder.parent?n("b-list-group-item",{staticClass:"item",on:{click:function(t){return e.updateFolder(e.folder.parent)}}},[n("b-icon-arrow-up"),e._v(" "+e._s(e.folder.url)+" "),n("b-icon-upload")],1):n("b-list-group-item",{staticClass:"item"},[e._v(" "+e._s(e.storage)+" "),n("b-icon-upload")],1),n("div",[n("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and dropdown menu"}},[n("b-button-group",{staticClass:"mx-1"},[n("b-button",{on:{click:e.init_folder}},[e._v("New folder")])],1)],1)],1),e._l(e.folder.folders,(function(t){return n("b-list-group-item",{key:t.name,staticClass:"item list-group-item d-flex justify-content-between",on:{click:function(n){return e.selected(t)},contextmenu:function(n){return n.preventDefault(),e.right(t)}}},[n("p",{staticClass:"p-0 m-0 flex-grow-1"},[n("b-icon-folder"),e._v(" "+e._s(t.name))],1),n("b-button",{attrs:{size:"sm mr-2",variant:"outline-primary"}},[n("b-icon-alt",{attrs:{variant:"primary"},on:{click:function(n){return n.stopPropagation(),e.init_move(t)}}})],1),n("b-button",{attrs:{size:"sm",variant:"outline-danger"}},[n("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(n){return n.stopPropagation(),e.init_trash(t)}}})],1)],1)}))],2),n("b-list-group",e._l(e.folder.files,(function(t){return n("b-list-group-item",{key:t.name,staticClass:"item list-group-item d-flex justify-content-between",on:{click:function(n){return e.selected(t)},contextmenu:function(n){return n.preventDefault(),e.right(t)}}},[n("p",{staticClass:"p-0 m-0 flex-grow-1"},[n("b-icon-file"),e._v(" "+e._s(t.name))],1),n("b-button",{attrs:{size:"sm mr-2",variant:"outline-primary"}},[n("b-icon-alt",{attrs:{variant:"primary"},on:{click:function(n){return n.stopPropagation(),e.init_move(t)}}})],1),n("b-button",{attrs:{size:"sm",variant:"outline-danger"}},[n("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(n){return n.stopPropagation(),e.init_trash(t)}}})],1)],1)})),1)],1):n("div",[n("SolidLogin")],1),n("b-modal",{attrs:{id:"context-menu",title:e.contextTitle}},[n("b-list-group",[n("b-input-group",{attrs:{prepend:"Rename"}},[n("b-form-input",{model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1)],1)],1),n("b-modal",{attrs:{id:"confirm-trash",title:"Trash"},on:{ok:e.trash}},[e._v(" Are you sure you want to delete "),n("b-icon-trash",{attrs:{variant:"danger"}}),n("b",[e._v(e._s(e.currentItem.name))]),e._v(" ("+e._s(e.currentItem.type)+") "),n("b-icon-trash",{attrs:{variant:"danger"}}),e._v(" and all its content ? "),n("br"),n("small",[e._v(" "+e._s(e.currentItem.url)+" ")])],1),n("b-modal",{attrs:{id:"move",title:"Are you sure you want to move or rename"},on:{ok:e.move}},[e._v(" name : "+e._s(e.currentItem.name)+" "),n("br"),n("small",[e._v(" "+e._s(e.currentItem.url)+" ")]),n("b-input-group",{attrs:{size:"sm",prepend:"New location"}},[n("b-form-input",{model:{value:e.new_location,callback:function(t){e.new_location=t},expression:"new_location"}})],1)],1),n("b-modal",{attrs:{id:"folder-modal",title:"New Folder"},on:{ok:e.createFolder}},[n("b-input-group",{attrs:{size:"sm",prepend:"New Folder"}},[n("b-form-input",{model:{value:e.new_folder,callback:function(t){e.new_folder=t},expression:"new_folder"}})],1)],1)],1)},o=[],a=(n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),i=n("93ef"),s=n("00e8"),l=n.n(s),u=window.SolidFileClient;console.log("SFC",u);var c=new u(l.a);console.log("SFC",c);var d={name:"Browser",components:{SolidLogin:function(){return Promise.resolve().then(n.bind(null,"6bae"))}},data:function(){return{contextTitle:"",currentItem:{},newName:"",new_location:"",new_folder:""}},methods:{selected:function(e){"folder"==e.type?this.$store.dispatch("solid/updateFolder",e.url):this.$store.dispatch("solid/updateFile",e)},init_folder:function(){this.$bvModal.show("folder-modal")},createFolder:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.new_folder),!(e.new_folder.length>0)){t.next=15;break}return n=e.folder.url+e.new_folder,console.log(n),t.next=6,c.itemExists(n);case 6:if(t.sent){t.next=11;break}return t.next=9,c.createFolder(n);case 9:t.next=12;break;case 11:alert(n+" already exists");case 12:e.updateFolder(e.folder.url),t.next=16;break;case 15:alert("folder name can not be empty");case 16:case"end":return t.stop()}}),t)})))()},right:function(e){console.log("right",e),this.contextTitle=e.name,this.newName=e.name,this.$bvModal.show("context-menu"),this.currentItem=e},init_trash:function(e){console.log(e),this.$bvModal.show("confirm-trash"),this.currentItem=e},init_move:function(e){console.log(e),this.$bvModal.show("move"),this.currentItem=e,this.new_location=e.url},move:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Move",e.currentItem.type,e.currentItem.url,"to",e.new_location),"folder"!=e.currentItem.type){t.next=6;break}return t.next=4,c.move(e.currentItem.url,e.new_location);case 4:t.next=8;break;case 6:return t.next=8,c.move(e.currentItem.url,e.new_location);case 8:e.updateFolder(e.folder.url);case 9:case"end":return t.stop()}}),t)})))()},trash:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Trash",e.currentItem.type,e.currentItem.url),"folder"==e.currentItem.type){t.next=7;break}return t.next=4,Object(i["b"])(e.currentItem.url);case 4:console.log("File deleted !"),t.next=9;break;case 7:return t.next=9,c.deleteFolder(e.currentItem.url);case 9:e.updateFolder(e.folder.url);case 10:case"end":return t.stop()}}),t)})))()},updateFolder:function(e){this.$store.dispatch("solid/updateFolder",e)}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},folder:function(){return this.$store.state.solid.folder}}},m=d,f=(n("f112"),n("2877")),p=Object(f["a"])(m,r,o,!1,null,null,null);t["default"]=p.exports},f112:function(e,t,n){"use strict";var r=n("6d6f"),o=n.n(r);o.a}}]);
//# sourceMappingURL=browser.9bfb0b54.js.map