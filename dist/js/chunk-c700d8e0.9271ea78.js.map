{"version":3,"sources":["webpack:///./src/components/editor/EditorNetwork.vue?a597","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/editor/EditorNetwork.vue?9b06","webpack:///src/components/editor/EditorNetwork.vue","webpack:///./src/components/editor/EditorNetwork.vue?d9ee","webpack:///./src/components/editor/EditorNetwork.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","file","url","node","label","directives","name","rawName","modifiers","on","clear","model","value","callback","$$v","filename","expression","create","ref","attrs","nodes","edges","options","saveNode","saveEdge","edge","staticRenderFns","mixins","networkMixin","components","data","tmp_file","triples","borderWidth","color","manipulation","enabled","initiallyActive","addNode","addEdge","editEdge","deleteNode","deleteEdge","controlNodeStyle","mounted","methods","addTriplet","editNode","editEdgeWithoutDrag","clearNodePopUp","cancelNodeEdit","saveNodeData","clearEdgePopUp","cancelEdgeEdit","saveEdgeData","watch","friends","webId","computed","component","$map","map","callbackfn","undefined"],"mappings":"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","file":"js/chunk-c700d8e0.9271ea78.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modele-view\"},[_vm._v(\" EditorNetwork \"+_vm._s(_vm.file.url)),_c('br'),_vm._v(\" TITLE : \"+_vm._s(_vm.node.label)),_c('br'),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.node-popup\",modifiers:{\"node-popup\":true}}]},[_vm._v(\"Launch demo modal\")]),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.edge-popup\",modifiers:{\"edge-popup\":true}}]},[_vm._v(\"Launch demo modal\")]),_c('b-button',{on:{\"click\":_vm.clear}},[_vm._v(\"Clear\")]),_c('b-input',{model:{value:(_vm.filename),callback:function ($$v) {_vm.filename=$$v},expression:\"filename\"}}),_c('b-button',{on:{\"click\":_vm.create}},[_vm._v(\"New\")]),_c('network',{ref:\"network\",attrs:{\"nodes\":_vm.nodes,\"edges\":_vm.edges,\"options\":_vm.options}}),_c('NodeModal',{on:{\"ok\":_vm.saveNode},model:{value:(_vm.node),callback:function ($$v) {_vm.node=$$v},expression:\"node\"}}),_c('EdgeModal',{on:{\"ok\":_vm.saveEdge},model:{value:(_vm.edge),callback:function ($$v) {_vm.edge=$$v},expression:\"edge\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modele-view\">\n    <!--  <Component /> -->\n    EditorNetwork {{ file.url }}<br>\n    TITLE : {{ node.label}}<br>\n    \n    <b-button v-b-modal.node-popup>Launch demo modal</b-button>\n    <b-button v-b-modal.edge-popup>Launch demo modal</b-button>\n    <b-button @click=\"clear\">Clear</b-button>\n    <b-input v-model=\"filename\" />\n    <b-button @click=\"create\">New</b-button>\n    <!--<network ref=\"network\"\n    class=\"wrapper\"\n    :nodes=\"nodes\"\n    :edges=\"edges\"\n    :options=\"options\"\n    @select=\"networkEvent('select')\"\n    @select-node=\"networkEvent('selectNode')\"\n    @select-edge=\"networkEvent('selectEdge')\"\n    >\n  </network>-->\n  <network ref=\"network\"\n  :nodes=\"nodes\"\n  :edges=\"edges\"\n  :options=\"options\">\n</network>\n\n<NodeModal v-model=\"node\" @ok=\"saveNode\"/>\n<EdgeModal v-model=\"edge\" @ok=\"saveEdge\"/>\n\n\n<!--  <b-list-group>\n<b-list-group-item v-for=\"(t,i) in triples\" :key=\"i\">\n<div class=\"row\">\n<div class=\"col rounded\">\n<b><a :href=\"t.subject.id\" target=\"_blank\">{{t.subject.id }}</a></b>\n</div>\n<div class=\"col\">\n{{ t.predicate.id }}\n</div>\n<div class=\"col\">\n<span v-if=\"t.object.id.startsWith('http')\">\n<b><a :href=\"t.object.id\" target=\"_blank\">{{t.object.id }}</a></b>\n</span>\n<span v-else>\n{{ t.object.id }}\n</span>\n</div>\n</div>\n</b-list-group-item>\n</b-list-group> -->\n</div>\n</template>\n\n<script>\nimport {  fetchDocument, createDocument } from 'tripledoc';\nimport { foaf, rdfs, dct } from 'rdf-namespaces'\nimport \"vue-vis-network/node_modules/vis-network/dist/vis-network.css\";\nimport networkMixin from '@/mixins/networkMixin'\n\nexport default {\n  name: 'EditorNetwork',\n  mixins: [networkMixin],\n  components: {\n    'NodeModal': () => import('@/components/network/NodeModal'),\n    'EdgeModal': () => import('@/components/network/EdgeModal'),\n  },\n  data() {\n    return {\n      //  title:{label:\"youpy\"},\n      filename:\"\",\n      tmp_file: null,\n      triples: [],\n      node: {},\n      edge:{},\n      nodes: [\n        {id: 1,  label: 'circle',  shape: 'circle' },\n        {id: 2,  label: 'ellipse', shape: 'ellipse'},\n        {id: 3,  label: 'database',shape: 'database'},\n        {id: 4,  label: 'box',     shape: 'box'    },\n        {id: 5,  label: 'diamond', shape: 'diamond'},\n        {id: 6,  label: 'dot',     shape: 'dot'},\n        {id: 7,  label: 'square',  shape: 'square'},\n        {id: 8,  label: 'triangle',shape: 'triangle'},\n      ],\n      edges: [\n        {from: 1, to: 2},\n        {from: 2, to: 3},\n        {from: 2, to: 4},\n        {from: 2, to: 5},\n        {from: 5, to: 6},\n        {from: 5, to: 7},\n        {from: 6, to: 8}\n      ],\n      options: {\n        nodes: {\n          borderWidth: 4\n        },\n        edges: {\n          color: 'lightgray'\n        },\n        manipulation: {\n          enabled: true,\n          initiallyActive: true,\n          addNode: true,\n          addEdge: true,\n        //  editNode: true,\n          editEdge: true,\n          deleteNode: true,\n          deleteEdge: true,\n          controlNodeStyle:{\n            // all node options are valid.\n          }\n        }\n\n      }\n      /*  nodes: [],\n      edges: [],\n      options: {\n      locale: navigator.language,\n      nodes: {\n      borderWidth: 1\n    },\n    edges:{\n    arrows: 'to',\n    color: 'red',\n    //  font: '12px arial #ff0000',\n\n    //  shadow: true,\n    //   font: '12px arial #ff0000',\n    scaling:{\n    label: true,\n  },\n  smooth: true,\n},\ninteraction: {\nnavigationButtons: true,\nkeyboard: true\n},\nmanipulation: {\n\naddNode: function (data, callback) {\n// filling in the popup DOM elements\n//  document.getElementById('node-operation').innerHTML = \"Add Node\";\nthis.editNode(data, this.clearNodePopUp, callback);\nconsole.log(data,callback)\n},\neditNode: function (data, callback) {\n\n// filling in the popup DOM elements\n//  document.getElementById('node-operation').innerHTML = \"Edit Node\";\nthis.editNode(data, this.cancelNodeEdit, callback).bind(this);\nconsole.log(data,callback)\n},\naddEdge: function (data, callback) {\nif (data.from == data.to) {\nvar r = confirm(\"Do you want to connect the node to itself?\");\nif (r != true) {\ncallback(null);\nreturn;\n}\n}\ndocument.getElementById('edge-operation').innerHTML = \"Add Edge\";\nthis.editEdgeWithoutDrag(data, callback);\n},\neditEdge: {\neditWithoutDrag: function(data, callback) {\ndocument.getElementById('edge-operation').innerHTML = \"Edit Edge\";\nthis.editEdgeWithoutDrag(data,callback);\nconsole.log(data,callback)\n}\n}\n}\n}*/\n}\n},\nasync created(){\n  this.file = this.$store.state.solid.file\n  //this.update()\n\n},\nmounted(){\n  //let app = this\n  /*  this.network = this.$refs.network\n  this.network.setOptions({\n  manipulation: {\n  enabled: true,\n  addNode: async (node, callback) => {\n  callback() // Node will be added via reactivity from Vuex\n  if (this.tmp_file != null ){\n  this.file = this.tmp_file\n}\nnode.id = this.tmp_file.url+\"#\"+node.id\n//console.log(node)\nthis.editNode(node, callback)\n},\neditNode: async (node, callback) => {\ncallback() // Node will be added via reactivity from Vuex\n//console.log(node)\nthis.editNode(node, callback)\n},\naddEdge: async (edge, callback) => {\ncallback() // Node will be added via reactivity from Vuex\n//console.log(edge)\nthis.addEdge(edge, callback)\n},\neditEdge: {\neditWithoutDrag: function (edge, callback){\ncallback() // Node will be added via reactivity from Vuex\n//console.log(edge)\napp.editEdge(edge, callback)\n}\n},\n\n}\n})*/\n},\n\nmethods: {\n  saveNode(n){\n    //console.log(\"saveNode\",n)\n    //  this.callback(n)\n\n    var index = this.nodes.map(x => {\n      return x.id;\n    }).indexOf(n.id);\n\n    //console.log(index)\n    if(index > -1){\n      this.nodes.splice(index, 1);\n      //console.log(  this.nodes[index])\n      this.nodes[index].label = n.label\n    }else{\n      this.nodes.push(n)\n    }\n\n\n  },\n  async  writeEdgeToFile(e){\n    if (this.tmp_file != null){\n      this.file = this.tmp_file\n    }\n    let subject  = this.nodes.filter(function(el) {\n      return el.id == e.from\n    });\n    let object  = this.nodes.filter(function(el) {\n      return el.id == e.to\n    });\n    //console.log(subject[0], e, object[0])\n\n    //let identifier = subject[0].id.indexOf(this.file) > 0 ? subject[0].id.split('#') : subject[0].id\n    let subj_identifier = subject[0].id.split('#')[1]\n    let obj_identifier = object[0].id.split('#')[1]\n\n\n    var dateObj = new Date();\n    var date = dateObj.toISOString()\n    let doc =  await fetchDocument(this.file.url)\n    //console.log(doc)\n    let subj = doc.addSubject({identifier: subj_identifier})\n    subj.addString(rdfs.label, subject[0].label)\n\n    subj.addString(dct.modified, date)\n\n    subj.addRef(foaf.maker, this.webId)\n\n\n    subj.addRef(this.file.url+\"#\"+e.label, object[0].id)\n    //subj.addRef(this.file.url+\"#\"+e.label, obj_identifier)\n    let obj = doc.addSubject({identifier: obj_identifier})\n    obj.addString(rdfs.label, object[0].label)\n    doc.save()\n  },\n  saveEdge(e){\n    //console.log(\"saveEdge\",e)\n    //  this.callback(n)\n\n    var index = this.edges.map(x => {\n      return x.id;\n    }).indexOf(e.id);\n\n    //console.log(index)\n    if(index > -1){\n      //console.log(  this.edges[index])\n      this.edges[index].label = e.label\n    }else{\n      this.edges.push(e)\n      this.writeEdgeToFile(e)\n    }\n\n\n    //\n\n\n  },\n  async  create(){\n    this.clear()\n    // //console.log(this.file)\n    // //console.log(this.newfile)\n    // //console.log(this.folder)\n    this.tmp_file = {}\n    this.filename = this.filename.split(' ').join('_');\n\n    this.tmp_file.name =  this.filename.endsWith('.ttl') ? this.filename : this.filename+\".ttl\"\n    this.tmp_file.url = this.folder.url+this.tmp_file.name\n    //console.log(this.tmp_file)\n    let thisNode = {id:this.tmp_file.url+\"#this\", label:\"#this\"}\n    this.nodes.push(thisNode)\n\n    let doc = {}\n    //console.log(this.file.url)\n    let exist = false\n    try{\n      doc =  await fetchDocument(this.tmp_file.url)\n      exist = true\n    }catch(e){\n      doc =  await createDocument(this.tmp_file.url)\n      exist = false\n\n    }\n\n    var dateObj = new Date();\n    var date = dateObj.toISOString()\n    //let doc =  await fetchDocument(this.file.url)\n    //console.log(doc)\n    let subj = doc.addSubject({identifier: \"this\"})\n\n    if(exist == false){\n      subj.addString(rdfs.label, thisNode.label)\n      subj.addString(dct.created, date)\n      console.log(\"file created\", this.tmp_file.url)\n\n    }else{\n      subj.addString(dct.modified, date)\n      console.log(\"file modified\", this.tmp_file.url)\n\n    }\n    subj.addRef(foaf.maker, this.webId)\n    doc.save()\n  },\n  clear(){\n    this.nodes = []\n    this.edges = []\n  },\n  async update(){\n    this.triples = []\n    //console.log(this.file.url)\n    if (this.file.url != undefined && (this.file.url.endsWith('.ttl') || (this.file.url.endsWith('card')))){\n      let fileDoc = await fetchDocument(this.file.url)\n      //console.log(\"fileDoc\",fileDoc)\n      this.triples = fileDoc.getTriples()\n      //console.log(this.triples)\n    }else{\n      //console.log(this.file.url)\n    }\n\n  },\n  networkEvent(e){\n  console.log(e)\n},\nasync addInterests(webId){\n  let storage =  await solid.data[webId].storage\n  let p_u = storage+\"public/popock/profile.ttl\"\n  //console.log(\"P8U\",p_u)\n  try{\n    this.profileDoc = await fetchDocument(p_u)\n    let subj = await this.profileDoc.getSubject(p_u+\"#me\")\n    this.interests = await subj.getAllLiterals(foaf.topic_interest)\n    //console.log(this.interests)\n    this.interests.forEach((interest) => {\n      this.$refs.network.nodes.push({ id:interest, label: interest, shape: \"triangle\", color: \"green\" });\n      this.$refs.network.edges.push({\n        from: webId,\n        to: interest,\n        label: \"foaf:topic_interest\"\n      });\n    });\n\n  }catch(e){\n    // //console.log(e)\n    //  this.profileDoc = await createDocument(p_u)\n  }\n\n},\naddTriplet(t){\n  // //console.log(t)\n  // //console.log(t.subject.id, t.predicate.id, t.object.id)\n\n  var color = this.colorize(t.subject.id)\n  let label =  this.lastPart(t.subject.id)\n  let subjectNode = { id:t.subject.id, label: label, shape: \"star\", color:'rgba('+color.red+', '+color.green+', '+color.blue+',0.5)'  }\n  // //console.log(subjectNode)\n  //  this.dataset.nodes[subjectNode.id] = subjectNode\n  this.addOrNothingNode(subjectNode)\n\n  var colorO = this.colorize(t.object.id)\n  let labelO =  this.lastPart(t.object.id)\n  let objectNode = { id:t.object.id, label: labelO, shape: \"box\", color:'rgba('+colorO.red+', '+colorO.green+', '+colorO.blue+',0.5)'  }\n  // //console.log(objectNode)\n  //  this.dataset.nodes[subjectNode.id] = subjectNode\n  this.addOrNothingNode(objectNode)\n\n  let labelP = this.lastPart(t.predicate.id)\n  let propertyEdge = {from: subjectNode.id, to: objectNode.id, label: labelP}\n  this.edges.push(propertyEdge)\n\n\n},\neditNode(node) {\n  //console.log(\"editNode\",node)\n  this.node = node\n  this.$bvModal.show(\"node-popup\")\n  //  console.log(node, callback)\n  //  callback(node)\n  //  this.callback = callback\n  //  callback()\n  /*  document.getElementById('node-label').value = data.label;\n  document.getElementById('node-saveButton').onclick = this.saveNodeData.bind(this, data, callback);\n  document.getElementById('node-cancelButton').onclick = cancelAction.bind(this, callback);\n  document.getElementById('node-popUp').style.display = 'block';*/\n},\naddEdge(edge, callback){\n  //console.log(\"addedge\")\n  this.edge = edge\n  if (edge.from == edge.to) {\n    var r = confirm(\"Do you want to connect the node to itself?\");\n    if (r != true) {\n      callback(null);\n      return;\n    }\n  }\n\n  this.editEdgeWithoutDrag(edge, callback);\n  //callback()\n},\neditEdge(edge, callback){\n  //console.log(\"edit edge\", edge, callback)\n  this.editEdgeWithoutDrag(edge, callback);\n  //  callback()\n},\neditEdgeWithoutDrag(edge, callback){\n  //\n  //console.log(\"edit editWithoutDrag\",edge)\n  /*      // filling in the popup DOM elements\n  document.getElementById('edge-label').value = data.label;\n  document.getElementById('edge-saveButton').onclick = this.saveEdgeData.bind(this, data, callback);\n  document.getElementById('edge-cancelButton').onclick = this.cancelEdgeEdit.bind(this,callback);\n  document.getElementById('edge-popUp').style.display = 'block';\n  */\n  this.edge = edge\n  this.$bvModal.show(\"edge-popup\")\n  //console.log(edge, callback)\n  callback()\n},\n\n\n\n// Callback passed as parameter is ignored\nclearNodePopUp() {\n  document.getElementById('node-saveButton').onclick = null;\n  document.getElementById('node-cancelButton').onclick = null;\n  document.getElementById('node-popUp').style.display = 'none';\n},\n\ncancelNodeEdit(callback) {\n  this.clearNodePopUp();\n  callback(null);\n},\n\nsaveNodeData(data, callback) {\n  data.label = document.getElementById('node-label').value;\n  this.clearNodePopUp();\n  callback(data);\n},\n\n/*  editEdgeWithoutDrag(data, callback) {\n// filling in the popup DOM elements\ndocument.getElementById('edge-label').value = data.label;\ndocument.getElementById('edge-saveButton').onclick = this.saveEdgeData.bind(this, data, callback);\ndocument.getElementById('edge-cancelButton').onclick = this.cancelEdgeEdit.bind(this,callback);\ndocument.getElementById('edge-popUp').style.display = 'block';\n},*/\n\nclearEdgePopUp() {\n  document.getElementById('edge-saveButton').onclick = null;\n  document.getElementById('edge-cancelButton').onclick = null;\n  document.getElementById('edge-popUp').style.display = 'none';\n},\n\ncancelEdgeEdit(callback) {\n  this.clearEdgePopUp();\n  callback(null);\n},\n\nsaveEdgeData(data, callback) {\n  if (typeof data.to === 'object')\n  data.to = data.to.id\n  if (typeof data.from === 'object')\n  data.from = data.from.id\n  data.label = document.getElementById('edge-label').value;\n  this.clearEdgePopUp();\n  callback(data);\n},\n\n\n\n},\nwatch:{\n  node(){\n    //console.log(\"NODE ADD \", this.node)\n  },\n  file(){\n    //console.log(\"watch\")\n    this.update()\n  },\n  /*$route(to, from) {\n  console.log(to, from, this.$route)\n  // react to route changes...\n},\nstorage (st) {\n//  '$route' (to, from) {\nconsole.log(st)\n},*/\nfriends(friends){\n  //console.log(friends)\n  friends.forEach((f) => {\n    // //console.log(f,i)\n    this.$refs.network.nodes.push({ id:f, label: f , shape: \"dot\", color: \"yellow\"});\n    this.$refs.network.edges.push({\n      from: this.webId,\n      to: f,\n      label: \"foaf:friend\"\n    });\n    this.addInterests(f)\n\n  });\n\n},\nwebId(webId){\n  //console.log(webId)\n  this.$refs.network.nodes.push({ id:webId, label: webId ,/*   \"shape\": \"icon\",\n  \"icon\": {\n  face: '\"Font Awesome 5 Brands\"',\n  code: '\\uf36e'\n}*/});\nthis.addInterests(webId)\n},\ntriples(){\n  //console.log(\"TRIPLES\",this.triples)\n  if (this.triples.length > 0){\n    this.triples.forEach((t) => {\n      this.addTriplet(t)\n    });\n\n  }\n}\n},\ncomputed:{\n  folder(){\n    return  this.$store.state.solid.folder\n  },\n  profile_url:{\n    get: function() { return this.$store.state.solid.storage+\"public/popock/profile.ttl\"},\n    set: function() {}\n  },\n  storage:{\n    get: function() { return this.$store.state.solid.storage},\n    set: function() {}\n  },\n  webId:{\n    get: function() { return this.$store.state.solid.webId},\n    set: function() {}\n  },\n  friends:{\n    get: function() { return this.$store.state.solid.friends},\n    set: function() {}\n  },\n  file: {\n    get: function () {return this.$store.state.solid.file},\n    set: function (file) {return this.$store.commit('solid/setFile', file)}\n  },\n}\n}\n</script>\n<style>\n.wrapper{\n  min-height: 100vh;\n  border: 1px solid black;\n  background: linear-gradient(to bottom, rgba(215, 215, 255), rgba(250, 250, 170));\n  padding: 10px;\n  height: 100vh;\n}\n#operation {\n  font-size:28px;\n}\n#node-popUp {\n  display:none;\n  position:absolute;\n  top:350px;\n  left:170px;\n  z-index:299;\n  width:250px;\n  height:120px;\n  background-color: #f9f9f9;\n  border-style:solid;\n  border-width:3px;\n  border-color: #5394ed;\n  padding:10px;\n  text-align: center;\n}\n#edge-popUp {\n  display:none;\n  position:absolute;\n  top:350px;\n  left:170px;\n  z-index:299;\n  width:250px;\n  height:90px;\n  background-color: #f9f9f9;\n  border-style:solid;\n  border-width:3px;\n  border-color: #5394ed;\n  padding:10px;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorNetwork.vue?vue&type=template&id=ab6fdd98&\"\nimport script from \"./EditorNetwork.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorNetwork.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditorNetwork.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}