(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tension"],{"0d4f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"simple-gouv-view container"},[n("b-card-group",{attrs:{deck:""}},[n("GroupsView"),n("DomainsView"),n("TensionsCard")],1),t._v(" storage "+t._s(t.storage)+" workspace "+t._s(t.workspace)+" ")],1)},a=[],i=(n("d3b7"),{name:"SimpleGouvView",components:{GroupsView:function(){return n.e("chunk-f4a2d868").then(n.bind(null,"c410"))},DomainsView:function(){return n.e("chunk-2d228c78").then(n.bind(null,"db48"))},TensionsCard:function(){return n.e("chunk-2d216246").then(n.bind(null,"c0cf"))}},created:function(){this.storage=this.$store.state.solid.storage,this.setWorkspace()},data:function(){return{path:"public/gouvernance/"}},watch:{storage:function(t){console.log(t),this.setWorkspace()}},methods:{setWorkspace:function(){this.workspace=this.storage+this.path,this.$store.commit("gouvernance/setWorkspace",this.workspace)}},computed:{storage:{get:function(){return this.$store.state.solid.storage},set:function(){}}}}),o=i,s=(n("33b8"),n("2877")),c=Object(s["a"])(o,r,a,!1,null,null,null);e["default"]=c.exports},"159b":function(t,e,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in a){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==i)try{o(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=n("ae40"),o=a("forEach"),s=i("forEach");t.exports=o&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"33b8":function(t,e,n){"use strict";var r=n("aa44"),a=n.n(r);a.a},4160:function(t,e,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"498a":function(t,e,n){"use strict";var r=n("23e7"),a=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),o=n("50c4"),s=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),f=Math.max,d=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,w=m?"$":"$0";return[function(n,r){var a=c(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!m&&g||"string"===typeof r&&-1===r.indexOf(w)){var i=n(e,t,this,r);if(i.done)return i.value}var c=a(t),p=String(this),h="function"===typeof r;h||(r=String(r));var b=c.global;if(b){var x=c.unicode;c.lastIndex=0}var k=[];while(1){var S=u(c,p);if(null===S)break;if(k.push(S),!b)break;var T=String(S[0]);""===T&&(c.lastIndex=l(p,o(c.lastIndex),x))}for(var E="",L=0,_=0;_<k.length;_++){S=k[_];for(var $=String(S[0]),C=f(d(s(S.index),p.length),0),R=[],O=1;O<S.length;O++)R.push(v(S[O]));var A=S.groups;if(h){var V=[$].concat(R,C,p);void 0!==A&&V.push(A);var D=String(r.apply(void 0,V))}else D=y($,p,C,R,A,r);C>=L&&(E+=p.slice(L,C)+D,L=C+$.length)}return E+p.slice(L)}];function y(t,n,r,a,o,s){var c=r+t.length,l=a.length,u=b;return void 0!==o&&(o=i(o),u=h),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>l){var f=p(u/10);return 0===f?e:f<=l?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):e}s=a[u-1]}return void 0===s?"":s}))}}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(t,e,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),o=i("species");t.exports=function(t,e){var n;return a(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"7f37":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tension-view"},[n("p",[t._v("A tension is a difference between what is and what should be")]),n("b-container",[n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"input-none"}},[t._v("Name:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{placeholder:"Name"},model:{value:t.tension.label,callback:function(e){t.$set(t.tension,"label",e)},expression:"tension.label"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"input-none"}},[t._v("What is:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-textarea",{attrs:{id:"wi",placeholder:"What is",rows:"3","max-rows":"6"},model:{value:t.tension.wi,callback:function(e){t.$set(t.tension,"wi",e)},expression:"tension.wi"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"input-none"}},[t._v("What should be:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-textarea",{attrs:{id:"swb",placeholder:"What should be",rows:"3","max-rows":"6"},model:{value:t.tension.wsb,callback:function(e){t.$set(t.tension,"wsb",e)},expression:"tension.wsb"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"input-none"}},[t._v("In which role do you feel this tension:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{placeholder:"Role (citizen, user of some service...)"},model:{value:t.tension.role,callback:function(e){t.$set(t.tension,"role",e)},expression:"tension.role"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"input-none"}},[t._v("Which domains does this tension apply:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{placeholder:"society, economy, ecology, decentralization..."},model:{value:t.tension.domains,callback:function(e){t.$set(t.tension,"domains",e)},expression:"tension.domains"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"radio-privacy"}},[t._v("Privacy:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-group",[n("b-form-radio-group",{attrs:{id:"radio-privacy",name:"radio-privacy"},model:{value:t.tension.privacy,callback:function(e){t.$set(t.tension,"privacy",e)},expression:"tension.privacy"}},[n("b-form-radio",{attrs:{value:"public"}},[t._v("Public")]),n("b-form-radio",{attrs:{value:"private",disabled:""}},[t._v("Private")])],1)],1)],1)],1),n("b-row",{staticClass:"my-1"},[n("b-button",{on:{click:t.create}},[t._v("Save")])],1)],1),t._v(" path : "+t._s(this.path)+" [ change path button] TensionView ")],1)},a=[],i=n("86bb"),o=(n("4160"),n("ac1f"),n("5319"),n("1276"),n("498a"),n("159b"),n("96cf"),n("1da1")),s=n("4d8d"),c=n("6dc1"),l={mixins:[i["a"]],data:function(){return{}},methods:{createFile:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.label=t.label.trim(),t.ttl_name=t.label.replace(/\s/g,"_"),r=new Date,a=r.toISOString(),t.created=a,console.log(t),t.url=t.path+t.ttl_name+".ttl",console.log(t),n.prev=8,n.next=11,Object(s["a"])(t.url);case 11:return i=n.sent,o=i.addSubject({identifier:"this"}),o.addLiteral(c["e"].label,t.label),o.addNodeRef(c["c"].inbox,"./"+t.ttl_name+"/inbox/"),o.addLiteral(c["a"].created,a),o.addNodeRef(c["b"].maker,e.$store.state.solid.webId),t.types.forEach((function(t){o.addNodeRef(c["d"].type,t)})),t.role.split(",").forEach((function(t){o.addLiteral("http://www.w3.org/ns/org#memberOf",t.trim())})),console.log("TODO: must look at existing groups & existing frineds groups & activity published groups"),t.domains.split(",").forEach((function(t){o.addLiteral("http://www.w3.org/ns/org#purpose",t.trim())})),console.log("TODO: must look at https://www.wikidata.org/w/api.php?action=wbsearchentities&language=fr&format=json&search=Ecology"),n.next=24,i.save();case 24:e.makeToast("Created "+t.label,"ok","success"),n.next=31;break;case 27:n.prev=27,n.t0=n["catch"](8),e.makeToast("Error creating "+t.label,n.t0,"danger"),console.log(n.t0);case 31:"public"==t.privacy&&(console.log("ACTIVITY !!"),e.makeToast("TODO : must Activity publish",t.label,"success"));case 32:case"end":return n.stop()}}),n,null,[[8,27]])})))()}}},u={mixins:[i["a"],l],data:function(){return{tension:{privacy:"public"}}},methods:{createTension:function(){this.tension.displayType="Tension",this.tension.types=["http://purl.org/vocab/lifecycle/schema#Task","http://www.w3.org/ns/ldp#Resource"],this.tension.path=this.path,console.log(this.tension,this.path),this.createFile(this.tension),this.tension={privacy:"public"}}}},f={name:"TensionView",mixins:[u],data:function(){return{path:""}},created:function(){this.path=this.config.workspace+"tensions/"},methods:{create:function(){this.createTension()}},computed:{config:{get:function(){return this.$store.state.gouvernance.config},set:function(){}}}},d=f,p=n("2877"),h=Object(p["a"])(d,r,a,!1,null,null,null);e["default"]=h.exports},"86bb":function(t,e,n){"use strict";e["a"]={methods:{makeToast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:t,variant:n,solid:!0})}}}},aa44:function(t,e,n){},b727:function(t,e,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),o=n("50c4"),s=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(p,h,b,v){for(var m,g,w=i(p),y=a(w),x=r(h,b,3),k=o(y.length),S=0,T=v||s,E=e?T(p,k):n?T(p,0):void 0;k>S;S++)if((d||S in y)&&(m=y[S],g=x(m,S,w),t))if(e)E[S]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:c.call(E,m)}else if(u)return!1;return f?-1:l||u?u:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c8d2:function(t,e,n){var r=n("d039"),a=n("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||i[t]()!=i||a[t].name!==t}))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=tension.d9f8de21.js.map