(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"4de4":function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),l=a("filter");n({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,r){var n=r("861d"),i=r("e8b5"),o=r("b622"),a=o("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"7fd5":function(e,t,r){},b48b:function(e,t,r){"use strict";var n=r("7fd5"),i=r.n(n);i.a},b727:function(e,t,r){var n=r("0366"),i=r("44ad"),o=r("7b0b"),a=r("50c4"),s=r("65f0"),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,p=6==e,f=5==e||p;return function(d,b,m,g){for(var v,h,_=o(d),w=i(_),x=n(b,m,3),y=a(w.length),k=0,C=g||s,O=t?C(d,y):r?C(d,0):void 0;y>k;k++)if((f||k in w)&&(v=w[k],h=x(v,k,_),e))if(t)O[k]=h;else if(h)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:l.call(O,v)}else if(u)return!1;return p?-1:c||u?u:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c66d:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile container"},[null!=e.webId?r("div",[r("div",{staticClass:"col-lg-5"},[r("div",{staticClass:"media"},[r("a",{staticClass:"pull-left",attrs:{href:"#"}},[r("img",{staticClass:"media-object dp img-circle",staticStyle:{width:"100px",height:"100px"},attrs:{src:e.profile.photo}})]),r("div",{staticClass:"media-body"},[r("h4",{staticClass:"media-heading"},[e._v(e._s(e.profile.name||this.webId)),r("small",[e._v(" "+e._s(e.profile.locality))])]),r("h5",[e._v(" "+e._s(e.profile.role)+" at "+e._s(e.profile.organization))]),r("a",{attrs:{href:"https://scenaristeur.github.io/salut",target:"_blank"}},[e._v("Temporary external Edit")]),r("hr",{staticStyle:{margin:"8px auto"}}),r("b-button",{attrs:{variant:"info"},on:{click:function(t){e.editTopic=!e.editTopic}}},[r("b-icon-pen"),e._v(" Interest Topics")],1),r("b-button",{attrs:{to:"/groups",variant:"info"}},[r("b-icon-pen"),e._v(" Groups")],1)],1)])]),r("div",[1==e.editTopic?r("div",[r("div",{staticClass:"input-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.interest,expression:"interest"}],staticClass:"form-control",attrs:{id:"interest",type:"text",placeholder:"I'm intersted in...","aria-label":"Interest","aria-describedby":"interest-label"},domProps:{value:e.interest},on:{input:function(t){t.target.composing||(e.interest=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-primary",attrs:{id:"submit_btn",type:"button"},on:{click:e.addInterest}},[e._v("Add "),r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{id:"submit_spinner",hidden:"",role:"status","aria-hidden":"true"}})])])])]):e._e(),r("div",e._l(e.interests,(function(t){return r("button",{key:t,staticClass:"btn btn-outline-info btn-sm",attrs:{type:"button"}},[e._v(" "+e._s(t)+" "),1==e.editTopic?r("b-icon-trash-fill",{on:{click:function(r){return r.stopPropagation(),e.delInterest(t)}}}):e._e()],1)})),0)]),r("b-modal",{attrs:{id:"profile-editor",title:"Profile Editor"}},[r("h4",[e._v(e._s(e.profile.webId))]),r("img",{staticClass:"m-3",attrs:{width:"80",height:"80",src:e.profile.photo,rounded:"circle",alt:" "}}),r("br"),r("div",[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Name:","label-align-sm":"right","label-for":"name"}},[r("b-form-input",{attrs:{id:"name"},model:{value:e.profile.name,callback:function(t){e.$set(e.profile,"name",t)},expression:"profile.name"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Organization:","label-align-sm":"right","label-for":"organization"}},[r("b-form-input",{attrs:{id:"organization"},model:{value:e.profile.organization,callback:function(t){e.$set(e.profile,"organization",t)},expression:"profile.organization"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Role:","label-align-sm":"right","label-for":"role"}},[r("b-form-input",{attrs:{id:"role"},model:{value:e.profile.role,callback:function(t){e.$set(e.profile,"role",t)},expression:"profile.role"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Birthday:","label-align-sm":"right","label-for":"bday"}},[r("b-form-input",{attrs:{id:"bday",type:"date"},model:{value:e.profile.bday,callback:function(t){e.$set(e.profile,"bday",t)},expression:"profile.bday"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Gender:","label-align-sm":"right","label-for":"gender"}},[r("b-form-input",{attrs:{id:"gender"},model:{value:e.profile.gender,callback:function(t){e.$set(e.profile,"gender",t)},expression:"profile.gender"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Address Locality:","label-align-sm":"right","label-for":"address"}},[r("b-form-input",{attrs:{id:"address"},model:{value:e.profile.locality,callback:function(t){e.$set(e.profile,"locality",t)},expression:"profile.locality"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Note:","label-align-sm":"right","label-for":"note"}},[r("b-form-input",{attrs:{id:"note"},model:{value:e.profile.note,callback:function(t){e.$set(e.profile,"note",t)},expression:"profile.note"}})],1)],1)])],1):r("div",[r("SolidLoginButton")],1)])},i=[],o=(r("4de4"),r("d3b7"),r("96cf"),r("1da1")),a=r("4d8d"),s=r("6dc1"),l=window.solid;console.log("SOLID",l);var c={name:"Profile",components:{SolidLoginButton:function(){return r.e("chunk-bda76c7e").then(r.bind(null,"e9a1"))}},data:function(){return{interests:["you","me"],interest:"",editTopic:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.solid.storage;case 2:t.t0=t.sent,e.profile_url=t.t0+"salut/prifile.ttl",e.getOrCreate(e.profile_url);case 5:case"end":return t.stop()}}),t)})))()},watch:{profile_url:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.getOrCreate(e);case 1:case"end":return r.stop()}}),r)})))()}},methods:{getOrCreate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,r.next=4,Object(a["b"])(e);case 4:return t.profileDoc=r.sent,r.next=7,t.profileDoc.getSubject(t.profile_url+"#me");case 7:return n=r.sent,r.next=10,n.getAllLiterals(s["b"].topic_interest);case 10:t.interests=r.sent,console.log(t.interests),r.next=20;break;case 14:return r.prev=14,r.t0=r["catch"](1),console.log(r.t0),r.next=19,Object(a["a"])(e);case 19:t.profileDoc=r.sent;case 20:console.log("PD",t.profileDoc);case 21:case"end":return r.stop()}}),r,null,[[1,14]])})))()},addInterest:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.interest,e.profile_url),e.interests.push(e.interest),t.next=4,Object(a["b"])(e.profile_url);case 4:return e.profileDoc=t.sent,t.next=7,e.profileDoc.getSubject(e.profile_url+"#me");case 7:return r=t.sent,r.addLiteral(s["b"].topic_interest,e.interest),t.next=11,e.profileDoc.save();case 11:e.interest="";case 12:case"end":return t.stop()}}),t)})))()},delInterest:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,Object(a["b"])(t.profile_url);case 3:return t.profileDoc=r.sent,t.interests=t.interests.filter((function(t){return t!=e})),console.log(t.interests,e),r.next=8,t.profileDoc.getSubject(t.profile_url+"#me");case 8:return n=r.sent,n.removeLiteral(s["b"].topic_interest,e),console.log(n),r.next=13,t.profileDoc.save();case 13:case"end":return r.stop()}}),r)})))()}},computed:{webId:function(){return this.$store.state.solid.webId},profile:function(){return this.$store.state.solid.profile},profile_url:{get:function(){return this.$store.state.solid.storage+"public/salut/profile.ttl"},set:function(){}}}},u=c,p=(r("b48b"),r("2877")),f=Object(p["a"])(u,n,i,!1,null,"6cc31e1b",null);t["default"]=f.exports}}]);
//# sourceMappingURL=profile.4c00695c.js.map