(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7566ac6"],{"60b0":function(e,t,n){"use strict";var o=n("c976"),i=n.n(o);i.a},b803:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modele-view"},[e._v(" EditorNetwork "+e._s(e.file.url)+" "),n("b-button",{on:{click:function(t){e.nodes=[],e.edges=[]}}},[e._v("Clear")]),n("network",{ref:"network",staticClass:"wrapper",attrs:{nodes:e.nodes,edges:e.edges,options:e.options},on:{select:function(t){return e.networkEvent("select")},"select-node":function(t){return e.networkEvent("selectNode")},"select-edge":function(t){return e.networkEvent("selectEdge")}}}),n("b-list-group",e._l(e.triples,(function(t,o){return n("b-list-group-item",{key:o},[n("div",{staticClass:"row"},[n("div",{staticClass:"col rounded"},[n("b",[n("a",{attrs:{href:t.subject.id,target:"_blank"}},[e._v(e._s(t.subject.id))])])]),n("div",{staticClass:"col"},[e._v(" "+e._s(t.predicate.id)+" ")]),n("div",{staticClass:"col"},[t.object.id.startsWith("http")?n("span",[n("b",[n("a",{attrs:{href:t.object.id,target:"_blank"}},[e._v(e._s(t.object.id))])])]):n("span",[e._v(" "+e._s(t.object.id)+" ")])])])])})),1)],1)},i=[],s=(n("4160"),n("8a79"),n("159b"),n("53ca")),r=(n("96cf"),n("1da1")),l=n("4d8d"),d=n("6dc1"),c=(n("38b4"),n("234f")),a={name:"EditorNetwork",mixins:[c["a"]],data:function(){return{triples:[],nodes:[],edges:[],options:{locale:navigator.language,nodes:{borderWidth:1},edges:{arrows:"to",color:"red",scaling:{label:!0},smooth:!0},interaction:{navigationButtons:!0,keyboard:!0},manipulation:{addNode:function(e,t){document.getElementById("node-operation").innerHTML="Add Node",this.editNode(e,this.clearNodePopUp,t),console.log(e,t)},editNode:function(e,t){document.getElementById("node-operation").innerHTML="Edit Node",this.editNode(e,this.cancelNodeEdit,t),console.log(e,t)},addEdge:function(e,t){if(e.from==e.to){var n=confirm("Do you want to connect the node to itself?");if(1!=n)return void t(null)}document.getElementById("edge-operation").innerHTML="Add Edge",this.editEdgeWithoutDrag(e,t)},editEdge:{editWithoutDrag:function(e,t){document.getElementById("edge-operation").innerHTML="Edit Edge",this.editEdgeWithoutDrag(e,t),console.log(e,t)}}}}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.file=e.$store.state.solid.file,e.update();case 2:case"end":return t.stop()}}),t)})))()},methods:{update:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.triples=[],console.log(e.file.url),void 0==e.file.url||!e.file.url.endsWith(".ttl")&&!e.file.url.endsWith("card")){t.next=11;break}return t.next=5,Object(l["b"])(e.file.url);case 5:n=t.sent,console.log("fileDoc",n),e.triples=n.getTriples(),console.log(e.triples),t.next=12;break;case 11:console.log(e.file.url);case 12:case"end":return t.stop()}}),t)})))()},networkEvent:function(e){console.log(e)},addInterests:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,solid.data[e].storage;case 2:return o=n.sent,i=o+"public/popock/profile.ttl",console.log("P8U",i),n.prev=5,n.next=8,Object(l["b"])(i);case 8:return t.profileDoc=n.sent,n.next=11,t.profileDoc.getSubject(i+"#me");case 11:return s=n.sent,n.next=14,s.getAllLiterals(d["b"].topic_interest);case 14:t.interests=n.sent,console.log(t.interests),t.interests.forEach((function(n){t.$refs.network.nodes.push({id:n,label:n,shape:"triangle",color:"green"}),t.$refs.network.edges.push({from:e,to:n,label:"foaf:topic_interest"})})),n.next=21;break;case 19:n.prev=19,n.t0=n["catch"](5);case 21:case"end":return n.stop()}}),n,null,[[5,19]])})))()},addTriplet:function(e){var t=this.colorize(e.subject.id),n=this.lastPart(e.subject.id),o={id:e.subject.id,label:n,shape:"star",color:"rgba("+t.red+", "+t.green+", "+t.blue+",0.5)"};this.addOrNothingNode(o);var i=this.colorize(e.object.id),s=this.lastPart(e.object.id),r={id:e.object.id,label:s,shape:"box",color:"rgba("+i.red+", "+i.green+", "+i.blue+",0.5)"};this.addOrNothingNode(r);var l=this.lastPart(e.predicate.id),d={from:o.id,to:r.id,label:l};this.edges.push(d)},editNode:function(e,t,n){document.getElementById("node-label").value=e.label,document.getElementById("node-saveButton").onclick=this.saveNodeData.bind(this,e,n),document.getElementById("node-cancelButton").onclick=t.bind(this,n),document.getElementById("node-popUp").style.display="block"},clearNodePopUp:function(){document.getElementById("node-saveButton").onclick=null,document.getElementById("node-cancelButton").onclick=null,document.getElementById("node-popUp").style.display="none"},cancelNodeEdit:function(e){this.clearNodePopUp(),e(null)},saveNodeData:function(e,t){e.label=document.getElementById("node-label").value,this.clearNodePopUp(),t(e)},editEdgeWithoutDrag:function(e,t){document.getElementById("edge-label").value=e.label,document.getElementById("edge-saveButton").onclick=this.saveEdgeData.bind(this,e,t),document.getElementById("edge-cancelButton").onclick=this.cancelEdgeEdit.bind(this,t),document.getElementById("edge-popUp").style.display="block"},clearEdgePopUp:function(){document.getElementById("edge-saveButton").onclick=null,document.getElementById("edge-cancelButton").onclick=null,document.getElementById("edge-popUp").style.display="none"},cancelEdgeEdit:function(e){this.clearEdgePopUp(),e(null)},saveEdgeData:function(e,t){"object"===Object(s["a"])(e.to)&&(e.to=e.to.id),"object"===Object(s["a"])(e.from)&&(e.from=e.from.id),e.label=document.getElementById("edge-label").value,this.clearEdgePopUp(),t(e)}},watch:{file:function(){console.log("watch"),this.update()},$route:function(e,t){console.log(e,t,this.$route)},storage:function(e){console.log(e)},friends:function(e){var t=this;console.log(e),e.forEach((function(e){t.$refs.network.nodes.push({id:e,label:e,shape:"dot",color:"yellow"}),t.$refs.network.edges.push({from:t.webId,to:e,label:"foaf:friend"}),t.addInterests(e)}))},webId:function(e){console.log(e),this.$refs.network.nodes.push({id:e,label:e}),this.addInterests(e)},triples:function(){var e=this;console.log("TRIPLES",this.triples),this.triples.length>0&&this.triples.forEach((function(t){e.addTriplet(t)}))}},computed:{profile_url:{get:function(){return this.$store.state.solid.storage+"public/popock/profile.ttl"},set:function(){}},storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},friends:{get:function(){return this.$store.state.solid.friends},set:function(){}},file:{get:function(){return this.$store.state.solid.file},set:function(e){return this.$store.commit("solid/setFile",e)}}}},u=a,g=(n("60b0"),n("2877")),f=Object(g["a"])(u,o,i,!1,null,null,null);t["default"]=f.exports},c976:function(e,t,n){}}]);
//# sourceMappingURL=chunk-b7566ac6.983a94a1.js.map