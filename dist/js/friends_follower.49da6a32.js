(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["friends_follower"],{"159b":function(e,t,r){var n=r("da84"),s=r("fdbc"),a=r("17c2"),i=r("9112");for(var o in s){var c=n[o],u=c&&c.prototype;if(u&&u.forEach!==a)try{i(u,"forEach",a)}catch(l){u.forEach=a}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,s=r("a640"),a=r("ae40"),i=s("forEach"),o=a("forEach");e.exports=i&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var n=r("23e7"),s=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},4380:function(e,t,r){"use strict";r("4160"),r("b0c0"),r("159b"),r("96cf");var n=r("1da1"),s=r("4d8d"),a=r("6dc1"),i=window.solid;t["a"]={methods:{getProfile:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={friends:[]},r.webId=t,e.prev=2,e.next=5,Object(s["b"])(t);case 5:return n=e.sent,o=n.getSubject(t),e.next=9,o.getString(a["i"].fn);case 9:return r.name=e.sent,e.next=12,o.getString("http://www.w3.org/2006/vcard/ns#organization-name");case 12:return r.organization=e.sent,e.next=15,o.getString(a["i"].role);case 15:return r.role=e.sent,e.next=18,o.getRef(a["i"].hasAddress);case 18:if(c=e.sent,null==c){e.next=24;break}return u=n.getSubject(c),e.next=23,u.getString(a["i"].locality);case 23:r.locality=e.sent;case 24:return e.next=26,i.data[t].vcard$hasPhoto;case 26:l=e.sent,r.photo="".concat(l),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](2),this.makeToast(e.t0.message,t,"warning");case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this,[[2,30]])})));function t(t){return e.apply(this,arguments)}return t}(),getInboxUrls:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return n=e.sent,i=n.getSubject(t),e.next=8,i.getAllRefs(a["c"].inbox);case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return n=e.sent,i=n.getSubject(t),e.next=8,i.getAllRefs(a["b"].knows);case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),addIndex:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var i,o,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t+"/index.ttl#this",o=new Date,c=o.toISOString(),u=this.$store.state.solid.indexes.puti,e.next=6,Object(s["b"])(u.url);case 6:return l=e.sent,e.next=9,l.addSubject();case 9:return d=e.sent,d.addLiteral(a["e"].label,n),d.addNodeRef("http://www.w3.org/ns/solid/terms#forClass",r),d.addNodeRef("http://www.w3.org/ns/solid/terms#instance",i),d.addLiteral(a["a"].created,c),e.next=16,l.save();case 16:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),getIndexes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,i,o,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={puti:{instances:[],classes:[]},prti:{instances:[],classes:[]}},e.prev=1,e.next=4,Object(s["b"])(t);case 4:return i=e.sent,o=i.getSubject(t),e.next=8,o.getNodeRef("http://www.w3.org/ns/solid/terms#publicTypeIndex");case 8:return c=e.sent,e.next=11,o.getNodeRef("http://www.w3.org/ns/solid/terms#privateTypeIndex");case 11:return u=e.sent,r.puti.url=c,r.prti.url=u,e.next=16,Object(s["b"])(c);case 16:return l=e.sent,e.next=19,l.findSubjects("http://www.w3.org/ns/solid/terms#forClass");case 19:d=e.sent,d.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRef("http://www.w3.org/ns/solid/terms#forClass");case 2:return n=e.sent,e.next=5,t.getRef("http://www.w3.org/ns/solid/terms#instance");case 5:return s=e.sent,e.next=8,t.getString(a["a"].created);case 8:return i=e.sent,e.next=11,t.getString(a["e"].label);case 11:o=e.sent,r.puti.instances.push({instance:s,classe:n,label:o,created:i}),void 0==r.puti.classes[n]&&(r.puti.classes[n]=[]),r.puti.classes[n].push(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](1);case 25:return console.log(t,r),e.abrupt("return",r);case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));function t(t){return e.apply(this,arguments)}return t}(),makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}},"65f0":function(e,t,r){var n=r("861d"),s=r("e8b5"),a=r("b622"),i=a("species");e.exports=function(e,t){var r;return s(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"6bbb":function(e,t,r){"use strict";var n=r("c7e6"),s=r.n(n);s.a},b3b2:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fofri container"},[r("h5",[e._v("FoFri ! The following friends tool...")]),e._v(" Current : "),r("small",[e._v(e._s(e.webId))]),r("br"),e._v(" "+e._s(e.friends.length)+" friends"),r("br"),r("div",{staticClass:"row"},[e._v(" Public Instances "),r("b-list-group",e._l(e.indexes.puti.instances,(function(t){return r("div",{key:t.instance,staticClass:"container fluid mb-3"},[r("b-list-group-item",{attrs:{to:{name:"FoFri",params:{instance:t}}}},[e._v(" label : "+e._s(t.label)),r("br"),e._v(" instance : "+e._s(t.instance)),r("br"),e._v(" classe : "+e._s(t.classe)),r("br"),e._v(" created : "+e._s(t.created)),r("br")]),r("small",{staticClass:"row"},[r("a",{attrs:{href:t.instance,target:"_blank"}},[e._v(e._s(t.instance))])])],1)})),0)],1),r("b-button",{attrs:{to:e.link,variant:"outline-info"}},[e._v("add Spoggy to your friends")]),r("br"),r("router-link",{attrs:{to:{name:"FoFri"}}},[e._v("Me")]),r("br"),r("router-link",{attrs:{to:{name:"FoFri",params:{webId:"https://spoggy.solid.community/profile/card#me"}}}},[e._v("spoggy")]),r("br"),r("router-link",{attrs:{to:{name:"FoFri",params:{webId:"https://spoggy-test.solid.community/profile/card#me"}}}},[e._v("spoggy-test6")]),r("br"),r("hr"),r("b-list-group",e._l(e.friends,(function(t){return r("div",{key:t,staticClass:"container fluid mb-3"},[r("b-list-group-item",{attrs:{to:{name:"FoFri",params:{webId:t}}}},[r("div",[r("PeopleItem",{attrs:{webId:t}})],1)]),r("small",{staticClass:"row"},[r("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])],1)})),0)],1)},s=[],a=(r("d3b7"),r("96cf"),r("1da1")),i=r("4380"),o={name:"FoFri",mixins:[i["a"]],components:{PeopleItem:function(){return r.e("chunk-2d0c9199").then(r.bind(null,"5866"))}},data:function(){return{webId:{},friends:[],indexes:{puti:{instances:[]}}}},created:function(){this.webId=this.$route.params.webId||this.$store.state.solid.webId,this.updateFriends(),this.updateIndexes()},watch:{$route:function(e){this.webId=e.params.webId||this.$store.state.solid.webId,this.updateFriends(),this.updateIndexes()}},methods:{updateFriends:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getFriends(e.webId);case 2:e.friends=t.sent;case 3:case"end":return t.stop()}}),t)})))()},updateIndexes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("TODO : temporary commented to see where to put it",e.indexes);case 1:case"end":return t.stop()}}),t)})))()}},computed:{link:function(){console.log("route",this.$route,location.href);var e=location.protocol+location.host+location.pathname+"?add=https://spoggy.solid.community/profile/card#me";return e}}},c=o,u=(r("6bbb"),r("2877")),l=Object(u["a"])(c,n,s,!1,null,null,null);t["default"]=l.exports},b727:function(e,t,r){var n=r("0366"),s=r("44ad"),a=r("7b0b"),i=r("50c4"),o=r("65f0"),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,p=5==e||d;return function(f,b,h,g){for(var w,m,v=a(f),x=s(v),y=n(b,h,3),S=i(x.length),k=0,_=g||o,L=t?_(f,S):r?_(f,0):void 0;S>k;k++)if((p||k in x)&&(w=x[k],m=y(w,k,v),e))if(t)L[k]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return k;case 2:c.call(L,w)}else if(l)return!1;return d?-1:u||l?l:L}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c7e6:function(e,t,r){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=friends_follower.49da6a32.js.map