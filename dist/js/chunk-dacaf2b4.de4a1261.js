(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dacaf2b4"],{"030b":function(e,t,n){},"5d33":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-line container"},[n("div",{staticClass:"item "},[null!=e.sender?n("div",[n("div",{staticClass:"avatar"}),n("b-button",{staticClass:"reply",attrs:{size:"sm",title:"reply",variant:"success"},on:{click:function(t){return t.stopPropagation(),e.init_reply()}}},[n("b-icon-reply",{attrs:{disabled:"",variant:"outline-success"},on:{click:function(t){return t.stopPropagation(),e.init_reply()}}})],1),n("b-button",{staticClass:"add-friend",attrs:{title:"add friend",size:"sm",variant:"info",to:"/friends?add="+e.sender}},[n("b-icon-person-plus")],1),n("div",{staticClass:"maker text-info"},[e._v(" "+e._s(e.sender.split("/").slice(2,3)[0])+" ")]),n("div",{staticClass:"created mt-2"},[e._v(" "+e._s(e.dateSent.toLocaleString())+" "),n("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return t.stopPropagation(),e.init_trash()}}},[n("b-icon-trash",{attrs:{variant:"danger"}})],1)],1),n("div",{staticClass:"content mb-2 mr-2"},[n("b",[e._v(e._s(e.label))]),n("br"),e._v(" "+e._s(e.text)+" ")])],1):n("div",[n("a",{attrs:{href:e.message.url,target:"_blank"}},[e._v(e._s(e.message.name))])])]),n("div",{staticClass:"row"})])},s=[],a=(n("96cf"),n("1da1")),i=n("4d8d"),c=n("6dc1"),o={name:"MessageLine",props:["message"],data:function(){return{sender:"Loading...",label:"...",photo:void 0,text:"...",dateSent:"",replyTitle:""}},mounted:function(){this.updateLine()},watch:{},methods:{init_trash:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("trash",e.message),e.$bvModal.show("confirm-trash"),e.$store.commit("inbox/setToTrash",e.message.url);case 3:case"end":return t.stop()}}),t)})))()},init_reply:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("reply",e.message),n={},n.url=e.message.url,n.sender=e.sender,n.dateSend=e.dateSent,n.text=e.text,n.label=e.label,e.$store.commit("inbox/setReply",n);case 8:case"end":return t.stop()}}),t)})))()},updateLine:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])(e.message.url);case 2:return n=t.sent,r=n.getSubject(e.message.url),t.next=6,r.getRef(c["f"].sender);case 6:return e.sender=t.sent,t.next=9,r.getString(c["e"].label);case 9:return e.label=t.sent,t.next=12,r.getString(c["f"].dateSent);case 12:return e.dateSent=t.sent,t.next=15,r.getString(c["f"].text);case 15:e.text=t.sent;case 16:case"end":return t.stop()}}),t)})))()}}},l=o,u=(n("64e0"),n("2877")),d=Object(u["a"])(l,r,s,!1,null,null,null);t["default"]=d.exports},"64e0":function(e,t,n){"use strict";var r=n("030b"),s=n.n(r);s.a}}]);
//# sourceMappingURL=chunk-dacaf2b4.de4a1261.js.map