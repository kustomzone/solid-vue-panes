{"version":3,"sources":["webpack:///./src/components/share/ShareTarget.vue?aed4","webpack:///./src/components/share/ShareTarget.vue?fd07","webpack:///src/components/share/ShareTarget.vue","webpack:///./src/components/share/ShareTarget.vue?c1dc","webpack:///./src/components/share/ShareTarget.vue?5c2d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","valid","_v","attrs","model","value","callback","$$v","title","expression","text","url","topic","selected","_s","path","webId","on","$event","saveBm","_e","staticRenderFns","console","log","SolidFileClient","name","components","data","query","route","created","$route","params","fullPath","undefined","watch","methods","computed","component"],"mappings":"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","file":"js/chunk-648bb194.b60f359b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareTarget.vue?vue&type=style&index=0&id=17439bfe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareTarget.vue?vue&type=style&index=0&id=17439bfe&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share container col\"},[(_vm.valid == true)?_c('div',[_c('h3',[_vm._v(\"Popock Bookmark\")]),_c('div',{staticClass:\"container\"},[_c('b-input-group',{attrs:{\"prepend\":\"Title\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"What is this bookmark title ?\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('b-input-group',{attrs:{\"prepend\":\"Text\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Blah Blah Blah...\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('b-input-group',{attrs:{\"prepend\":\"Url\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"https://the_url.com\"},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}})],1),_c('b-input-group',{attrs:{\"prepend\":\"Topic\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"topic/sub_topic/sub_sub_topic...\"},model:{value:(_vm.topic),callback:function ($$v) {_vm.topic=$$v},expression:\"topic\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Confidentiality\"}},[_c('b-form-radio',{attrs:{\"name\":\"confidential\",\"value\":\"private\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_vm._v(\"Private\")]),_c('b-form-radio',{attrs:{\"name\":\"confidential\",\"value\":\"public\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_vm._v(\"Public\")])],1),_vm._v(\" Path : \"+_vm._s(_vm.path)+\" !! \"),_c('br'),_vm._v(\" webId : \"+_vm._s(_vm.webId)+\" \"),_c('br'),_c('p',[_c('b-button',{attrs:{\"variant\":\"outline-info\"},on:{\"click\":function($event){_vm.valid = false}}},[_vm._v(\"Cancel\")]),_c('b-button',{attrs:{\"variant\":\"outline-info\"},on:{\"click\":_vm.saveBm}},[_vm._v(\"Save Bookmark\")]),_c('b-button',{staticClass:\"mr-auto\",attrs:{\"variant\":\"outline-warning\",\"to\":\"/bookmarks\"}},[_vm._v(\"Bookmarks\")])],1),(_vm.webId == null)?_c('p',[_vm._v(\" You need to \"),_c('SolidLoginButton'),_vm._v(\" to your POD. \")],1):_vm._e()],1)]):_c('div',[_c('p',[_vm._v(\" The first approach to discover Popock, could be for example to \"),_c('b-button',{attrs:{\"variant\":\"outline-info\",\"to\":\"?title=Popock&url=https://scenaristeur.github.io/solid-vue-panes/&text=My%20favorite%20Pod%20Manager\"}},[_vm._v(\"bookmark Popock\")]),_vm._v(\" or \"),_c('b-button',{attrs:{\"variant\":\"outline-info\",\"to\":\"?title=something\"}},[_vm._v(\"bookmark something else\")]),_vm._v(\" \"),_c('br'),_vm._v(\" then take a look at \"),_c('b-button',{attrs:{\"variant\":\"outline-warning\",\"to\":\"/bookmarks\"}},[_vm._v(\"Bookmarks\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"share container col\">\r\n\r\n    <div v-if=\"valid == true\">\r\n      <h3>Popock Bookmark</h3>\r\n\r\n      <div class=\"container\">\r\n        <b-input-group prepend=\"Title\" >\r\n          <b-form-input v-model=\"title\" placeholder=\"What is this bookmark title ?\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group prepend=\"Text\" >\r\n          <b-form-input v-model=\"text\" placeholder=\"Blah Blah Blah...\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group prepend=\"Url\" >\r\n          <b-form-input v-model=\"url\" placeholder=\"https://the_url.com\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group prepend=\"Topic\" >\r\n          <b-form-input v-model=\"topic\" placeholder=\"topic/sub_topic/sub_sub_topic...\"></b-form-input>\r\n        </b-input-group>\r\n\r\n        <b-form-group label=\"Confidentiality\">\r\n          <b-form-radio v-model=\"selected\" name=\"confidential\" value=\"private\">Private</b-form-radio>\r\n          <b-form-radio v-model=\"selected\" name=\"confidential\" value=\"public\">Public</b-form-radio>\r\n        </b-form-group>\r\n\r\n        Path : {{ path }} !! <br>\r\n        webId : {{ webId}} <br>\r\n        <p >\r\n          <b-button variant=\"outline-info\" @click=\"valid = false\">Cancel</b-button>\r\n          <b-button variant=\"outline-info\" @click=\"saveBm\">Save Bookmark</b-button>\r\n          <b-button class=\"mr-auto\" variant=\"outline-warning\" to=\"/bookmarks\">Bookmarks</b-button>\r\n        </p>\r\n        <p v-if=\"webId == null\">\r\n          You need to <SolidLoginButton /> to your POD.\r\n        </p>\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <p>\r\n        The first approach to discover Popock, could be for example to\r\n        <b-button variant=\"outline-info\"\r\n        to=\"?title=Popock&url=https://scenaristeur.github.io/solid-vue-panes/&text=My%20favorite%20Pod%20Manager\">bookmark Popock</b-button>\r\n        or\r\n        <b-button variant=\"outline-info\" to=\"?title=something\">bookmark something else</b-button> <br>\r\n        then take a look at\r\n        <b-button variant=\"outline-warning\" to=\"/bookmarks\">Bookmarks</b-button>\r\n      </p>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n// router en mode history\r\nimport { fetchDocument, createDocument } from 'tripledoc';\r\nimport { sioc, dct, foaf, rdf, rdfs } from 'rdf-namespaces'\r\n\r\nimport auth from 'solid-auth-client';\r\n//import { fetchDocument } from 'tripledoc';\r\n//import { vcard, foaf /*sioc, dct, foaf*/ } from 'rdf-namespaces'\r\n\r\nconst SolidFileClient = window.SolidFileClient\r\nconsole.log(\"SFC\", SolidFileClient)\r\nconst fc = new SolidFileClient(auth)\r\n//import loginMixin from '@/mixins/loginMixin'\r\n\r\nexport default {\r\n  name: 'ShareTarget',\r\n  components: {\r\n    'SolidLoginButton': () => import('@/components/solid/SolidLoginButton')\r\n  },\r\n  //  mixins: [loginMixin],\r\n  data: function () {\r\n    return {\r\n      //  webId: {},\r\n      title:\"\",\r\n      text:\"\",\r\n      url: \"\",\r\n      query:  \"\",\r\n      route: \"\",\r\n      valid: false,\r\n      topic: \"\",\r\n      selected: 'public'\r\n    }\r\n  },\r\n  created() {\r\n    this.title = this.$route.query.title\r\n    this.text = this.$route.query.text\r\n    this.url = this.$route.query.url\r\n    this.query  = this.$route.query\r\n    this.params = this.$route.params\r\n    this.fullPath =  this.$route.fullPath\r\n    this.title != undefined || this.text != undefined || this.url != undefined ? this.valid = true : this.valid = false\r\n    console.log(this.$route)\r\n    /*\r\n    if (this.webId == null){\r\n    this.popupLogin()\r\n  }*/\r\n},\r\nwatch: {\r\n  '$route' (to) {\r\n    //  '$route' (to, from) {\r\n    this.title = to.query.title\r\n    this.text = to.query.text\r\n    this.url = to.query.url\r\n    this.query= to.query\r\n    this.params = to.params\r\n    this.fullPath = to.fullPath\r\n    console.log(this.$route.query)\r\n    console.log(to.query)\r\n    this.title != undefined || this.text != undefined || this.url != undefined ? this.valid = true : this.valid = false\r\n\r\n    //    this.updatePod()\r\n  },\r\n  valid(v){\r\n    v == false ? this.$router.push('/bookmarks') : \"\"\r\n  }\r\n},\r\nmethods:{\r\n  async saveBm(){\r\n    if (this.webId != null){\r\n      var date = new Date();\r\n      //  var date = dateObj.toISOString()\r\n      console.log(this.path)\r\n      const bookmarkDoc =    await fc.itemExists( this.path ) ?    await fetchDocument(this.path) : await createDocument(this.path);\r\n      this.topic == \"\" ? this.topic = \"default\" : \"\"\r\n\r\n      //  https://www.w3.org/2002/01/bookmark#recalls\r\n      let subj =   bookmarkDoc.addSubject()\r\n      subj.addLiteral(rdfs.label, this.title)\r\n      subj.addLiteral(sioc.content, this.text)\r\n      subj.addNodeRef(\"http://www.w3.org/2002/01/bookmark#recalls\", this.url)\r\n      subj.addNodeRef(\"http://www.w3.org/2002/01/bookmark#hasTopic\", this.topic)\r\n      subj.addLiteral(dct.created, date)\r\n      subj.addNodeRef(foaf.maker, this.webId)\r\n      subj.addLiteral(dct.created, date)\r\n      subj.addNodeRef(rdf.type, \"http://www.w3.org/2002/01/bookmark#Bookmark\")\r\n      await bookmarkDoc.save();\r\n      this.makeToast(this.title, \"bookmark saved at \"+ this.path, 'success')\r\n      this.title = undefined\r\n      this.text = undefined\r\n      this.url = undefined\r\n      this.valid = false\r\n    }else{\r\n      alert(\"You must first login to your POD !\")\r\n    }\r\n  },\r\n  makeToast(title, content,variant = null) {\r\n    this.$bvToast.toast(content , {\r\n      title: title,\r\n      variant: variant,\r\n      solid: true\r\n    })\r\n  }\r\n},\r\n\r\ncomputed:{\r\n  path(){\r\n    return this.storage != null ? [this.storage.slice(0,-1), this.selected, \"bookmarks\", this.topic+\"/bookmarks.ttl\"].join(\"/\") : \"\"\r\n  },\r\n  webId(){\r\n    return this.$store.state.solid.webId\r\n  },\r\n  storage(){\r\n    return this.$store.state.solid.storage\r\n  },\r\n  /*  folder(){\r\n  return  this.$store.state.solid.folder\r\n}*/\r\n},\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareTarget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareTarget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareTarget.vue?vue&type=template&id=17439bfe&scoped=true&\"\nimport script from \"./ShareTarget.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareTarget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareTarget.vue?vue&type=style&index=0&id=17439bfe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17439bfe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}