(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-987b31c8"],{1048:function(e,t,r){"use strict";var n=r("54f2"),i=r.n(n);i.a},"4de4":function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").filter,s=r("1dde"),o=r("ae40"),a=s("filter"),c=o("filter");n({target:"Array",proto:!0,forced:!a||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"54f2":function(e,t,r){},dc26:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modele-view"},[r("hr",{staticStyle:{margin:"8px auto"}}),r("b-button",{attrs:{variant:"info"},on:{click:function(t){e.editTopic=!e.editTopic}}},[r("b-icon-pen"),e._v(" Interest Topics")],1),r("hr",{staticStyle:{margin:"8px auto"}}),1==e.editTopic?r("div",[r("div",{staticClass:"input-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.interest,expression:"interest"}],staticClass:"form-control",attrs:{id:"interest",type:"text",placeholder:"I'm intersted in...","aria-label":"Interest","aria-describedby":"interest-label"},domProps:{value:e.interest},on:{input:function(t){t.target.composing||(e.interest=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-primary",attrs:{id:"submit_btn",type:"button"},on:{click:e.addInterest}},[e._v("Add "),r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{id:"submit_spinner",hidden:"",role:"status","aria-hidden":"true"}})])])])]):e._e(),e._l(e.interests,(function(t){return r("button",{key:t,staticClass:"btn btn-outline-info btn-sm",attrs:{type:"button"}},[e._v(" "+e._s(t)+" "),1==e.editTopic?r("b-icon-trash-fill",{on:{click:function(r){return r.stopPropagation(),e.delInterest(t)}}}):e._e()],1)}))],2)},i=[],s=(r("4de4"),r("96cf"),r("1da1")),o=r("fd2a"),a=r("4d8d"),c=r("6dc1"),u={name:"ExtendedProfile",mixins:[o["a"]],data:function(){return{interests:[],interest:"",editTopic:!1}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.solid.storage;case 2:t.t0=t.sent,e.profile_url=t.t0+"popock/profile.ttl",e.getOrCreate(e.profile_url),void 0!=e.$route.params.interest&&(e.interest=e.$route.params.interest),e.editTopic=e.interest.length>0;case 7:case"end":return t.stop()}}),t)})))()},watch:{profile_url:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.getOrCreate(e);case 1:case"end":return r.stop()}}),r)})))()}},methods:{getOrCreate:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.makeToast("Get",e),r.next=4,Object(a["b"])(e);case 4:return t.profileDoc=r.sent,r.next=7,t.profileDoc.getSubject(t.profile_url+"#me");case 7:return n=r.sent,r.next=10,n.getAllLiterals(c["b"].topic_interest);case 10:t.interests=r.sent,r.next=19;break;case 13:return r.prev=13,r.t0=r["catch"](0),t.makeToast("Create",e),r.next=18,Object(a["a"])(e);case 18:t.profileDoc=r.sent;case 19:case"end":return r.stop()}}),r,null,[[0,13]])})))()},addInterest:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.interests.push(e.interest),e.profileDoc={},r={},t.prev=3,t.next=6,Object(a["b"])(e.profile_url);case 6:return e.profileDoc=t.sent,t.next=9,e.profileDoc.getSubject(e.profile_url+"#me");case 9:r=t.sent,t.next=20;break;case 12:return t.prev=12,t.t0=t["catch"](3),t.next=16,Object(a["a"])(e.profile_url);case 16:return e.profileDoc=t.sent,t.next=19,e.profileDoc.addSubject(e.profile_url+"#me");case 19:r=t.sent;case 20:return r.addLiteral(c["b"].topic_interest,e.interest),t.next=23,e.profileDoc.save();case 23:e.interest="";case 24:case"end":return t.stop()}}),t,null,[[3,12]])})))()},delInterest:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,Object(a["b"])(t.profile_url);case 3:return t.profileDoc=r.sent,t.interests=t.interests.filter((function(t){return t!=e})),console.log(t.interests,e),r.next=8,t.profileDoc.getSubject(t.profile_url+"#me");case 8:return n=r.sent,n.removeLiteral(c["b"].topic_interest,e),console.log(n),r.next=13,t.profileDoc.save();case 13:case"end":return r.stop()}}),r)})))()}},computed:{webId:function(){return this.$store.state.solid.webId},profile:function(){return this.$store.state.solid.profile},profile_url:{get:function(){return this.$store.state.solid.storage+"public/popock/profile.ttl"},set:function(){}}}},l=u,p=(r("1048"),r("2877")),d=Object(p["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},fd2a:function(e,t,r){"use strict";t["a"]={methods:{makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}}}]);
//# sourceMappingURL=chunk-987b31c8.69be471d.js.map