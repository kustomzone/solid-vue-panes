{"version":3,"sources":["webpack:///./src/components/groups/GroupCreate.vue?4bde","webpack:///src/components/groups/GroupCreate.vue","webpack:///./src/components/groups/GroupCreate.vue?da4f","webpack:///./src/components/groups/GroupCreate.vue","webpack:///./src/mixins/groupsMixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","add","_v","name","model","value","callback","$$v","expression","purpose","parent","url","_s","staticRenderFns","data","mixins","groupsMixin","methods","computed","component","getGroup","group","members","subgroups","fetchDocument","groupDoc","index","findSubject","getLiteral","vcard","fn","getAllNodeRefs","hasMember","makeToast","title","content","variant","$bvToast","toast","solid"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,GAAK,kBAAkB,MAAQ,aAAaC,GAAG,CAAC,GAAKR,EAAIS,MAAM,CAACL,EAAG,eAAe,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,SAAS,CAACP,EAAIU,GAAG,gBAAgBN,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,OAAO,YAAc,OAAOP,EAAIW,MAAMC,MAAM,CAACC,MAAOb,EAAQ,KAAEc,SAAS,SAAUC,GAAMf,EAAIW,KAAKI,GAAKC,WAAW,UAAUZ,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,YAAY,CAACP,EAAIU,GAAG,mBAAmBN,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,YAAc,gCAAgCK,MAAM,CAACC,MAAOb,EAAW,QAAEc,SAAS,SAAUC,GAAMf,EAAIiB,QAAQF,GAAKC,WAAW,aAAaZ,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,WAAW,CAACP,EAAIU,GAAG,0BAA0BN,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,SAAS,YAAc,mBAAmBK,MAAM,CAACC,MAAOb,EAAU,OAAEc,SAAS,SAAUC,GAAMf,EAAIkB,OAAOH,GAAKC,WAAW,YAAYZ,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,QAAQ,CAACP,EAAIU,GAAG,eAAeN,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,MAAM,YAAc,OAAOP,EAAImB,KAAKP,MAAM,CAACC,MAAOb,EAAO,IAAEc,SAAS,SAAUC,GAAMf,EAAImB,IAAIJ,GAAKC,WAAW,UAAU,IAAI,GAAGZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOP,EAAImB,IAAI,OAAS,WAAW,CAACnB,EAAIU,GAAGV,EAAIoB,GAAGpB,EAAImB,SAAS,IAC7rCE,EAAkB,G,sEC4BtB,GACEV,KAAM,cAIRW,KALA,WAMA,OACA,iBACA,WACA,UACMC,OAAQ,CAACC,EAAf,QAGAC,QAAA,CACA,IADA,WACA,2KACA,0BACA,WACA,kBACA,2BAJA,SAMA,uBANA,cAMA,EANA,OAOA,oCACA,+BACA,iDACA,+BACA,mCACA,uCACA,sFACA,sFACA,gFACA,2DACA,oEAjBA,UAsBA,SAtBA,QAuBA,mBAvBA,gDAmCAC,SAAA,CACA,MADA,WAEA,sCAEA,QAJA,WAKA,wCAEA,KACA,wEACA,oBCvFoW,I,YCOhWC,EAAY,eACd,EACA5B,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAM,E,uGCfA,QACbF,QAAS,CACDG,SADC,SACQT,GAAK,8JACdU,EAAQ,CAACC,QAAS,GAAIC,UAAW,IADnB,SAEKC,eAAcb,GAFnB,cAEZc,EAFY,OAGdC,EAAQD,EAASE,cACrBN,EAAMlB,KAAOuB,EAAME,WAAWC,OAAMC,IACpCT,EAAMC,QAAUI,EAAMK,eAAeF,OAAMG,WAC3CX,EAAMZ,QAAUiB,EAAME,WAAW,oCANf,kBAOXP,GAPW,8CASpBY,UAVO,SAUGC,EAAOC,GAAwB,IAAhBC,EAAgB,uDAAN,KACjC3C,KAAK4C,SAASC,MAAMH,EAAU,CAC5BD,MAAOA,EACPE,QAASA,EACTG,OAAO","file":"js/chunk-a3869cec.6458b1b4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-create\"},[_c('b-modal',{attrs:{\"id\":\"new-group-modal\",\"title\":\"New Group\"},on:{\"ok\":_vm.add}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Group Name\")]),_c('b-form-input',{attrs:{\"id\":\"name\",\"placeholder\":'ex: '+_vm.name},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('label',{attrs:{\"for\":\"purpose\"}},[_vm._v(\"Group Purpose\")]),_c('b-form-input',{attrs:{\"id\":\"purpose\",\"placeholder\":\"ex: Build Solid Cool apps...\"},model:{value:(_vm.purpose),callback:function ($$v) {_vm.purpose=$$v},expression:\"purpose\"}}),_c('label',{attrs:{\"for\":\"parent\"}},[_vm._v(\"Parent / Supercircle\")]),_c('b-form-input',{attrs:{\"id\":\"parent\",\"placeholder\":\"ex: Supercircle\"},model:{value:(_vm.parent),callback:function ($$v) {_vm.parent=$$v},expression:\"parent\"}}),_c('label',{attrs:{\"for\":\"url\"}},[_vm._v(\"Group url\")]),_c('b-form-input',{attrs:{\"id\":\"url\",\"placeholder\":'ex: '+_vm.url},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}})],1)],1),_c('a',{attrs:{\"href\":_vm.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.url))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"group-create\">\r\n\r\n    <b-modal id=\"new-group-modal\" title=\"New Group\" @ok=\"add\">\r\n      <b-form-group>\r\n        <label for=\"name\">Group Name</label>\r\n        <b-form-input id=\"name\" v-model=\"name\" :placeholder=\"'ex: '+name\"></b-form-input>\r\n        <label for=\"purpose\">Group Purpose</label>\r\n        <b-form-input id=\"purpose\" v-model=\"purpose\" placeholder=\"ex: Build Solid Cool apps...\"></b-form-input>\r\n        <label for=\"parent\">Parent / Supercircle</label>\r\n        <b-form-input id=\"parent\" v-model=\"parent\" placeholder=\"ex: Supercircle\"></b-form-input>\r\n\r\n        <label for=\"url\">Group url</label>\r\n        <b-form-input id=\"url\" v-model=\"url\" :placeholder=\"'ex: '+url\"></b-form-input>\r\n      </b-form-group>\r\n    </b-modal>\r\n\r\n    <a v-bind:href=\"url\" target=\"_blank\">{{url}}</a>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport { createDocument } from 'tripledoc';\r\nimport { vcard, dct, foaf, ldp} from 'rdf-namespaces' //\r\nimport groupsMixin from '@/mixins/groupsMixin'\r\n//const { namedNode } = require('@rdfjs/data-model');\r\n\r\nexport default {\r\n  name: 'GroupCreate',\r\n  /*  components: {\r\n  'Component': () => import('@/components/Component'),\r\n},*/\r\ndata() {\r\n  return {\r\n    name: \"CoolGroup\",\r\n    purpose: \"\",\r\n    parent: \"\",\r\n      mixins: [groupsMixin],\r\n  }\r\n},\r\nmethods:{\r\n  async add(){\r\n    console.log(this.name, this.url)\r\n    var dateObj = new Date();\r\n    var date = dateObj.toISOString()\r\n    this.path = this.url+this.name+\".ttl\"\r\n    // https://www.w3.org/TR/vocab-org/#org:purpose\r\n    let groupDoc =    await createDocument(this.path);\r\n    let subj =   groupDoc.addSubject({identifier:\"this\"})\r\n    subj.addLiteral(vcard.fn, this.name)\r\n    subj.addNodeRef(ldp.inbox, \"./\"+this.name+\"/inbox/\")\r\n    subj.addLiteral(dct.created, date)\r\n    subj.addNodeRef(foaf.maker, this.webId)\r\n    subj.addNodeRef(vcard.hasMember, this.webId)\r\n    subj.addNodeRef(vcard.hasMember, \"https://spoggy-test4.solid.community/profile/card#me\")\r\n    subj.addNodeRef(vcard.hasMember, \"https://spoggy-test5.solid.community/profile/card#me\")\r\n    subj.addNodeRef(vcard.hasMember, \"https://spoggy.solid.community/profile/card#me\")\r\n    subj.addLiteral('http://www.w3.org/ns/org#purpose', this.purpose)\r\n    subj.addNodeRef(\"http://www.w3.org/ns/org#subOrganizationOf\", this.parent)\r\n\r\n    /*  let indexSubj = chatDoc.addSubject({identifier: index, identifierPrefix: ind_prefix})\r\n    indexSubj.addNodeRef('http://www.w3.org/2005/01/wf/flow#message',subj.asNodeRef())*/\r\n\r\n    await groupDoc.save();\r\n    this.$emit('created')\r\n    /*@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\r\n    @prefix ldp: <http://www.w3.org/ns/ldp#>.\r\n\r\n    <#this> a vcard:Group;\r\n    vcard:fn \"Solid Friends\";\r\n    ldp:inbox <./friend-requests-inbox/>;\r\n    vcard:hasMember <https://friend1.inrupt.net/profile/card#me>;\r\n    vcard:hasMember <https://friend2.inrupt.net/profile/card#me>.*/\r\n\r\n  }\r\n},\r\ncomputed:{\r\n  webId(){\r\n    return this.$store.state.solid.webId\r\n  },\r\n  storage(){\r\n    return this.$store.state.solid.storage\r\n  },\r\n  url:{\r\n    get: function() { return this.$store.state.solid.storage+\"public/groups/\"},\r\n    set: function() {}\r\n  }\r\n},\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupCreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupCreate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupCreate.vue?vue&type=template&id=d05b8834&\"\nimport script from \"./GroupCreate.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupCreate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { fetchDocument } from 'tripledoc';\r\nimport { vcard } from 'rdf-namespaces'\r\n\r\nexport default {\r\n  methods: {\r\n    async getGroup(url) {\r\n      let group = {members: [], subgroups: []}\r\n      const groupDoc = await fetchDocument(url);\r\n      let index = groupDoc.findSubject()\r\n      group.name = index.getLiteral(vcard.fn)\r\n      group.members = index.getAllNodeRefs(vcard.hasMember)\r\n      group.purpose = index.getLiteral('http://www.w3.org/ns/org#purpose')\r\n      return group\r\n    },\r\n    makeToast(title, content,variant = null) {\r\n      this.$bvToast.toast(content , {\r\n        title: title,\r\n        variant: variant,\r\n        solid: true\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}